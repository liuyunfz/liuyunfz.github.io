<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>è¶…æ˜Ÿå­¦ä¹ é€šç½‘è¯¾åˆ†æ</title>
    <link href="/tutorial/python-spider-chaoxing.html"/>
    <url>/tutorial/python-spider-chaoxing.html</url>
    
    <content type="html"><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>ä½œä¸ºä¸€ä¸ªåˆšæ­¥å…¥å¤§å­¦çš„æ–°ç”Ÿï¼Œè·Ÿå…¨å›½å¹¿å¤§çš„å¤§å­¦ç”Ÿä¸€æ ·ï¼Œä¹Ÿå—åˆ°äº†æ¥è‡ªå„ç§å­¦ä¹ è½¯ä»¶çš„è¿«å®³ï¼Œâ€œè¶…æ˜Ÿâ€å°±æ˜¯å…¶ä¸­ä¹‹ä¸€ã€‚å› ä¸ºç–«æƒ…åŠå„ç§å­¦æ ¡å½“åœ°åŸå› ï¼Œæˆ‘ä»¬å­¦æ ¡å†³å®šäºåæœˆå¼€å­¦ï¼Œäºæ˜¯ä¹Ÿå°±å¤šäº†ä¸€ä¸ªå¤šæœˆçš„çº¿ä¸Šå­¦ä¹ æ—¶é—´ã€‚é€šè¿‡å„ç§è…¾è®¯è¯¾å ‚ï¼Œé’‰é’‰ï¼Œè…¾è®¯ä¼šè®®ï¼Œå­¦ä¹ é€šç­‰ç­‰è¿›è¡Œç½‘ç»œæˆè¯¾ã€‚æœŸé—´ä¹Ÿé‡åˆ°äº†å„ç§å®£ä¼ ä»£åˆ·ç½‘è¯¾çš„ï¼Œæœ¬ç€ä»¥é”»ç‚¼è‡ªå·±çˆ¬è™«å®åŠ›ä¸ºç›®çš„ï¼Œåœ¨é—²æš‡ä¹‹ä½™å¼€å§‹ç ”ç©¶è¶…æ˜Ÿçš„ç½‘ç»œåè®®ï¼ˆä¸»è¦ä¸Šé¢æœ‰å¥½å¤šå­¦ä¹ è§†é¢‘ä»»åŠ¡éœ€è¦å®Œæˆï¼‰ã€‚<br>åœ¨æ­¤ä¹Ÿå£°æ˜ä¸€ä¸‹ï¼Œæœ¬æ•™ç¨‹ä»…ä¾›å­¦ä¹ ï¼Œè¯·å‹¿ç”¨äºéæ³•å•†ä¸šç”¨é€”ã€‚åˆ·è¯¾ä¸€æ—¶çˆ½ï¼Œä½†ä¹Ÿä¸è¦å¿˜äº†æŒæ¡å¥½çŸ¥è¯†ï¼Œæœç»æŒ‚ç§‘ã€‚</p><h1 id="æ­£æ–‡"><a href="#æ­£æ–‡" class="headerlink" title="æ­£æ–‡"></a>æ­£æ–‡</h1><h2 id="ç™»é™†"><a href="#ç™»é™†" class="headerlink" title="ç™»é™†"></a>ç™»é™†</h2><h3 id="ç½‘é¡µåˆ†æ"><a href="#ç½‘é¡µåˆ†æ" class="headerlink" title="ç½‘é¡µåˆ†æ"></a>ç½‘é¡µåˆ†æ</h3><p>è¶…æ˜Ÿå¹³å°çš„æ—§ç‰ˆç™»é™†æ˜¯éœ€è¦éªŒè¯ç çš„<img src="https://cdn.jsdelivr.net/gh/liuyunfz/picgo_pictures/chaoxing/1.png" srcset="/img/loading.gif" alt="old_sign_in"><br>ç„¶è€Œé€šè¿‡æ–°ç‰ˆè¿›å»å´ä¸éœ€è¦ç›´æ¥è¾“å…¥éªŒè¯ç ï¼ˆå°šæœªæµ‹è¯•è¿‡å¤šæ¬¡å¯†ç é”™è¯¯åæ˜¯å¦ä¼šå‡ºç°éªŒè¯ç ï¼‰<br><img src="https://cdn.jsdelivr.net/gh/liuyunfz/picgo_pictures/chaoxing/2.png" srcset="/img/loading.gif" alt="new_sign_in"><br>æœ¬ç€èƒ½ç®€åŒ–å°±ç®€åŒ–çš„ç†å¿µï¼ˆä¸»è¦æ˜¯æ‡’ï¼‰ï¼Œæˆ‘ä»¬ç›´æ¥æŠ“å–è¿™ä¸ªæ–°ç‰ˆçš„ç™»é™†é¡µé¢ã€‚<a href="https://passport2.chaoxing.com/login?fid=&newversion=true&refer=http%3A%2F%2Fi.chaoxing.com" target="_blank" rel="noopener">https://passport2.chaoxing.com/login?fid=&amp;newversion=true&amp;refer=http%3A%2F%2Fi.chaoxing.com</a><br>å°è¯•ç™»é™†ï¼Œè€å¥—è·¯äº†ï¼Œé¿å…ç™»é™†æˆåŠŸåè·³è½¬å‡ºç°å¾ˆå¤šåŒ…ï¼Œæˆ‘ä»¬ç›´æ¥è¾“å…¥é”™è¯¯çš„ç™»é™†ä¿¡æ¯ã€‚ç»“æœå¾ˆç¬¦åˆæˆ‘ä»¬çš„é¢„æœŸï¼Œåªå¤šå‡ºäº†ä¸€ä¸ªåŒ…<br><img src="https://cdn.jsdelivr.net/gh/liuyunfz/picgo_pictures/chaoxing/3.png" srcset="/img/loading.gif" alt="post_sign_in"><br>æŸ¥çœ‹é¢„è§ˆï¼Œæ­£å¥½æ˜¯æç¤ºæˆ‘ä»¬çš„â€œç”¨æˆ·åæˆ–å¯†ç é”™è¯¯â€ï¼Œæˆ‘ä»¬æŸ¥çœ‹æäº¤çš„è¡¨å•ï¼Œä¸€ä¸ªä¸ªæ¥åˆ†æã€‚<br><img src="https://cdn.jsdelivr.net/gh/liuyunfz/picgo_pictures/chaoxing/4.png" srcset="/img/loading.gif" alt="post_form_sign_in"></p><div class="hljs"><pre><code class="hljs plain">fid: -1uname: 11011110010password: bGl1eXVuZno&#x3D;refer: http%3A%2F%2Fi.chaoxing.comt: true</code></pre></div><p>ä¸ç®¡fidï¼Œ-1åº”è¯¥æ˜¯ä¸€ä¸ªå¸¸é‡ã€‚unameæ­£å¥½æ˜¯æˆ‘ä»¬è¾“å…¥çš„æ‰‹æœºå·ã€‚passwordç»“å°¾æœ‰â€œ=â€ï¼Œæˆ‘ä»¬å¤§èƒ†çŒœæµ‹æ˜¯base64ç¼–ç <br><img src="https://cdn.jsdelivr.net/gh/liuyunfz/picgo_pictures/chaoxing/5.png" srcset="/img/loading.gif" alt="post_form_password"><br>æ­£å¥½æ˜¯æˆ‘ä»¬è¾“å…¥çš„å¯†ç ï¼Œé‚£ä¹ˆpasswordä¹Ÿæå®šäº†ã€‚tæ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œä¹Ÿä½œä¸ºå¸¸é‡ï¼Œreferæˆ‘å°±ä¸å¤šè§£é‡Šäº†ï¼Œä¹ŸæŠŠå®ƒä½œä¸ºå¸¸é‡å§ã€‚</p><h3 id="ä»£ç æ’°å†™"><a href="#ä»£ç æ’°å†™" class="headerlink" title="ä»£ç æ’°å†™"></a>ä»£ç æ’°å†™</h3><p>ç…§ç€æˆ‘ä»¬çš„åˆ†æï¼Œæˆ‘ä»¬å°è¯•åˆ©ç”¨pythonä»£ç æ¨¡æ‹Ÿæˆ‘ä»¬çš„ç™»é™†æ“ä½œã€‚</p><div class="hljs"><pre><code class="hljs python"><span class="hljs-keyword">import</span> requests,base64<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">sign_in</span><span class="hljs-params">(username:str,password:str)</span>:</span>    url=<span class="hljs-string">"https://passport2.chaoxing.com/fanyalogin"</span>    headers=&#123;        <span class="hljs-string">'Accept'</span>:<span class="hljs-string">'application/json, text/javascript, */*; q=0.01'</span>,        <span class="hljs-string">'Accept-Encoding'</span>:<span class="hljs-string">'gzip, deflate, br'</span>,        <span class="hljs-string">'Accept-Language'</span>:<span class="hljs-string">'zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6'</span>,        <span class="hljs-string">'Connection'</span>:<span class="hljs-string">'keep-alive'</span>,        <span class="hljs-string">'Content-Length'</span>:<span class="hljs-string">'95'</span>,        <span class="hljs-string">'Content-Type'</span>:<span class="hljs-string">'application/x-www-form-urlencoded; charset=UTF-8'</span>,        <span class="hljs-string">'Cookie'</span>:<span class="hljs-string">''</span>,        <span class="hljs-string">'Host'</span>:<span class="hljs-string">'passport2.chaoxing.com'</span>,        <span class="hljs-string">'Origin'</span>:<span class="hljs-string">'https://passport2.chaoxing.com'</span>,        <span class="hljs-string">'Referer'</span>:<span class="hljs-string">'https://passport2.chaoxing.com/login?fid=&amp;newversion=true&amp;refer=http%3A%2F%2Fi.chaoxing.com'</span>,        <span class="hljs-string">'Sec-Fetch-Dest'</span>:<span class="hljs-string">'empty'</span>,        <span class="hljs-string">'Sec-Fetch-Mode'</span>:<span class="hljs-string">'cors'</span>,        <span class="hljs-string">'Sec-Fetch-Site'</span>:<span class="hljs-string">'same-origin'</span>,        <span class="hljs-string">'User-Agent'</span>:<span class="hljs-string">'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.193 Safari/537.36 Edg/86.0.622.68'</span>,        <span class="hljs-string">'X-Requested-With'</span>:<span class="hljs-string">'XMLHttpRequest'</span>    &#125;    data=<span class="hljs-string">"fid=-1&amp;uname=&#123;0&#125;&amp;password=&#123;1&#125;&amp;refer=http%253A%252F%252Fi.chaoxing.com&amp;t=true"</span>.format(username,base64.b64encode(password.encode()).decode())    print(base64.b64encode(password.encode()).decode())    rsp=requests.post(url=url,headers=headers,data=data)    print(rsp.text,rsp.status_code)</code></pre></div><p>è°ƒè¯•ä¸€ä¸‹ï¼Œæˆ‘è¿™é‡ŒæŠŠç§å¯†ä¿¡æ¯æ‰“äº†é©¬èµ›å…‹ï¼Œä½†ä¸å½±å“çœ‹å‡ºæˆåŠŸã€‚<br><img src="https://cdn.jsdelivr.net/gh/liuyunfz/picgo_pictures/chaoxing/6.png" srcset="/img/loading.gif" alt="function_sign_in"><br>ä¸ºäº†åç»­å†…å®¹çš„é¡ºåˆ©è¿›è¡Œï¼Œè¿™è¾¹æˆ‘ä»¬å†æŠŠç™»é™†æˆåŠŸçš„cookieè®°å½•ä¸‹æ¥</p><div class="hljs"><pre><code class="hljs python">cookieStr = <span class="hljs-string">''</span>     <span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> rsp.cookies:        cookieStr = cookieStr + item.name + <span class="hljs-string">'='</span> + item.value + <span class="hljs-string">';'</span>    print(cookieStr)</code></pre></div><p><img src="https://cdn.jsdelivr.net/gh/liuyunfz/picgo_pictures/chaoxing/7.png" srcset="/img/loading.gif" alt="cookie_sign_in"></p><h2 id="è·å–è¯¾ç¨‹"><a href="#è·å–è¯¾ç¨‹" class="headerlink" title="è·å–è¯¾ç¨‹"></a>è·å–è¯¾ç¨‹</h2><h3 id="ç½‘é¡µåˆ†æ-1"><a href="#ç½‘é¡µåˆ†æ-1" class="headerlink" title="ç½‘é¡µåˆ†æ"></a>ç½‘é¡µåˆ†æ</h3><h4 id="æŠ“å–è¯¾ç¨‹ä¿¡æ¯"><a href="#æŠ“å–è¯¾ç¨‹ä¿¡æ¯" class="headerlink" title="æŠ“å–è¯¾ç¨‹ä¿¡æ¯"></a>æŠ“å–è¯¾ç¨‹ä¿¡æ¯</h4><p>å› ä¸ºä¸èƒ½ç¡®å®šä¸ªäººç©ºé—´é‡Œé¢çš„è¯¾ç¨‹å†…å®¹æ˜¯é€šè¿‡jsonè·å–æ•°æ®åœ¨æœ¬åœ°æ¸²æŸ“çš„è¿˜æ˜¯æœåŠ¡å™¨å°±æ¸²æŸ“å¥½åä¼ ç»™ç”¨æˆ·çš„ã€‚æ‰€ä»¥æˆ‘ä»¬è¿˜æ˜¯æŠ“åŒ…çœ‹çœ‹ã€‚<br><img src="https://cdn.jsdelivr.net/gh/liuyunfz/picgo_pictures/chaoxing/8.png" srcset="/img/loading.gif" alt="post_zone"><br>æŸ¥æ‰¾æˆ‘ä»¬çš„è¯¾ç¨‹ï¼Œå‘ç°åœ¨æºä»£ç é‡Œå¹¶æ²¡æœ‰æ‰¾åˆ°ï¼Œæ‰€ä»¥å¤§æ¦‚ç‡æ˜¯ç¬¬ä¸€ç§å¯èƒ½ï¼Œæ‰€ä»¥æˆ‘ä»¬å°è¯•å¾€ä¸‹æ‰¾ä¼ é€’è¯¾ç¨‹æ•°æ®çš„jsonåŒ…ã€‚<br><img src="https://cdn.jsdelivr.net/gh/liuyunfz/picgo_pictures/chaoxing/9.png" srcset="/img/loading.gif" alt="post_zone_true"><br>å¯ä»¥çœ‹åˆ°ï¼ŒæˆåŠŸæ‰¾åˆ°äº†æˆ‘ä»¬è¦çš„æ•°æ®åŒ…ï¼Œå¯æƒœå¹¶ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„jsonåŒ…ï¼Œä½†é—®é¢˜ä¹Ÿä¸å¤§ï¼Œåªæ˜¯å¢åŠ äº†æˆ‘ä»¬ä»£ç è§£ææ—¶çš„å¤æ‚åº¦ã€‚ç„¶åå…·ä½“çœ‹æˆ‘ä»¬æŠ“åˆ°çš„è¿™ä¸ªè¯¾ç¨‹æ•°æ®åŒ…ï¼Œè¯·æ±‚æ–¹å¼ä¸ºgetï¼Œå”¯ä¸€éº»çƒ¦çš„æ˜¯å‚æ•°s<br><img src="https://cdn.jsdelivr.net/gh/liuyunfz/picgo_pictures/chaoxing/10.png" srcset="/img/loading.gif" alt="get_course"><br>è¿™ä¸ªså‚æ•°è‚¯å®šä¸ä¼šæ— æ•…å‡ºç°ï¼Œæ‰€ä»¥æˆ‘ä»¬å¾€å‰å¯»æ‰¾æœ‰æ²¡æœ‰å‰é¢å°±ç»™å‡ºäº†è¿™ä¸ªåœ°å€çš„ï¼Œæˆ‘ä»¬ä»æœ€å‰é¢æ‰¾ï¼Œçœ‹çœ‹æœ€åˆçš„é‚£ä¸ªç©ºé—´åœ°å€åŒ…é‡Œé¢æœ‰æ²¡æœ‰è¿™ä¸ªåœ°å€ã€‚<br>ç„¶è€Œæ­£å½“æˆ‘æ‰“ç®—å°è¯•æ—¶ï¼Œæˆ‘å‘ç°æŠŠså‚æ•°å»æ‰äº†ä¸€æ ·å¯ä»¥æ­£å¸¸è®¿é—®æˆ‘ä»¬çš„è¯¾ç¨‹æ•°æ®<code>http://mooc1-2.chaoxing.com/visit/courses</code><br><img src="https://cdn.jsdelivr.net/gh/liuyunfz/picgo_pictures/chaoxing/11.png" srcset="/img/loading.gif" alt="get_course_withNoS"><br>é‚£ä¹ˆä¸ºäº†å°½å¯èƒ½ç®€åŒ–ï¼Œæˆ‘ä»¬è¿˜æ˜¯èƒ½å·æ‡’å°±å·æ‡’ã€‚<br>ç„¶åæˆ‘ä»¬è·³åˆ°ä»£ç é˜¶æ®µï¼Œå…ˆè¯•è¯•å‰é¢çš„cookieèƒ½å¦æ­£å¸¸ä½¿ç”¨ï¼Œå¹¶ä¸”è¯»å–åˆ°è¿™ä¸ªè¯¾ç¨‹ç½‘é¡µçš„ä¿¡æ¯ã€‚</p><p><a href="#å°è¯•cookieä¸è¯»å–è¯¾ç¨‹ä¿¡æ¯">ç‚¹æˆ‘è·³è½¬</a></p><h4 id="è§£æè¯¾ç¨‹ä¿¡æ¯"><a href="#è§£æè¯¾ç¨‹ä¿¡æ¯" class="headerlink" title="è§£æè¯¾ç¨‹ä¿¡æ¯"></a>è§£æè¯¾ç¨‹ä¿¡æ¯</h4><p>å› ä¸ºè¯¾ç¨‹æ•°æ®å·²ç»åœ¨<a href="http://mooc1-2.chaoxing.com/visit/courses" target="_blank" rel="noopener">http://mooc1-2.chaoxing.com/visit/courses</a> è¿™ä¸ªåŒ…é‡Œç»™å‡ºäº†ï¼Œä½†å®ƒåˆä¸æ˜¯ä¸€ä¸ªjsonï¼Œæ‰€ä»¥æˆ‘ä»¬æŠŠå®ƒä½œä¸ºä¸€ä¸ªå•ç‹¬çš„ç½‘é¡µæ¥è¿›è¡Œç»“æ„åˆ†æã€‚<br><img src="https://cdn.jsdelivr.net/gh/liuyunfz/picgo_pictures/chaoxing/13.png" srcset="/img/loading.gif" alt="post_deal_data"><br>å¯ä»¥çœ‹åˆ°è¯¾ç¨‹æ˜¯ä¸€ä¸ªulç»“æ„ä¸‹çš„å¤šä¸ªliæ„æˆçš„ã€‚æˆ‘ä»¬éœ€è¦çš„é‡Œé¢æ¯ä¸ªè¯¾ç¨‹çš„<code>courseId</code> <code>classId</code>ä¸å¯¹åº”è·³è½¬çš„url(å› ä¸ºurlé‡ŒåŒ…å«äº†courseidä¸classidï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€‰æ‹©ä¸€æ˜¯é€šè¿‡xpathå…ˆå‚¨å­˜å¹¶å…³è”urlä¸å¯¹åº”çš„è¯¾ç¨‹idï¼›äº¦æˆ–æ˜¯åªè·å–urlï¼Œåé¢å†ä»urlé‡Œè¯»å–å‚æ•°courseidï¼Œclassidç­‰)ã€‚é€‰ä¸­æˆ‘ä»¬è¦çš„å…ƒç´ ï¼Œå³é”®å¤åˆ¶xpathã€‚<br><img src="https://cdn.jsdelivr.net/gh/liuyunfz/picgo_pictures/chaoxing/14.png" srcset="/img/loading.gif" alt="html_xpath"><br>è¿™é‡Œæˆ‘é€‰æ‹©äº†ç¬¬äºŒç§æ–¹æ¡ˆï¼Œåªè·å–urlï¼Œcourseidä»urlä¸­è¯»å–ã€‚æˆ‘ä»¬ç»§ç»­è·³åˆ°ä»£ç æ­¥éª¤ã€‚ </p><p><a href="#è¯¾ç¨‹xpathä¹¦å†™ä¸é‡å®šå‘é—®é¢˜">ç‚¹æˆ‘è·³è½¬</a> </p><h3 id="ä»£ç æ’°å†™-1"><a href="#ä»£ç æ’°å†™-1" class="headerlink" title="ä»£ç æ’°å†™"></a>ä»£ç æ’°å†™</h3><h4 id="å°è¯•cookieä¸è¯»å–è¯¾ç¨‹ä¿¡æ¯"><a href="#å°è¯•cookieä¸è¯»å–è¯¾ç¨‹ä¿¡æ¯" class="headerlink" title="å°è¯•cookieä¸è¯»å–è¯¾ç¨‹ä¿¡æ¯"></a>å°è¯•cookieä¸è¯»å–è¯¾ç¨‹ä¿¡æ¯</h4><p>å°†ç™»é™†è·å–åˆ°çš„cookieåˆå¹¶æˆcookiestråä¼ å…¥è·å–è¯¾ç¨‹ä¿¡æ¯çš„å‡½æ•°</p><div class="hljs"><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_course</span><span class="hljs-params">(cookie:str)</span>:</span>    course_headers=&#123;        <span class="hljs-string">'Cookie'</span>:cookie,        <span class="hljs-string">'User-Agent'</span>:<span class="hljs-string">'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/85.0.4183.102 Safari/537.36 Edg/85.0.564.51'</span>    &#125;    course_rsp=requests.get(url=<span class="hljs-string">"http://mooc1-2.chaoxing.com/visit/courses"</span>,headers=course_headers)    print(course_rsp.text)</code></pre></div><p><img src="https://cdn.jsdelivr.net/gh/liuyunfz/picgo_pictures/chaoxing/12.png" srcset="/img/loading.gif" alt="funtion_get_course"><br>å¯ä»¥çœ‹åˆ°ï¼ŒæˆåŠŸè·å–åˆ°äº†è¯¾ç¨‹ä¿¡æ¯ï¼ŒåŒæ—¶ä¹Ÿå°è¯äº†æˆ‘ä»¬å‰é¢ç™»å½•å‡½æ•°çš„å¯è¡Œæ€§ã€‚<br>ä¹‹åå›åˆ°ç½‘é¡µï¼Œæˆ‘ä»¬ç»§ç»­åˆ†æç½‘é¡µç»“æ„ï¼Œä½¿pythonå¯ä»¥è§£ææˆ‘ä»¬çš„æ‰€æœ‰è¯¾ç¨‹åŠç›¸å…³ä¿¡æ¯ã€‚  </p><p><a href="#è§£æè¯¾ç¨‹ä¿¡æ¯">ç‚¹æˆ‘è·³è½¬</a>  </p><h4 id="è¯¾ç¨‹xpathä¹¦å†™ä¸é‡å®šå‘é—®é¢˜"><a href="#è¯¾ç¨‹xpathä¹¦å†™ä¸é‡å®šå‘é—®é¢˜" class="headerlink" title="è¯¾ç¨‹xpathä¹¦å†™ä¸é‡å®šå‘é—®é¢˜"></a>è¯¾ç¨‹xpathä¹¦å†™ä¸é‡å®šå‘é—®é¢˜</h4><div class="hljs"><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_course</span><span class="hljs-params">(cookie:str)</span>:</span>    course_headers=&#123;        <span class="hljs-string">'Cookie'</span>:cookie,        <span class="hljs-string">'User-Agent'</span>:<span class="hljs-string">'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/85.0.4183.102 Safari/537.36 Edg/85.0.564.51'</span>    &#125;    course_rsp=requests.get(url=<span class="hljs-string">"http://mooc1-2.chaoxing.com/visit/courses"</span>,headers=course_headers)    <span class="hljs-keyword">if</span> course_rsp.status_code==<span class="hljs-number">200</span>:        <span class="hljs-keyword">from</span> lxml <span class="hljs-keyword">import</span> etree        class_HTML=etree.HTML(course_rsp.text)        print(<span class="hljs-string">"å¤„ç†æˆåŠŸï¼Œæ‚¨å½“å‰å·²å¼€å¯çš„è¯¾ç¨‹å¦‚ä¸‹ï¼š\n"</span>)        i=<span class="hljs-number">0</span>        <span class="hljs-keyword">global</span> course_dict        course_dict=&#123;&#125;        <span class="hljs-keyword">for</span> class_item <span class="hljs-keyword">in</span> class_HTML.xpath(<span class="hljs-string">"/html/body/div/div[2]/div[3]/ul/li[@class='courseItem curFile']"</span>):            <span class="hljs-comment">#courseid=class_item.xpath("./input[@name='courseId']/@value")[0]</span>            <span class="hljs-comment">#classid=class_item.xpath("./input[@name='classId']/@value")[0]</span>            <span class="hljs-keyword">try</span>:                              class_item_name=class_item.xpath(<span class="hljs-string">"./div[2]/h3/a/@title"</span>)[<span class="hljs-number">0</span>]                <span class="hljs-comment">#ç­‰å¾…å¼€è¯¾çš„è¯¾ç¨‹ç”±äºå°šæœªå¯¹åº”é“¾æ¥ï¼Œæ‰€æœ‰ç¼ºå°‘aæ ‡ç­¾ã€‚</span>                i+=<span class="hljs-number">1</span>                print(class_item_name)                course_dict[i]=[class_item_name,<span class="hljs-string">"https://mooc1-2.chaoxing.com&#123;&#125;"</span>.format(class_item.xpath(<span class="hljs-string">"./div[1]/a[1]/@href"</span>)[<span class="hljs-number">0</span>])]            <span class="hljs-keyword">except</span>:                <span class="hljs-keyword">pass</span>        print(<span class="hljs-string">"â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”"</span>)    <span class="hljs-keyword">else</span>:        print(<span class="hljs-string">"error:è¯¾ç¨‹å¤„ç†å¤±è´¥"</span>)</code></pre></div><p><img src="https://cdn.jsdelivr.net/gh/liuyunfz/picgo_pictures/chaoxing/15.png" srcset="/img/loading.gif" alt="code_xpath"><br>è¯¾ç¨‹è¯»å–æˆåŠŸäº†ï¼Œè¯¾ç¨‹çš„urlä¸nameä¹Ÿä½œä¸ºlistè¢«æˆ‘ä»¬å…³è”å‚¨å­˜åˆ°äº†course_dictè¿™ä¸ªdictä¸­(ä¸ºäº†ä½¿åºå·ä¸è¯¾ç¨‹è¿›è¡Œå…³è”ï¼Œå¹¶ä¸”ä¿æŒæœ‰åºæ€§)<br>è¯¾ç¨‹è·å–å®Œåæˆ‘ä»¬å°±å¯ä»¥å¼€å§‹é’ˆå¯¹å•ä¸ªè¯¾ç¨‹ï¼Œè¯»å–é‡Œé¢çš„å¾…å®Œæˆè§†é¢‘ä»»åŠ¡æ·»åŠ åˆ°ç¨‹åºä»»åŠ¡é‡Œã€‚ç„¶è€Œï¼Œä»”ç»†è§‚å¯Ÿæˆ‘ä»¬ä»htmlé‡Œè·å–åˆ°çš„url<br><img src="https://cdn.jsdelivr.net/gh/liuyunfz/picgo_pictures/chaoxing/16.png" srcset="/img/loading.gif" alt="before_url"><br>ä¸æˆ‘ä»¬æ‰‹åŠ¨è®¿é—®è¯¾ç¨‹è·å–çš„url<br><img src="https://cdn.jsdelivr.net/gh/liuyunfz/picgo_pictures/chaoxing/17.png" srcset="/img/loading.gif" alt="after_url"><br>å‘ç°ä¸¤è€…å¹¶ä¸ç›¸åŒï¼Œæˆ‘ä»¬å°è¯•è®¿é—®htmlé‡Œçš„urlï¼Œç„¶åæŠ“åŒ…çœ‹å‘ç”Ÿäº†ä»€ä¹ˆ<br><img src="https://cdn.jsdelivr.net/gh/liuyunfz/picgo_pictures/chaoxing/18.png" srcset="/img/loading.gif" alt="status_302"><br>ä¸å‡ºæ‰€æ–™ï¼Œæœç„¶urlå‘ç”Ÿäº†302é‡å®šå‘ã€‚<br>æœ¬æ¥requestsåº“æ˜¯ä¼šè¯†åˆ«302å¹¶è‡ªåŠ¨è·Ÿéšè·³è½¬çš„ï¼Œä½†ä¸çŸ¥é“ä¸ºä»€ä¹ˆæˆ‘è¿™é‡Œå‡ºç°äº†é”™è¯¯ï¼Œå¹¶æœªè·Ÿéšè·³è½¬ï¼Œç”šè‡³è®©æˆ‘ä¸€åº¦æ€€ç–‘é—®é¢˜å‡ºåœ¨äº†cookieä¸Šã€‚</p><div class="hljs"><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">deal_course</span><span class="hljs-params">(url:str)</span>:</span>    course_302_url=url    course_headers=&#123;        <span class="hljs-string">'Accept'</span>:<span class="hljs-string">'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9'</span>,        <span class="hljs-string">'Accept-Encoding'</span>:<span class="hljs-string">'gzip, deflate, br'</span>,        <span class="hljs-string">'Accept-Language'</span>:<span class="hljs-string">'zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6'</span>,        <span class="hljs-string">'Connection'</span>:<span class="hljs-string">'keep-alive'</span>,        <span class="hljs-string">'Cookie'</span>:cookieStr,        <span class="hljs-string">'Host'</span>:<span class="hljs-string">'mooc1-2.chaoxing.com'</span>,        <span class="hljs-string">'Sec-Fetch-Dest'</span>:<span class="hljs-string">'document'</span>,        <span class="hljs-string">'Sec-Fetch-Mode'</span>:<span class="hljs-string">'navigate'</span>,        <span class="hljs-string">'Sec-Fetch-Site'</span>:<span class="hljs-string">'none'</span>,        <span class="hljs-string">'Upgrade-Insecure-Requests'</span>:<span class="hljs-string">'1'</span>,        <span class="hljs-string">'User-Agent'</span>:<span class="hljs-string">'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/85.0.4183.102 Safari/537.36 Edg/85.0.564.51'</span>    &#125;    <span class="hljs-comment">#302è·³è½¬ï¼Œrequestsåº“é»˜è®¤è¿½è¸ªheadersé‡Œçš„locationè¿›è¡Œè·³è½¬ï¼Œä½¿ç”¨allow_redirects=False</span>    course_302_rsp=requests.get(url=course_302_url,headers=course_headers,allow_redirects=<span class="hljs-literal">False</span>)    new_url=course_302_rsp.headers[<span class="hljs-string">'Location'</span>]</code></pre></div><p>è¿™æ ·ï¼Œåªéœ€è¦å°†htmlé‡Œè·å–åˆ°çš„urlä¼ å…¥åˆ°è¿™ä¸ªå‡½æ•°é‡Œï¼Œnew_urlå°±æ˜¯æˆ‘ä»¬è¦çš„çœŸæ­£çš„è¯¾ç¨‹åœ°å€äº†ã€‚<br>çœŸæ­£çš„è¯¾ç¨‹åœ°å€è·å–å®Œæˆäº†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬ç»§ç»­å›åˆ°ç½‘ç»œåˆ†æï¼Œåˆ†æå•ä¸ªè¯¾ç¨‹ä¸­æˆ‘ä»¬éœ€è¦å®Œæˆçš„ä»»åŠ¡ã€‚ </p><h2 id="è¯¾ç¨‹ä»»åŠ¡"><a href="#è¯¾ç¨‹ä»»åŠ¡" class="headerlink" title="è¯¾ç¨‹ä»»åŠ¡"></a>è¯¾ç¨‹ä»»åŠ¡</h2><h3 id="åˆ†æç½‘é¡µ"><a href="#åˆ†æç½‘é¡µ" class="headerlink" title="åˆ†æç½‘é¡µ"></a>åˆ†æç½‘é¡µ</h3><p>ä»»æ„è¿›å…¥åˆ°ä¸€ä¸ªè¯¾ç¨‹ä¸­ï¼Œé€šè¿‡è§‚å¯Ÿå¯ä»¥å‘ç°ï¼šç™½è‰²æ— å†…å®¹çš„â€”â€”æ²¡æœ‰ä»»åŠ¡ï¼›æ©™è‰²æœ‰æ•°å­—çš„â€”â€”æ•°å­—ä»£è¡¨è¯¥ç« èŠ‚çš„ä»»åŠ¡æ•°ï¼›ç»¿è‰²å‹¾å‹¾çš„â€”â€”æœ‰ä»»åŠ¡ä½†å·²å®Œæˆäº†çš„ã€‚<br><img src="https://cdn.jsdelivr.net/gh/liuyunfz/picgo_pictures/chaoxing/19.png" srcset="/img/loading.gif" alt="misson_html"><br>åˆ·æ–°ä¸€ä¸‹ï¼Œå‘ç°è¯¥è¯¾ç¨‹åœ°å€å°±å·²ç»ç»™å‡ºäº†ç›¸å…³çš„ç« èŠ‚ä¿¡æ¯ï¼Œå³åœ¨æœåŠ¡ç«¯å·²ç»æ¸²æŸ“å¥½äº†å†ä¼ è¾“åˆ°ç”¨æˆ·ç«¯ï¼Œå¹¶æ²¡æœ‰é¢å¤–çš„jsonæ•°æ®åŒ…ã€‚<br><img src="https://cdn.jsdelivr.net/gh/liuyunfz/picgo_pictures/chaoxing/20.png" srcset="/img/loading.gif" alt="post_course_html"><br>æ‰€ä»¥æˆ‘ä»¬ç›´æ¥å³é”®â€œæ£€æŸ¥â€ï¼ŒæŸ¥çœ‹ç½‘é¡µå…ƒç´ ã€‚<br><img src="https://cdn.jsdelivr.net/gh/liuyunfz/picgo_pictures/chaoxing/21.png" srcset="/img/loading.gif" alt="course_html_element"><br>æ‰¾è§„å¾‹å¯ä»¥å‘ç°ï¼Œæ­£å¸¸çš„æ²¡æœ‰è¯¾ç¨‹ä»»åŠ¡çš„ï¼Œemå…ƒç´ çš„classæ˜¯â€œblankâ€ï¼Œå¦‚æœæœ‰ä»»åŠ¡ä½†å·²å®Œæˆåˆ™æ˜¯â€œopenlockâ€ï¼Œå¦‚æœæœ‰ä»»åŠ¡ä½†æœªå®Œæˆåˆ™classä¸ºâ€œorangeâ€ï¼Œä¸”å…¶textä¸ºä»»åŠ¡æ•°ã€‚<br>çŸ¥é“äº†è¿™ä¸ªï¼Œæˆ‘ä»¬å°±å¥½å†™äº†ï¼Œåªéœ€è¦åˆ¤æ–­emå…ƒç´ classå±æ€§æ˜¯orangeçš„ï¼Œå¹¶æŠŠå®ƒå¯¹åº”çš„urlå†™å…¥æˆ‘ä»¬çš„ä»»åŠ¡åˆ—è¡¨é‡Œã€‚æ‰€ä»¥æ¥ä¸‹æ¥å›åˆ°ä»£ç ç¯èŠ‚  </p><h3 id="ä»£ç ç¼–å†™"><a href="#ä»£ç ç¼–å†™" class="headerlink" title="ä»£ç ç¼–å†™"></a>ä»£ç ç¼–å†™</h3><p>ç« èŠ‚ä¿¡æ¯åˆ¤æ–­ä¸æœªå®Œæˆä»»åŠ¡è¯»å–<br>é€šè¿‡ä¸Šé¢çš„åˆ†æï¼Œä»¥åŠè¯¾ç¨‹ä¿¡æ¯urlçš„è·å–ï¼Œå°†å…¶ä¼ å…¥çš„requestsï¼Œè·å–æºä»£ç åå³å¯è¿›è¡Œåˆ¤æ–­å¤„ç†ã€‚</p><div class="hljs"><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">add_misson</span><span class="hljs-params">(url:str)</span>:</span>    course_headers=&#123;        <span class="hljs-string">'Accept'</span>:<span class="hljs-string">'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9'</span>,        <span class="hljs-string">'Accept-Encoding'</span>:<span class="hljs-string">'gzip, deflate, br'</span>,        <span class="hljs-string">'Accept-Language'</span>:<span class="hljs-string">'zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6'</span>,        <span class="hljs-string">'Connection'</span>:<span class="hljs-string">'keep-alive'</span>,        <span class="hljs-string">'Cookie'</span>:cookieStr,        <span class="hljs-string">'Host'</span>:<span class="hljs-string">'mooc1-2.chaoxing.com'</span>,        <span class="hljs-string">'Sec-Fetch-Dest'</span>:<span class="hljs-string">'document'</span>,        <span class="hljs-string">'Sec-Fetch-Mode'</span>:<span class="hljs-string">'navigate'</span>,        <span class="hljs-string">'Sec-Fetch-Site'</span>:<span class="hljs-string">'none'</span>,        <span class="hljs-string">'Upgrade-Insecure-Requests'</span>:<span class="hljs-string">'1'</span>,        <span class="hljs-string">'User-Agent'</span>:<span class="hljs-string">'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/85.0.4183.102 Safari/537.36 Edg/85.0.564.51'</span>    &#125;    course_rsp=requests.get(url=url,headers=course_headers)    course_HTML=etree.HTML(course_rsp.text)    <span class="hljs-comment">#ä¸ºé˜²æ­¢è´¦å·æ²¡æœ‰è¯¾ç¨‹æˆ–æ²¡æœ‰ç­çº§ï¼Œéœ€è¦åæœŸåœ¨xpathè·å–åŠ å…¥tryï¼Œä»¥é˜²æŠ¥é”™</span>    chapter_mission=[]    <span class="hljs-keyword">try</span>:        <span class="hljs-keyword">for</span> course_unit <span class="hljs-keyword">in</span> course_HTML.xpath(<span class="hljs-string">"/html/body/div[5]/div[1]/div[2]/div[3]/div"</span>):            print(course_unit.xpath(<span class="hljs-string">"./h2/a/@title"</span>)[<span class="hljs-number">0</span>])            <span class="hljs-keyword">for</span> chapter_item <span class="hljs-keyword">in</span> course_unit.xpath(<span class="hljs-string">"./div"</span>):                chapter_status=chapter_item.xpath(<span class="hljs-string">"./h3/span[@class='icon']/em/@class"</span>)[<span class="hljs-number">0</span>]                <span class="hljs-keyword">if</span> chapter_status == <span class="hljs-string">"orange"</span>:                    print(<span class="hljs-string">"----"</span>,chapter_item.xpath(<span class="hljs-string">"./h3/span[@class='articlename']/a/@title"</span>)[<span class="hljs-number">0</span>],<span class="hljs-string">"      "</span>,chapter_item.xpath(<span class="hljs-string">"./h3/span[@class='icon']/em/text()"</span>)[<span class="hljs-number">0</span>])                    chapter_mission.append(<span class="hljs-string">"https://mooc1-2.chaoxing.com&#123;&#125;"</span>.format(chapter_item.xpath(<span class="hljs-string">"./h3/span[@class='articlename']/a/@href"</span>)[<span class="hljs-number">0</span>]))                <span class="hljs-keyword">else</span>:                        print(<span class="hljs-string">"----"</span>,chapter_item.xpath(<span class="hljs-string">"./h3/span[@class='articlename']/a/@title"</span>)[<span class="hljs-number">0</span>],<span class="hljs-string">"      "</span>,chapter_item.xpath(<span class="hljs-string">"./h3/span[@class='icon']/em/@class"</span>)[<span class="hljs-number">0</span>])    <span class="hljs-keyword">except</span>:        <span class="hljs-keyword">pass</span>    print(<span class="hljs-string">"è¯¾ç¨‹è¯»å–å®Œæˆï¼Œå…±æœ‰%dä¸ªç« èŠ‚å¯ä¸€é”®å®Œæˆ"</span>%len(chapter_mission))</code></pre></div><p><img src="https://cdn.jsdelivr.net/gh/liuyunfz/picgo_pictures/chaoxing/22.png" srcset="/img/loading.gif" alt="function_add_misson"></p><h2 id="è§†é¢‘ä»»åŠ¡ç‚¹"><a href="#è§†é¢‘ä»»åŠ¡ç‚¹" class="headerlink" title="è§†é¢‘ä»»åŠ¡ç‚¹"></a>è§†é¢‘ä»»åŠ¡ç‚¹</h2><p>å› ä¸ºè¦å®ç°çš„æ˜¯ä¸€é”®åˆ·è¯¾ç¨‹è§†é¢‘ï¼Œæ‰€ä»¥æ¥ä¸‹æ¥æˆ‘ä»¬è¦è¯»å–çš„æ˜¯ç« èŠ‚ä»»åŠ¡é‡Œé¢çš„è§†é¢‘ä»»åŠ¡ç‚¹ã€‚</p><h3 id="ç½‘é¡µåˆ†æ-2"><a href="#ç½‘é¡µåˆ†æ-2" class="headerlink" title="ç½‘é¡µåˆ†æ"></a>ç½‘é¡µåˆ†æ</h3><p>è¿˜æ˜¯è€æ ·å­ï¼Œå…ˆæŠ“ä¸€ä¸‹åŒ…ã€‚<br><img src="https://cdn.jsdelivr.net/gh/liuyunfz/picgo_pictures/chaoxing/23.png" srcset="/img/loading.gif" alt="post_video_misson"><br>å¯ä»¥ä»é¢„è§ˆé‡Œçœ‹å‡ºï¼Œç« èŠ‚ç½‘é¡µä¼¼ä¹å¹¶æ²¡æœ‰å®Œå…¨æ¸²æŸ“å®Œæˆåå†ä¼ è¾“ç»™æˆ‘ä»¬ã€‚é€šè¿‡æŸ¥çœ‹å“åº”é‡Œé¢çš„ä»£ç ï¼Œæˆ‘ä»¬ä¹ŸéªŒè¯äº†çŒœæƒ³ï¼Œå¹¶æœªæ‰¾åˆ°æœ‰å…³çš„è§†é¢‘æ•°æ®ã€‚æ‰€ä»¥æˆ‘ä»¬å°è¯•å¾€ä¸‹å¯»æ‰¾åŒ…å«è§†é¢‘ä¿¡æ¯çš„jsonåŒ…æˆ–è€…htmlç½‘é¡µã€‚<br><img src="https://cdn.jsdelivr.net/gh/liuyunfz/picgo_pictures/chaoxing/24.png" srcset="/img/loading.gif" alt="post_video"><br>æœ€åï¼Œåœ¨è¿™ä¸ªâ€œ/knowledge/cardsâ€é‡Œçš„åŒ…é‡Œæ‰¾åˆ°äº†æˆ‘ä»¬è¦çš„æ•°æ®ï¼Œå¯æƒœå®ƒä¹Ÿä¸æ˜¯jsonï¼Œè€Œæ˜¯ä¸€ä¸ªhtmlï¼Œé‡Œé¢æœ‰jsä»£ç ã€‚æ‰€ä»¥æˆ‘ä»¬è¿˜å¾—è‡ªå·±æå–ä»£ç ï¼Œå¹¶è½¬åŒ–æˆpythonå¯è¯†åˆ«çš„å†…å®¹ã€‚è¿™è¾¹çš„åˆ†æè¿˜æ˜¯æ¯”è¾ƒéº»çƒ¦çš„ï¼Œä½†å¹¶ä¸ç®—éš¾ï¼Œåªèƒ½è¯´ä¸ç†Ÿç»ƒçš„è¯éœ€è¦å¤šè¯•è¯•ã€‚è¿™ä¸ªå°±è¯·è‡ªå·±å°è¯•çœ‹çœ‹å§ï¼Œè¿™è¾¹å°±ä¸ç»™å‡ºå…·ä½“åˆ†æè¿‡ç¨‹äº†ï¼ˆå› ä¸ºè‡ªå·±ä¹Ÿæƒ³ä¸èµ·æ¥äº†ï¼Œä¹Ÿä¸æƒ³å†åˆ†æä¸€éï¼Œæ‡’ï¼‰ã€‚ä¸è¿‡å¦‚æœå®åœ¨æœ‰é—®é¢˜çš„è¯ä¹Ÿå¯ä»¥è”ç³»æˆ‘ï¼Œå’Œæˆ‘äº¤æµäº¤æµã€‚é‚£æˆ‘ä»¬å°±ç›´æ¥è¿›å…¥ä»£ç ç¯èŠ‚ç„¶åç»™å‡ºä»£ç ã€‚<br>æˆ‘ä»¬é¡ºä¾¿åˆ†æä¸€ä¸‹è¿™äº›è§†é¢‘æ•°æ®ä»£è¡¨çš„å†…å®¹ã€‚<br>â€œisPassedâ€æ˜¯ä»»åŠ¡ç‚¹æ˜¯å¦å·²å®Œæˆï¼Œtrueä¸ºå·²å®Œæˆï¼Œfalseä¸ºæœªå®Œæˆï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€šè¿‡åˆ¤æ–­å®ƒçš„å±æ€§æ¥ç›´æ¥åˆ¤æ–­æ˜¯å¦éœ€è¦å¯¹è¯¥è§†é¢‘è¿›è¡Œå¤„ç†ã€‚<br>â€œtypeâ€: â€œvideoâ€æ˜¯ç±»å‹ä¸ºè§†é¢‘ï¼Œä¹Ÿæ˜¯æˆ‘ä»¬åˆ¤æ–­æ˜¯å¦è¦æ·»åŠ åˆ°ä»»åŠ¡åˆ—è¡¨çš„ä¸€ä¸ªæ¡ä»¶ï¼ˆå› ä¸ºæˆ‘ä»¬è¦å®ç°çš„åªæœ‰åˆ·è¶…æ˜Ÿè§†é¢‘ï¼‰ï¼Œå…¶ä»–è¿˜æœ‰å¯èƒ½å‡ºç°pptè¿™ç§ã€‚<br>å…¶ä»–å…¶å®é€šè¿‡åå­—ä¹Ÿéƒ½èƒ½çŸ¥é“æ˜¯ä»€ä¹ˆï¼Œä¸»è¦è¿˜æ˜¯è¦çœ‹åé¢æˆ‘ä»¬éœ€è¦ç”¨åˆ°ä»€ä¹ˆå±æ€§ã€‚</p><h3 id="ä»£ç ç¼–å†™-1"><a href="#ä»£ç ç¼–å†™-1" class="headerlink" title="ä»£ç ç¼–å†™"></a>ä»£ç ç¼–å†™</h3><p>ä¸ºäº†æŠŠjsä»£ç æå–å‡ºæ¥å¹¶å˜æˆpythonä¸­çš„dictæˆ–listï¼Œæˆ‘è¿™é‡Œç”¨åˆ°äº†æ­£åˆ™è¡¨è¾¾å¼ï¼Œå–å‡ºæˆ‘ä»¬è¦çš„å†…å®¹ã€‚</p><div class="hljs"><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">deal_misson</span><span class="hljs-params">(missons:list,class_cpi:str)</span>:</span>      <span class="hljs-keyword">for</span> chapter_mission_item <span class="hljs-keyword">in</span> missons:        result = parse.urlparse(chapter_mission_item)        chapter_data=parse.parse_qs(result.query)        print(chapter_data)        medias_url=<span class="hljs-string">"https://mooc1-2.chaoxing.com/knowledge/cards?clazzid=&#123;0&#125;&amp;courseid=&#123;1&#125;&amp;knowledgeid=&#123;2&#125;&amp;num=0&amp;ut=s&amp;cpi=&#123;3&#125;&amp;v=20160407-1"</span>.format(chapter_data.get(<span class="hljs-string">'clazzid'</span>)[<span class="hljs-number">0</span>],chapter_data.get(<span class="hljs-string">'courseId'</span>)[<span class="hljs-number">0</span>],chapter_data.get(<span class="hljs-string">'chapterId'</span>)[<span class="hljs-number">0</span>],class_cpi)        class_headers=&#123;        <span class="hljs-string">'Cookie'</span>:cookieStr,        <span class="hljs-string">'User-Agent'</span>:<span class="hljs-string">'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/85.0.4183.102 Safari/537.36 Edg/85.0.564.51'</span>        &#125;        medias_rsp=requests.get(url=medias_url,headers=class_headers)        medias_HTML=etree.HTML(medias_rsp.text)        medias_text=medias_HTML.xpath(<span class="hljs-string">"//script[1]/text()"</span>)[<span class="hljs-number">0</span>]        <span class="hljs-keyword">import</span> re,json        pattern = re.compile(<span class="hljs-string">r'attachments":([\s\S]*),"defaults"'</span>)         re_result=re.findall(pattern,medias_text)[<span class="hljs-number">0</span>]        reportUrl=re.findall(<span class="hljs-string">r'reportUrl":([\s\S]*),"chapterCapture"'</span>,medias_text)[<span class="hljs-number">0</span>]        reportUrl=reportUrl.replace(<span class="hljs-string">"\""</span>,<span class="hljs-string">""</span>)        result_json=json.loads(re_result)</code></pre></div><p>è¿™é‡Œä¼ å…¥çš„missonsæ˜¯æ¯ä¸ªç« èŠ‚çš„é“¾æ¥æ„æˆçš„ä¸€ä¸ªlistï¼Œè‡³äºclass_cpiæ˜¯è¯¾ç¨‹çš„cpiä¿¡æ¯ï¼Œæ¯ä¸ªè¯¾ç¨‹ä¸­çš„æ‰€æœ‰ç« èŠ‚ä¸­çš„æ‰€æœ‰è§†é¢‘éƒ½å…±ç”¨è¿™ä¸ªcpiå±æ€§ï¼Œè€Œè¿™ä¸ªæ˜¯åé¢å®Œæˆè§†é¢‘è¦ç”¨åˆ°çš„ï¼Œé’ˆå¯¹æˆ‘ä»¬ç°åœ¨åˆ¤æ–­è§†é¢‘ä»»åŠ¡å¹¶ç”¨ä¸åˆ°ã€‚<strong>result_json</strong>å³æ˜¯æˆ‘ä»¬ä»ç½‘é¡µä»£ç ä¸­æå–å‡ºçš„jsonã€‚<br><img src="https://cdn.jsdelivr.net/gh/liuyunfz/picgo_pictures/chaoxing/25.png" srcset="/img/loading.gif" alt="misson_debug"><br>å¯ä»¥çœ‹åˆ°ï¼Œè°ƒè¯•æˆåŠŸäº†ï¼Œè€Œä¸”æ˜¯å¾ˆå®Œç¾çš„jsonæ ¼å¼ï¼Œloadsæˆ‘ä»¬å¯ä»¥ç”¨listçš„æ“ä½œæ–¹å¼è½»æ¾çš„è°ƒç”¨å…¶ä¸­çš„æ•°æ®ä¿¡æ¯ã€‚<br>ç« èŠ‚ä¸­çš„è§†é¢‘ä¿¡æ¯æˆ‘ä»¬ä¹Ÿå¤„ç†å®Œæˆäº†ï¼Œåˆ°æ­¤æˆ‘ä»¬çš„å‡†å¤‡å·¥ä½œå·²ç»éƒ½å®Œæˆäº†ã€‚<strong>è´¦å·ç™»é™†â€”â€”åˆ¤æ–­è¯¾ç¨‹ä¿¡æ¯â€”â€”åˆ¤æ–­è¯¾ç¨‹ä¸­çš„ç« èŠ‚ä»»åŠ¡â€”â€”åˆ¤æ–­ç« èŠ‚é‡Œé¢çš„è§†é¢‘ä»»åŠ¡</strong>ï¼Œæœ€åä¸€æ­¥å°±æ˜¯å®Œæˆç« èŠ‚é‡Œçš„è§†é¢‘ä»»åŠ¡äº†ï¼Œä¹Ÿæ˜¯æˆ‘ä»¬æœ€åçš„å¤§å¤´ã€‚</p><h2 id="ä»»åŠ¡å®Œæˆè§£æ"><a href="#ä»»åŠ¡å®Œæˆè§£æ" class="headerlink" title="ä»»åŠ¡å®Œæˆè§£æ"></a>ä»»åŠ¡å®Œæˆè§£æ</h2><h3 id="æŠ“åŒ…åˆ†æ"><a href="#æŠ“åŒ…åˆ†æ" class="headerlink" title="æŠ“åŒ…åˆ†æ"></a>æŠ“åŒ…åˆ†æ</h3><p>æ‰“å¼€â€œå¼€å‘è€…é€‰é¡¹â€ï¼Œè¿›è¡ŒæŠ“åŒ…ï¼Œç„¶åæ’­æ”¾è§†é¢‘ã€‚å‡ºç°äº†ä¸¤ä¸ªåŒ…<br><img src="https://cdn.jsdelivr.net/gh/liuyunfz/picgo_pictures/chaoxing/26.png" srcset="/img/loading.gif" alt="post_video_status"><br>ç¬¬ä¸€ä¸ªæ˜¯è§†é¢‘çš„åŒ…ï¼Œç”¨äºå‘æœåŠ¡å™¨è¯·æ±‚è§†é¢‘æ•°æ®ï¼Œä»å…¶ä¸­çš„typeï¼Œä»¥åŠä¸€äº›å…¶ä»–çš„headerséƒ½èƒ½çœ‹å‡ºæ¥ã€‚<br><img src="https://cdn.jsdelivr.net/gh/liuyunfz/picgo_pictures/chaoxing/27.png" srcset="/img/loading.gif" alt="post_video_first"><br>ç¬¬äºŒä¸ªåŒ…ï¼Œå°±æ˜¯æˆ‘ä»¬è¦çš„ç”¨æ¥å®Œæˆä»»åŠ¡çš„åŒ…äº†ã€‚å®ƒä¼ è¾“çš„æ˜¯ä½ è§‚çœ‹çš„æ•°æ®ï¼Œè¿”å›çš„isPassedæ¥è¯´æ˜ä½ çš„ä»»åŠ¡æ˜¯å¦å®Œæˆäº†ã€‚å› ä¸ºæˆ‘ä»¬åªæ˜¯æ’­æ”¾äº†ä¸€ä¸‹ï¼Œæ‰€ä»¥ä»»åŠ¡å½“ç„¶æ²¡èƒ½å®Œæˆï¼Œæ‰€ä»¥è¿”å›çš„æ•°æ®æ˜¯{â€œisPassedâ€:false}ã€‚<br>ç„¶åæˆ‘ä»¬ç­‰è§†é¢‘æ”¾å®Œï¼Œå³å°†ä»»åŠ¡ç‚¹å®Œæˆï¼Œçœ‹å®ƒä¼šå‘é€ä»€ä¹ˆåŒ…ï¼Œä¸å‰é¢è¿™ä¸ªåŒ…æœ‰ä»€ä¹ˆåŒºåˆ«ã€‚<br><img src="https://cdn.jsdelivr.net/gh/liuyunfz/picgo_pictures/chaoxing/28.png" srcset="/img/loading.gif" alt="post_video_finish"></p><p>å¯ä»¥çœ‹å‡ºä¸»è¦åŒºåˆ«å°±åœ¨è¿™ä¸ªplayingTimeï¼Œç¿»è¯‘ä¸‹æ¥ä¹Ÿå¾ˆå¥½ç†è§£ï¼Œåº”è¯¥å°±æ˜¯æˆ‘ä»¬æ’­æ”¾äº†çš„æ—¶é—´ã€‚åªè¦è¿™ä¸ªæ—¶é—´ç­‰äºè§†é¢‘çš„æ€»é•¿åº¦ï¼Œé‚£ä¹ˆå°±ç®—æˆ‘ä»¬å°±å®Œæˆäº†ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬åˆ†æä¸‹æäº¤çš„æ•´ä¸ªè¡¨å•ã€‚ </p><table><thead><tr><th>key</th><th>å«ä¹‰</th><th>æ¥æº</th></tr></thead><tbody><tr><td>clazzId</td><td>ç« èŠ‚ID</td><td>å•ä¸ªç« èŠ‚çš„urlé‡Œ</td></tr><tr><td>playingTime</td><td>è§†é¢‘æ’­æ”¾çš„æ—¶é—´</td><td>è‡ªå·±ä¿®æ”¹ï¼Œé€šè¿‡è¯»å–è§†é¢‘çš„é•¿åº¦ä¿¡æ¯</td></tr><tr><td>duration</td><td>æ—¶é—´</td><td>ä¸playingtimeåŒæ­¥ï¼Œéƒ½ä¸ºè§†é¢‘çš„æ€»æ—¶é•¿</td></tr><tr><td>clipTime</td><td>èµ·æ­¢æ—¶é—´ï¼Ÿ</td><td>â€œ0_â€åŠ ä¸Šæ€»æ—¶é•¿ï¼Œå³ä¸å‰é¢ä¸¤ä¸ªå‚æ•°ä¸€æ ·ï¼Œä½†åœ¨å‰æ–¹åŠ ä¸Šâ€0_â€</td></tr><tr><td>objectId</td><td>è§†é¢‘çš„â€œobjectIdâ€å±æ€§</td><td>ç”±<a href="#è§†é¢‘ä»»åŠ¡ç‚¹">è§†é¢‘ä»»åŠ¡ç‚¹</a>ä¸­çš„æ‰€æœ‰è§†é¢‘ä¿¡æ¯â€œresult_jsonâ€ é‡Œé¢çš„å•ä¸ªè§†é¢‘æ•°æ®ä¸­ç»™å‡ºã€‚</td></tr><tr><td>otherInfo</td><td>è§†é¢‘çš„â€œotherInfoâ€å±æ€§</td><td>ç”±<a href="#è§†é¢‘ä»»åŠ¡ç‚¹">è§†é¢‘ä»»åŠ¡ç‚¹</a>ä¸­çš„æ‰€æœ‰è§†é¢‘ä¿¡æ¯â€œresult_jsonâ€ é‡Œé¢çš„å•ä¸ªè§†é¢‘æ•°æ®ä¸­ç»™å‡ºã€‚</td></tr><tr><td>jobid</td><td>è§†é¢‘çš„â€œjobidâ€å±æ€§</td><td>ç”±<a href="#è§†é¢‘ä»»åŠ¡ç‚¹">è§†é¢‘ä»»åŠ¡ç‚¹</a>ä¸­çš„æ‰€æœ‰è§†é¢‘ä¿¡æ¯â€œresult_jsonâ€ é‡Œé¢çš„å•ä¸ªè§†é¢‘æ•°æ®ä¸­ç»™å‡ºã€‚</td></tr><tr><td>userid</td><td>ç”¨æˆ·idä¿¡æ¯</td><td>ç”±ç™»é™†æ—¶è·å–çš„cookieé‡Œè·å–</td></tr><tr><td>isdrag</td><td>è§†é¢‘çŠ¶æ€ä¿¡æ¯ï¼Œ0ï¼šé»˜è®¤ï¼›3ï¼šæ’­æ”¾ï¼›2ï¼šæš‚åœï¼›4ï¼šè§†é¢‘ç»“æŸã€‚</td><td>æˆ‘ä»¬è¦ç”¨çš„æ˜¯çŠ¶æ€4ï¼Œå°†å…¶ä½œä¸ºå¸¸é‡</td></tr><tr><td>view</td><td>ç»ˆç«¯æƒ…å†µï¼Ÿ</td><td>å€¼ä¸ºâ€pcâ€ï¼Œæˆ‘ä»¬å°†å…¶ä½œä¸ºå¸¸é‡ä¸ä¿®æ”¹å®ƒ</td></tr><tr><td>enc</td><td>æ˜¯å…¶ä»–è¡¨å•æ‰€æœ‰æ•°æ®ç»è¿‡ç®—æ³•è®¡ç®—åå¾—å‡ºçš„æ•°æ®æ ¡éªŒç </td><td>å…¨ç¯‡çš„æœ€éš¾ç‚¹ï¼Œè§åé¢åˆ†æ</td></tr><tr><td>rt</td><td>ä¸æ¸…æ¥š</td><td>å°†å€¼0.9ä½œä¸ºå¸¸é‡</td></tr><tr><td>dtype</td><td>ä»»åŠ¡ç±»å‹</td><td>å› ä¸ºæˆ‘ä»¬è¦å®ç°çš„åŠŸèƒ½ä»…æœ‰è§†é¢‘ï¼Œæ‰€ä»¥å°†å€¼Videoä½œä¸ºå¸¸é‡</td></tr><tr><td>_t</td><td>æ—¶é—´æˆ³</td><td>å¯ä»¥æ·»åŠ å®æ—¶æ—¶é—´æˆ³ï¼Œä¹Ÿå¯ä»¥æ²¿ç”¨ï¼ŒæœåŠ¡ç«¯ä¸ä¼šè¿›è¡Œæ ¡éªŒ</td></tr></tbody></table><p>ä»¥ä¸‹æˆ‘å°†ç»™å‡ºä»¥ä¸Šéƒ¨åˆ†å‚æ•°å«ä¹‰åŠæ¥æºçš„ä»£ç ä¾æ®ã€‚</p><h4 id="clipTime"><a href="#clipTime" class="headerlink" title="clipTime"></a>clipTime</h4><p><img src="https://cdn.jsdelivr.net/gh/liuyunfz/picgo_pictures/chaoxing/29.png" srcset="/img/loading.gif" alt="post_clipTime"></p><div class="hljs"><pre><code class="hljs js">clipTime = (params.startTime || <span class="hljs-string">"0"</span>) + <span class="hljs-string">"_"</span> + (params.endTime || params.duration);</code></pre></div><p>ä»¥ä¸Šæ˜¯æºä»£ç ï¼Œä¸éš¾çœ‹æ‡‚ï¼ŒclipTimeçš„å€¼æ˜¯ èµ·å§‹æ—¶é—´æˆ–â€0â€ + â€œ_â€  + ç»ˆæ­¢æ—¶é—´æˆ–duration ã€‚</p><h4 id="isdrag"><a href="#isdrag" class="headerlink" title="isdrag"></a>isdrag</h4><p><img src="https://cdn.jsdelivr.net/gh/liuyunfz/picgo_pictures/chaoxing/30.png" srcset="/img/loading.gif" alt="post_isdrag"></p><div class="hljs"><pre><code class="hljs js"><span class="hljs-keyword">var</span> isdrag = <span class="hljs-number">0</span>;<span class="hljs-keyword">switch</span> (evt) &#123;<span class="hljs-keyword">case</span> <span class="hljs-string">"play"</span>:    isdrag = <span class="hljs-number">3</span>;    <span class="hljs-keyword">break</span>;<span class="hljs-keyword">case</span> <span class="hljs-string">"pause"</span>:    isdrag = <span class="hljs-number">2</span>;    <span class="hljs-keyword">break</span>;<span class="hljs-keyword">case</span> <span class="hljs-string">"ended"</span>:    isdrag = <span class="hljs-number">4</span>;    <span class="hljs-keyword">break</span>&#125;</code></pre></div><p>å› ä¸ºæˆ‘ä»¬è¦å®Œæˆä»»åŠ¡ï¼Œè‡ªç„¶æ˜¯è§†é¢‘æ’­æ”¾å®Œç»“æŸåå‘é€çš„åŒ…ï¼Œæ‰€ä»¥ä¸ºendedï¼Œæ‰€ä»¥æˆ‘ä»¬ç”¨â€œ4â€ä½œä¸ºå¸¸é‡å€¼ã€‚</p><h4 id="rt"><a href="#rt" class="headerlink" title="rt"></a>rt</h4><p><img src="https://cdn.jsdelivr.net/gh/liuyunfz/picgo_pictures/chaoxing/31.png" srcset="/img/loading.gif" alt="post_rt"></p><div class="hljs"><pre><code class="hljs js"><span class="hljs-keyword">var</span> rt = data ? (data.rt ? data.rt : <span class="hljs-number">0.9</span>) : <span class="hljs-number">0.9</span>;</code></pre></div><p>æ²¡å­¦è¿‡jsçš„æˆ‘ä¹Ÿä¸å¤ªæ¸…æ¥šè¿™æ®µè¯çš„å…·ä½“ä½œç”¨ï¼Œä¸è¿‡æˆ‘ä»¬æŠŠâ€œ0.9â€ä½œä¸ºå¸¸é‡ä¼ è¾“ä¸ä¼šæœ‰ä»»ä½•å¼‚å¸¸ã€‚<br>è¿™é‡Œæœ‰ä¸ªå°ç»†èŠ‚ï¼Œå°±æ˜¯å½“æˆ‘ä»¬å…¨ç«™æ£€ç´¢â€œrtâ€æ—¶å› ä¸ºå­—ç¬¦æ•°è¾ƒå°‘ï¼Œä¼šå‡ºç°è¾ƒå¤šçš„ç»“æœï¼ˆå› ä¸ºå¾ˆå¤šå‡½æ•°æˆ–å˜é‡é‡Œéƒ½ä¼šåŒ…å«è¿™ä¸¤ä¸ªå­—ç¬¦ï¼Œæ‰€ä»¥æˆ‘ä»¬æœç´¢ rt çš„å®šä¹‰è¯­å¥â€”â€”â€œvar rtâ€ï¼Œå³å¯å‡å°‘ç»“æœã€‚</p><h4 id="enc"><a href="#enc" class="headerlink" title="enc"></a>enc</h4><p>å…¨æ–‡çš„æœ€éš¾ç‚¹ï¼Œä»¥ä¸Šæ‰€æœ‰æ•°æ®çš„æ ¡éªŒç ã€‚ä»¥ä¸‹å°†ç»™å‡ºæˆ‘ä¸ªäººå°è¯•ç ´è§£çš„è¯¦ç»†æ€è·¯ã€‚<br>é¦–å…ˆæˆ‘é€‰æ‹©å…¨ç«™æ£€ç´¢encï¼Œå°è¯•æ‰¾åˆ°å®ƒçš„ç”±æ¥ã€‚<br><img src="https://cdn.jsdelivr.net/gh/liuyunfz/picgo_pictures/chaoxing/32.png" srcset="/img/loading.gif" alt="post_enc_1"><br>å¯ä»¥çœ‹åˆ°ï¼Œå‡ºç°äº†å¾ˆå¤šçš„æ•°æ®ï¼ˆ15ä¸ªæ–‡ä»¶å…±77è¡ŒåŒ¹é…ï¼‰ï¼Œæ‰€ä»¥ä¸ºäº†ç¼©å°èŒƒå›´ï¼Œæˆ‘å°è¯•è·Ÿä¸Šé¢çš„rtä¸€æ ·æ“ä½œï¼ŒæŸ¥è¯¢encçš„èµ‹å€¼è¯­å¥ã€‚<br><img src="https://cdn.jsdelivr.net/gh/liuyunfz/picgo_pictures/chaoxing/33.png" srcset="/img/loading.gif" alt="post_enc_2"><br>å¾ˆæœ‰æ•ˆæœï¼Œç»“æœåªæœ‰4ä¸ªæ–‡ä»¶5è¡ŒåŒ¹é…ã€‚è€Œå¦‚å›¾çº¢è‰²åœˆèµ·æ¥çš„ä»£ç ï¼Œè™½ç„¶éƒ½å¯¹encè¿›è¡Œäº†èµ‹å€¼ï¼Œä½†éƒ½ä¸æ˜¯æˆ‘ä»¬è¦çš„è¯­å¥ã€‚æˆ‘ä»¬ä¸€ä¸ªä¸ªæ‰‹åŠ¨æ’é™¤ï¼Œæœ€åæˆ‘é”å®šäº† <a href="https://mooc1-2.chaoxing.com/ananas/videojs-ext/videojs-ext.min.js" target="_blank" rel="noopener">https://mooc1-2.chaoxing.com/ananas/videojs-ext/videojs-ext.min.js</a> è¿™ä¸ªæ–‡ä»¶ï¼Œç»†å¿ƒçš„æœ‹å‹å¯èƒ½å·²ç»å‘ç°äº†ï¼Œå°±æ˜¯æˆ‘ä»¬åˆšæ‰æ‰¾clipTimeçš„é‚£ä¸ªåœ°æ–¹ã€‚</p><div class="hljs"><pre><code class="hljs js"><span class="hljs-keyword">var</span> sendLog_ = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">player, isdrag, currentTimeSec, callback</span>) </span>&#123;    <span class="hljs-keyword">if</span> (!params.reportUrl) &#123;        <span class="hljs-keyword">return</span>    &#125;    <span class="hljs-keyword">if</span> (params.isFiled == <span class="hljs-number">1</span> || params.state == <span class="hljs-number">1</span>) &#123;        <span class="hljs-keyword">return</span>    &#125;    <span class="hljs-keyword">var</span> format = <span class="hljs-string">"[&#123;0&#125;][&#123;1&#125;][&#123;2&#125;][&#123;3&#125;][&#123;4&#125;][&#123;5&#125;][&#123;6&#125;][&#123;7&#125;]"</span>      , clipTime = (params.startTime || <span class="hljs-string">"0"</span>) + <span class="hljs-string">"_"</span> + (params.endTime || params.duration);    <span class="hljs-keyword">var</span> enc = Ext.String.format(format, params.clazzId, params.userid, params.jobid || <span class="hljs-string">""</span>, params.objectId, currentTimeSec * <span class="hljs-number">1000</span>, <span class="hljs-string">"d_yHJ!$pdA~5"</span>, params.duration * <span class="hljs-number">1000</span>, clipTime);    <span class="hljs-keyword">var</span> rurl = [params.reportUrl, <span class="hljs-string">"/"</span>, params.dtoken, <span class="hljs-string">"?clazzId="</span>, params.clazzId, <span class="hljs-string">"&amp;playingTime="</span>, currentTimeSec, <span class="hljs-string">"&amp;duration="</span>, params.duration, <span class="hljs-string">"&amp;clipTime="</span>, clipTime, <span class="hljs-string">"&amp;objectId="</span>, params.objectId, <span class="hljs-string">"&amp;otherInfo="</span>, params.otherInfo, <span class="hljs-string">"&amp;jobid="</span>, params.jobid, <span class="hljs-string">"&amp;userid="</span>, params.userid, <span class="hljs-string">"&amp;isdrag="</span>, isdrag, <span class="hljs-string">"&amp;view=pc"</span>, <span class="hljs-string">"&amp;enc="</span>, md5(enc), <span class="hljs-string">"&amp;rt="</span>, params.rt, <span class="hljs-string">"&amp;dtype=Video"</span>, <span class="hljs-string">"&amp;_t="</span>, <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>().getTime()].join(<span class="hljs-string">""</span>);    logFunc(player, rurl, callback)&#125;;</code></pre></div><p>æŠŠé‡Œé¢å…³äºencçš„ä»£ç æå–å‡ºæ¥</p><div class="hljs"><pre><code class="hljs js"><span class="hljs-keyword">var</span> format = <span class="hljs-string">"[&#123;0&#125;][&#123;1&#125;][&#123;2&#125;][&#123;3&#125;][&#123;4&#125;][&#123;5&#125;][&#123;6&#125;][&#123;7&#125;]"</span><span class="hljs-keyword">var</span> enc = Ext.String.format(format, params.clazzId, params.userid, params.jobid || <span class="hljs-string">""</span>, params.objectId, currentTimeSec * <span class="hljs-number">1000</span>, <span class="hljs-string">"d_yHJ!$pdA~5"</span>, params.duration * <span class="hljs-number">1000</span>, clipTime);<span class="hljs-string">"&amp;enc="</span>, md5(enc)</code></pre></div><p>å¤§è‡´æ„æ€å°±æ˜¯ä»¤</p><blockquote><p>enc=[clazzId][userid][jobid][objectId][currentTimeSec * 1000][â€œd_yHJ!$pdA~5â€][duration * 1000][clipTime]  </p></blockquote><p>ç„¶åå†å°†å–encçš„md5ï¼Œä½œä¸ºè¡¨å•çš„æ ¡éªŒç ã€‚è¿™é‡Œé¢çš„å‚æ•°å¤šæ˜¯å‰é¢å·²ç»åˆ†æè¿‡äº†çš„ï¼Œåªæ˜¯ä¸­é—´å¤šäº†ä¸€ä¸ªå­—ç¬¦ä¸²å¸¸é‡ &quot;d_yHJ!$pdA~5&quot; ã€‚è¿˜æœ‰ä¸€ä¸ªå¯èƒ½ä¸å¤ªæ¸…æ¥šçš„å°±æ˜¯currentTimeSecäº†ã€‚<br>æˆ‘ä»¬è®¾ç½®æ–­ç‚¹ï¼Œä¸€è¾¹çœ‹çœ‹è¿™ä¸ªcurrentTimeSecåˆ°åº•æ˜¯å•¥ï¼Œé¡ºä¾¿éªŒè¯ä¸‹æˆ‘ä»¬å‰é¢çš„æ˜¯å¦æ­£ç¡®ã€‚<br><img src="https://cdn.jsdelivr.net/gh/liuyunfz/picgo_pictures/chaoxing/34.png" srcset="/img/loading.gif" alt="html_pause"><br>åœ¨è¿™é‡Œè®¾ç½®æ–­ç‚¹ï¼Œç„¶åæˆ‘ä»¬åˆ·æ–°åé‡æ–°æ’­æ”¾è§†é¢‘ã€‚å°†é¼ æ ‡ç§»åˆ°encå¤„ï¼Œå³å¯çœ‹åˆ°encçš„å€¼é¢„è§ˆã€‚<br><img src="https://cdn.jsdelivr.net/gh/liuyunfz/picgo_pictures/chaoxing/35.png" srcset="/img/loading.gif" alt="html_enc">è¿™é‡Œå› ä¸ºéšç§é—®é¢˜åšæ‰“ç å¤„ç†ï¼Œå¯ä»¥è‡ªå·±å°è¯•ï¼Œå’Œæˆ‘ä»¬å‰é¢è¯´çš„åŸºæœ¬æ— äºŒã€‚è€ŒcurrentTimeSecæˆ‘ä»¬ä¹Ÿå‘ç°äº†ï¼ŒcurrentTimeSec * 1000è·Ÿ duration * 1000 çš„å€¼ä¸€æ¨¡ä¸€æ ·ã€‚<br>æˆªæ­¢ç›®å‰ï¼Œæ•°æ®åŒ…é‡Œé¢çš„æ‰€æœ‰å‚æ•°æˆ‘ä»¬å·²ç»éƒ½å¼„æ˜ç™½äº†ï¼Œæ¥ä¸‹æ¥å°±æ˜¯å†™ä»£ç å°±å¥½äº†ã€‚</p><h3 id="ä»£ç ä¹¦å†™"><a href="#ä»£ç ä¹¦å†™" class="headerlink" title="ä»£ç ä¹¦å†™"></a>ä»£ç ä¹¦å†™</h3><p>ä»¥ä¸‹æ˜¯encçš„è¿”å›å‡½æ•°</p><div class="hljs"><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">encode_enc</span><span class="hljs-params">(clazzid:str,duration:int,objectId:str,otherinfo:str,jobid:str,userid:str)</span>:</span>    <span class="hljs-keyword">import</span> hashlib    data=<span class="hljs-string">"[&#123;0&#125;][&#123;1&#125;][&#123;2&#125;][&#123;3&#125;][&#123;4&#125;][&#123;5&#125;][&#123;6&#125;][0_&#123;7&#125;]"</span>.format(clazzid,userid,jobid,objectId,duration*<span class="hljs-number">1000</span>,<span class="hljs-string">"d_yHJ!$pdA~5"</span>,duration*<span class="hljs-number">1000</span>,duration)    print(data)    <span class="hljs-keyword">return</span> hashlib.md5(data.encode()).hexdigest()</code></pre></div><p>ç„¶åæ˜¯æ•°æ®åŒ…çš„ä»£ç </p><div class="hljs"><pre><code class="hljs python"><span class="hljs-keyword">if</span> video_item.get(<span class="hljs-string">"isPassed"</span>) == <span class="hljs-literal">True</span>:    <span class="hljs-keyword">pass</span><span class="hljs-keyword">else</span>:    <span class="hljs-keyword">if</span> video_item.get(<span class="hljs-string">"type"</span>) == <span class="hljs-string">"video"</span>:        objectId=video_item.get(<span class="hljs-string">"objectId"</span>)        otherInfo=video_item.get(<span class="hljs-string">"otherInfo"</span>)        jobid=video_item.get(<span class="hljs-string">"jobid"</span>)        name=video_item.get(<span class="hljs-string">'property'</span>).get(<span class="hljs-string">'name'</span>)        status_url=<span class="hljs-string">"https://mooc1-1.chaoxing.com/ananas/status/&#123;&#125;?k=&amp;flag=normal&amp;_dc=1600850935908"</span>.format(objectId)        status_rsp=requests.get(url=status_url,headers=class_headers)        status_json=json.loads(status_rsp.text)        duration=status_json.get(<span class="hljs-string">'duration'</span>)        dtoken=status_json.get(<span class="hljs-string">'dtoken'</span>)        print(objectId,otherInfo,jobid,uid,name,duration,reportUrl)        multimedia_headers=&#123;            <span class="hljs-string">'Accept'</span>:<span class="hljs-string">'*/*'</span>,            <span class="hljs-string">'Accept-Encoding'</span>:<span class="hljs-string">'gzip, deflate, br'</span>,            <span class="hljs-string">'Accept-Language'</span>:<span class="hljs-string">'zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6'</span>,            <span class="hljs-string">'Connection'</span>:<span class="hljs-string">'keep-alive'</span>,            <span class="hljs-string">'Content-Type'</span>:<span class="hljs-string">'application/json'</span>,            <span class="hljs-string">'Cookie'</span>:cookieStr,            <span class="hljs-string">'Host'</span>:<span class="hljs-string">'mooc1-1.chaoxing.com'</span>,            <span class="hljs-string">'Referer'</span>:<span class="hljs-string">'https://mooc1-1.chaoxing.com/ananas/modules/video/index.html?v=2020-0907-1546'</span>,            <span class="hljs-string">'Sec-Fetch-Dest'</span>:<span class="hljs-string">'empty'</span>,            <span class="hljs-string">'Sec-Fetch-Mode'</span>:<span class="hljs-string">'cors'</span>,            <span class="hljs-string">'Sec-Fetch-Site'</span>:<span class="hljs-string">'same-origin'</span>,            <span class="hljs-string">'User-Agent'</span>:<span class="hljs-string">'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/85.0.4183.102 Safari/537.36 Edg/85.0.564.51'</span>        &#125;        <span class="hljs-keyword">import</span> time        elses=<span class="hljs-string">"/&#123;0&#125;?clazzId=&#123;1&#125;&amp;playingTime=&#123;2&#125;&amp;duration=&#123;2&#125;&amp;clipTime=0_&#123;2&#125;&amp;objectId=&#123;3&#125;&amp;otherInfo=&#123;4&#125;&amp;jobid=&#123;5&#125;&amp;userid=&#123;6&#125;&amp;isdrag=4&amp;view=pc&amp;enc=&#123;7&#125;&amp;rt=0.9&amp;dtype=Video&amp;_t=&#123;8&#125;"</span>.format(dtoken,chapter_data.get(<span class="hljs-string">'clazzid'</span>)[<span class="hljs-number">0</span>],duration,objectId,otherInfo,jobid,uid,encode_enc(chapter_data.get(<span class="hljs-string">'clazzid'</span>)[<span class="hljs-number">0</span>],duration,objectId,otherInfo,jobid,uid),int(time.time()*<span class="hljs-number">1000</span>))        reportUrl_item=reportUrl+str(elses)        print(reportUrl_item)        multimedia_rsp=requests.get(url=reportUrl_item,headers=multimedia_headers)        print(multimedia_rsp.text)</code></pre></div><h1 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h1><p>æˆªæ­¢è‡³æ­¤ï¼Œå·²ç»æ˜¯2020/11/20 22:59:16 ï¼Œè¿™ç¯‡æ–‡ç« è¿˜æ˜¯æ–­æ–­ç»­ç»­å†™äº†å¾ˆä¹…ã€‚é‡Œé¢æˆ‘å°½å¯èƒ½å±•ç¤ºäº†æˆ‘çš„æ€è·¯ã€‚æ¯ä¸€ä¸ªåŠŸèƒ½çš„å®ç°éƒ½å­˜åœ¨ä¸€å®šçš„éš¾åº¦æ€§ï¼Œæ‰€ä»¥è¿˜æ˜¯å¾ˆå€¼å¾—è®°å½•ä¸åˆ†äº«çš„ã€‚å¦‚æœä½ ä»æœ‰ä»€ä¹ˆç–‘é—®ï¼Œæˆ–è€…æˆ‘å“ªé‡Œè¡¨è¾¾è¾ƒä¸ºå«ç³Šï¼Œæ‚¨éƒ½å¯ä»¥åœ¨ä¸‹æ–¹ç›´æ¥è¯„è®ºï¼Œæˆ–è€…ç›´æ¥è”ç³»æˆ‘ã€‚<br>æœ€åå†æ¬¡å¼ºè°ƒï¼Œæœ¬æ–‡ä»…ä½œä¸ºç»éªŒåˆ†äº«ï¼Œè¯·å‹¿å°†å…¶ä¸­å†…å®¹äºŒæ¬¡ä¿®æ”¹ç”¨ä½œå•†ä¸šç”¨é€”ã€‚å¦‚æœ‰ä¾µæƒä¹Ÿè¯·è”ç³»æˆ‘åˆ é™¤ã€‚<br>æœ€åæœ¬æ–‡çš„å…¨éƒ¨ä»£ç å·²è¢«æˆ‘æ•´åˆä¸Šä¼ åˆ°äº†GitHubï¼Œè¯¦ç»†è¯·ç§»æ­¥æˆ‘çš„ä»“åº“ <a href="https://github.com/liuyunfz/chaoxing_tool" target="_blank" rel="noopener">chaoxing_tool</a> ,å¦‚æœä¸ä»‹æ„çš„è¯å¯ä»¥ç»™æˆ‘ä¸ªstaræ”¯æŒä¸‹ã€‚</p>]]></content>
    
    
    
    <tags>
      
      <tag>æ•™ç¨‹</tag>
      
      <tag>python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>è‡ªå®šä¹‰å³é”®æ–°å»ºé€‰é¡¹</title>
    <link href="/tutorial/windows-menu-new.html"/>
    <url>/tutorial/windows-menu-new.html</url>
    
    <content type="html"><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>ä½œä¸ºç¨‹åºğŸ’ï¼Œå­¦ä¹ å¤šé—¨è¯­è¨€æ˜¯å¿…è¦çš„ã€‚æ‰€ä»¥æˆ‘ä»¬å¸¸å¸¸è¦æ–°å»ºå¾ˆå¤šçš„ç±»ä¼¼.py,.c,cpp,.mdç­‰æ–‡ä»¶ï¼Œå¹¶ä¸”éƒ½æ‹¥æœ‰ä¸€å®šçš„æ ¼å¼è§„èŒƒã€‚æ¯”å¦‚pythonä¸­çš„æŒ‡å®šç¼–ç <code># -*- coding: utf-8 -*-</code>ï¼Œåˆæ¯”å¦‚cä¸­å¸¸å¼•ç”¨çš„æ ‡å‡†åº“<code>#include &lt;stdio.h&gt;</code> ã€‚æ‰€ä»¥æˆ‘ä»¬å°±éœ€è¦è‡ªå®šä¹‰å³é”®çš„æ–°å»ºèœå•ï¼Œåˆ›å»ºä¸€äº›å¸¸ç”¨çš„æ–‡ä»¶ï¼Œå¹¶ä¸”å¸¦æœ‰ä¸€å®šçš„æ ¼å¼å†…å®¹ï¼Œé¿å…é‡å¤çš„æœºæ¢°ç å­—ã€‚<br>è¿™ä¸ªå…¶å®ç™¾åº¦ä¸€ä¸‹å°±ä¼šæœ‰å¾ˆå¤šç»“æœï¼Œä½†æ˜¯æˆ‘å‚è€ƒçš„<a href="https://jingyan.baidu.com/article/8275fc86773b2446a03cf6f1.html" target="_blank" rel="noopener">ç™¾åº¦ç»éªŒ</a>å´å¹¶æœªèƒ½æˆåŠŸè§£å†³æˆ‘çš„é—®é¢˜ï¼Œæœ€åé€šè¿‡é˜…è¯»ä¸€ä½åšä¸»çš„åšæ–‡æ‰å‘ç°äº†é—®é¢˜æ‰€åœ¨å¹¶è§£å†³äº†é—®é¢˜ï¼Œæ‰€ä»¥åœ¨è¿™é™„ä¸Šè§£å†³æ–¹æ¡ˆã€‚<br>å‚è€ƒèµ„æ–™ï¼š<a href="https://www.cnblogs.com/wowMVP/archive/2010/04/08/1707884.html" target="_blank" rel="noopener">å¦‚ä½•åœ¨Windowså³é”®æ–°å»ºèœå•ä¸­æ·»åŠ è‡ªå®šä¹‰é¡¹ - ä¹æ°´é±¼ - åšå®¢å›­</a></p><h1 id="å¼€å§‹æ“ä½œ"><a href="#å¼€å§‹æ“ä½œ" class="headerlink" title="å¼€å§‹æ“ä½œ"></a>å¼€å§‹æ“ä½œ</h1><p>è¿™é‡Œä»¥æ–°å»º.cæ–‡ä»¶ä¸ºä¾‹ï¼Œä½¿ç”¨win+Rï¼Œè¾“å…¥å¹¶æ‰“å¼€æ³¨å†Œè¡¨regeditã€‚</p><h2 id="æ³¨å†Œè¡¨æ“ä½œ"><a href="#æ³¨å†Œè¡¨æ“ä½œ" class="headerlink" title="æ³¨å†Œè¡¨æ“ä½œ"></a>æ³¨å†Œè¡¨æ“ä½œ</h2><p>åœ¨<strong>HKEY_CLASSES_ROOT</strong>ä¸­æ–°å»ºé¡¹ï¼Œå‘½åä¸º<code>.c</code>ï¼ˆå¦‚æœæ²¡æœ‰æœ¬é¡¹çš„è¯ï¼‰ã€‚<br>åˆ›å»ºå¥½åä¿®æ”¹è¯¥é¡¹çš„é»˜è®¤å€¼ï¼Œæˆ‘è¿™è¾¹å‘½åä¸ºC Fileã€‚<br><img src="/img/menu/1.png" srcset="/img/loading.gif" alt=""><br>ç„¶ååœ¨.cç›®å½•ä¸‹åˆ›å»ºé¡¹ï¼Œå‘½åä¸ºShellNewï¼Œè¿™ä¸ªåå­—ä¸å¤§å°å†™å¿…é¡»ä¿æŒä¸€è‡´ã€‚<br>ç„¶ååœ¨ShellNewç›®å½•ä¸‹æ–°å»ºå­—ç¬¦ä¸²å€¼ï¼Œå‘½åä¸ºFileNameï¼Œè¿™ä¸ªä¹Ÿéœ€è¦ä¿æŒä¸€è‡´ã€‚å€¼åˆ™æ˜¯æŒ‡å‘ä½ çš„æ¨¡æ¿æ–‡ä»¶ç›®å½•ï¼Œå…·ä½“çœ‹åˆ›å»ºæ¨¡æ¿çš„æ­¥éª¤ã€‚<br><img src="/img/menu/2.png" srcset="/img/loading.gif" alt=""><br>åˆ›å»ºå¹¶ä¿®æ”¹å®Œåæˆ‘ä»¬.cç›®å½•ä¸‹çš„ä»»åŠ¡å°±å®Œæˆäº†ï¼Œæ¥ä¸‹æ¥ç»§ç»­åœ¨<strong>HKEY_CLASSES_ROOT</strong>æ–°å»ºé¡¹ï¼Œåç§°ä¸ºä¹‹å‰.cé»˜è®¤å€¼ä¸­çš„æ•°æ®ï¼Œæˆ‘çš„æ˜¯C Fileã€‚ç„¶åå°†è¯¥é¡¹çš„é»˜è®¤å€¼ä¿®æ”¹ä¸ºè‡ªå·±å³é”®æƒ³è¦æ˜¾ç¤ºçš„åç§°ä¸æ–‡å­—ã€‚<br><img src="/img/menu/3.png" srcset="/img/loading.gif" alt=""><br>åˆ°äº†è¿™ä¸€æ­¥ï¼Œæˆ‘ä»¬æ³¨å†Œè¡¨çš„ä»»åŠ¡å°±å®Œæˆäº†ï¼Œç†è®ºä¸Šç°åœ¨ä½ å³é”®åº”è¯¥å°±èƒ½çœ‹åˆ°æ–°åˆ›å»ºçš„cæ–‡ä»¶äº†ï¼Œå¦‚æœæ²¡æˆåŠŸçš„è¯è¯·æ£€æŸ¥å‰é¢çš„æ­¥éª¤ã€‚</p><h2 id="åˆ›å»ºæ¨¡æ¿"><a href="#åˆ›å»ºæ¨¡æ¿" class="headerlink" title="åˆ›å»ºæ¨¡æ¿"></a>åˆ›å»ºæ¨¡æ¿</h2><p>æ¥ä¸‹æ¥æˆ‘ä»¬è¦åšçš„æ˜¯åˆ›å»ºæ¨¡æ¿æ–‡ä»¶ï¼Œè¿™ä¸€æ­¥å…¶å®å¹¶ä¸éš¾ï¼Œåªéœ€è¦æ‰¾ä¸ªç›®å½•åˆ›å»ºä½ è¦çš„æ–‡ä»¶ï¼Œæˆ‘è¿™æ‰¾äº†Dç›˜åˆ›å»ºäº†<strong>Untitled.c</strong>ã€‚å¹¶åœ¨é‡Œé¢è¾“å…¥äº†æˆ‘å¸¸ç”¨çš„æ¨¡æ¿</p><div class="hljs"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;stdio.h&gt;</span></span><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><span class="hljs-function"></span>&#123;    &#125;</code></pre></div><p>ç„¶ååªéœ€è¦ç¡®ä¿è¯¥æ–‡ä»¶ç›®å½•ä¸ä¹‹å‰åœ¨æ³¨å†Œè¡¨.cç›®å½•ä¸­çš„ShellNewç›®å½•ä¸‹çš„FileNameä¸­ä¸€è‡´å³å¯ã€‚</p><h1 id="æœ€å"><a href="#æœ€å" class="headerlink" title="æœ€å"></a>æœ€å</h1><p>ä»¥ä¸‹æ˜¯æ•ˆæœ<br><img src="/img/menu/4.png" srcset="/img/loading.gif" alt=""><br><img src="/img/menu/5.png" srcset="/img/loading.gif" alt=""><br>å¦‚æœä½ æƒ³è¦äº†è§£æ›´å¤šè‡ªå®šä¹‰å†…å®¹ï¼Œå¦‚è®¾ç½®å›¾æ ‡ç­‰ï¼Œå¯ä»¥å‚è€ƒé˜…è¯»<a href="https://www.cnblogs.com/wowMVP/archive/2010/04/08/1707884.html" target="_blank" rel="noopener">å¦‚ä½•åœ¨Windowså³é”®æ–°å»ºèœå•ä¸­æ·»åŠ è‡ªå®šä¹‰é¡¹ - ä¹æ°´é±¼ - åšå®¢å›­</a></p>]]></content>
    
    
    
    <tags>
      
      <tag>æ•™ç¨‹</tag>
      
      <tag>Windows</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>é’‰é’‰æœºå™¨äºº</title>
    <link href="/tutorial/bot-dingtalk.html"/>
    <url>/tutorial/bot-dingtalk.html</url>
    
    <content type="html"><![CDATA[<h1 id="å‡†å¤‡"><a href="#å‡†å¤‡" class="headerlink" title="å‡†å¤‡"></a>å‡†å¤‡</h1><p>å‰å¾€æˆ‘çš„ä»“åº“<a href="https://github.com/liuyunfz/DingTalkBot" target="_blank" rel="noopener">DingTalkBot</a>ï¼Œå¹¶å°†å®ƒForkåˆ°è‡ªå·±çš„ä»“åº“<img src="https://cdn.jsdelivr.net/gh/liuyunfz/liuyunfz.github.io/img/dingtalk/1.png" srcset="/img/loading.gif" alt="fork"></p><h1 id="é…ç½®é’‰é’‰"><a href="#é…ç½®é’‰é’‰" class="headerlink" title="é…ç½®é’‰é’‰"></a>é…ç½®é’‰é’‰</h1><p>é¦–å…ˆé€‰æ‹©è‡ªå·±è¦æ·»åŠ æœºå™¨äººçš„ç¾¤ï¼Œé€‰æ‹©æ™ºèƒ½ç¾¤åŠ©æ‰‹<img src="https://cdn.jsdelivr.net/gh/liuyunfz/liuyunfz.github.io/img/dingtalk/2.png" srcset="/img/loading.gif" alt="ast"><br>æ·»åŠ æœºå™¨äºº<br><img src="https://cdn.jsdelivr.net/gh/liuyunfz/liuyunfz.github.io/img/dingtalk/3.png" srcset="/img/loading.gif" alt="robot"><br><img src="https://cdn.jsdelivr.net/gh/liuyunfz/liuyunfz.github.io/img/dingtalk/4.png" srcset="/img/loading.gif" alt="add"><br>å¹¶é€‰æ‹©è‡ªå®šä¹‰æœºå™¨äºº<br><img src="https://cdn.jsdelivr.net/gh/liuyunfz/liuyunfz.github.io/img/dingtalk/5.png" srcset="/img/loading.gif" alt="div"><br>å®‰å…¨è®¾ç½®é€‰æ‹©åŠ sign<br><img src="https://cdn.jsdelivr.net/gh/liuyunfz/liuyunfz.github.io/img/dingtalk/6.png" srcset="/img/loading.gif" alt="sign"><br>è®°å¾—è¦æŠŠä¸Šé¢åŠ ç­¾çš„é‚£æ®µä»£ç å¤åˆ¶ä¸‹æ¥ï¼Œä½œä¸ºsignã€‚<br>ç„¶åä¼šå‡ºç°webhookï¼Œåªéœ€è¦å¤åˆ¶tokenåé¢é‚£ä¸€æ®µï¼Œä½œä¸ºæˆ‘ä»¬çš„tokenã€‚<br><img src="https://cdn.jsdelivr.net/gh/liuyunfz/liuyunfz.github.io/img/dingtalk/7.png" srcset="/img/loading.gif" alt="token"></p><h1 id="é…ç½®Github-Action"><a href="#é…ç½®Github-Action" class="headerlink" title="é…ç½®Github Action"></a>é…ç½®Github Action</h1><p>æ¥ä¸‹æ¥æˆ‘ä»¬å¯¹æˆ‘ä»¬forkäº†çš„ä»“åº“è¿›è¡Œé…ç½®ã€‚æ‰“å¼€æˆ‘ä»¬forkäº†çš„ä»“åº“ï¼Œé€‰æ‹©Settingsï¼Œç„¶åé€‰æ‹©Secretsã€‚<br><img src="https://cdn.jsdelivr.net/gh/liuyunfz/liuyunfz.github.io/img/dingtalk/8.png" srcset="/img/loading.gif" alt="secrets">æŒ‰ç…§å›¾ç¤ºåˆ†åˆ«æ·»åŠ ä¸‰ä¸ªsecretã€‚ä¸€ä¸ªæ˜¯<strong>SECRET</strong>ï¼Œä¸€ä¸ªæ˜¯<strong>TOKEN</strong>ã€‚keyå°±å¡«ä¹‹å‰é’‰é’‰ç»™æˆ‘ä»¬çš„ã€‚è¿˜æœ‰ä¸€ä¸ª<strong>Mids</strong>å¡«å†™çš„æ˜¯ä½ è¦å…³æ³¨çš„upä¸»çš„idï¼Œå¯ä»¥ä¸å¡«ï¼Œå¦‚æœè¦è®¢é˜…å¤šä¸ªupä¸»ä¸­é—´ç”¨é€—å·åˆ†éš”å°±åƒ<code>10160261,7053465</code>ã€‚<br><img src="https://cdn.jsdelivr.net/gh/liuyunfz/liuyunfz.github.io/img/dingtalk/11.png" srcset="/img/loading.gif" alt="mid"></p><h1 id="å¯åŠ¨"><a href="#å¯åŠ¨" class="headerlink" title="å¯åŠ¨"></a>å¯åŠ¨</h1><p>åˆ°äº†è¿™é‡Œæˆ‘ä»¬å·²ç»é…ç½®å®Œæ¯•äº†æˆ‘ä»¬çš„æœºå™¨äººï¼Œå¦‚æœä½ è¦ä¿®æ”¹è¿è¡Œé¢‘ç‡çš„è¯å¯ä»¥æŒ‰ç…§ä»“åº“çš„MDæ–‡æ¡£è¿›è¡Œä¿®æ”¹ã€‚<br>æœ€åï¼Œæˆ‘ä»¬åªéœ€è¦ç‚¹ä¸€ä¸‹è‡ªå·±forkäº†çš„ä»“åº“çš„star <img src="https://cdn.jsdelivr.net/gh/liuyunfz/liuyunfz.github.io/img/dingtalk/9.png" srcset="/img/loading.gif" alt="">å®šæ—¶ä»»åŠ¡å°±å¯åŠ¨äº†ï¼Œå…·ä½“å¯ä»¥åœ¨actionsé‡ŒæŸ¥çœ‹ã€‚æ³¨æ„ï¼Œforkäº†çš„ä»“åº“é»˜è®¤ä¸ä¼šå¼€å¯GitHub Actionï¼Œè®°å¾—æ‰‹åŠ¨å»actioné‡ŒæŸ¥çœ‹ä¸€ä¸‹ï¼Œå¦‚æœå‡ºç°äº†å¦‚å›¾æ‰€ç¤ºçš„æ ·å­ <img src="https://cdn.jsdelivr.net/gh/liuyunfz/liuyunfz.github.io/img/dingtalk/53.png" srcset="/img/loading.gif" alt=""> ç‚¹å‡»ç»¿è‰²çš„â€I understandâ€¦â€å¯ç”¨GitHub Actionå³å¯ã€‚å¦‚æœä»»åŠ¡æœªæˆåŠŸå¯åŠ¨ï¼Œå–æ¶ˆè‡ªå·±ä»“åº“çš„starå†é‡æ–°starä¸€æ¬¡å³å¯ã€‚</p><p>ä»¥ä¸‹æ˜¯æ•ˆæœå›¾ï¼š<br><img src="https://cdn.jsdelivr.net/gh/liuyunfz/liuyunfz.github.io/img/dingtalk/10.png" srcset="/img/loading.gif" alt="stmp"><br>ç›®å‰è¯¥æœºå™¨äººåªæ·»åŠ äº†åŸºäºå°åˆ€ç½‘çš„çº¿æŠ¥æ¨é€ä¸bilibiliçš„upä¸»æŠ•ç¨¿æ¨é€ï¼Œå¦‚æœä½ æœ‰å…¶ä»–å»ºè®®ï¼Œæ¬¢è¿æäº¤issueæˆ–æ‹‰å–è¯·æ±‚ã€‚</p>]]></content>
    
    
    
    <tags>
      
      <tag>æ•™ç¨‹</tag>
      
      <tag>python</tag>
      
      <tag>é’‰é’‰</tag>
      
      <tag>Bot</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ç½‘ç›˜è½¬å­˜-å°†æ–‡ä»¶è½¬å­˜åˆ°OneDrive</title>
    <link href="/tutorial/mover-onedrive.html"/>
    <url>/tutorial/mover-onedrive.html</url>
    
    <content type="html"><![CDATA[<h1 id="å‡†å¤‡"><a href="#å‡†å¤‡" class="headerlink" title="å‡†å¤‡"></a>å‡†å¤‡</h1><p>é¦–å…ˆä½ å¾—æœ‰ä¸ªOneDriveè´¦å·ä»¥åŠä½ éœ€è¦è½¬å­˜çš„æºç½‘ç›˜ã€‚æ ¹æ®å®˜æ–¹æ–‡æ¡£çš„è¯´æ˜ï¼Œmoverä»…æ”¯æŒ<strong>å…¶ä»–ç½‘ç›˜è½¬å­˜è‡³OneDrive</strong>ï¼Œä¸æ”¯æŒOneDriveè½¬å­˜è‡³å…¶ä»–ç½‘ç›˜ã€‚é™¤æ­¤ä¹‹å¤–ï¼ŒMoverä¼¼ä¹å·²ç»è¢«å¾®è½¯æ”¶è´­äº†ï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥ç™»å½•ä½ çš„Microsoftè´¦å·ï¼Œä¹Ÿä¸å¤ªéœ€è¦æ‹…å¿ƒå®‰å…¨é—®é¢˜ã€‚  </p><p>å®˜æ–¹æ”¯æŒçš„ç½‘ç›˜å¦‚ä¸‹ï¼š<br>  <strong>File Shares , Amazon S3 , Azure Blob Storage , Box , Dropbox , Egnyte , Google Drive , Office 365 , OneDrive , SharePoint Online</strong></p><p>ç½‘ç«™åœ°å€ï¼š <a href="https://app.mover.io/login" target="_blank" rel="noopener">https://app.mover.io/login</a>  </p><h1 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h1><p>å› ä¸ºæˆ‘ä¸ªäººä¹Ÿæœ‰è½¬å­˜çš„éœ€æ±‚ï¼ˆæˆ‘çš„å¤§å¤šæ•°èµ„æºéƒ½æ˜¯GDèµ„æºç¾¤é‡Œè½¬å­˜æ¥çš„ï¼Œæ‰€ä»¥éƒ½åœ¨GDé‡Œï¼Œè€Œå›½å†…å› ä¸ºä¼—æ‰€å‘¨çŸ¥çš„åŸå› æ— æ³•ç›´æ¥è®¿é—®ï¼‰æ‰€ä»¥å°±æƒ³æŠŠGDé‡Œçš„ä¸œè¥¿è½¬å­˜åˆ°OneDriveé‡Œï¼ˆofficeçš„E5è´¦å·é™„å¸¦äº†5Tçš„ç©ºé—´ï¼‰ã€‚E5åº”è¯¥æ˜¯äººå‡éƒ½æœ‰çš„ï¼Œæ‰€ä»¥è¿™é‡Œä¹Ÿå°±ä¸èµ˜è¿°äº†ã€‚  </p><h2 id="ç™»å½•"><a href="#ç™»å½•" class="headerlink" title="ç™»å½•"></a>ç™»å½•</h2><p>é¦–å…ˆç™»å½•ä¸Šæˆ‘ä»¬çš„å¾®è½¯è´¦æˆ·ï¼Œå¯ä»¥ç›´æ¥ç™»å½•Businessè´¦å·ã€‚<img src="https://cdn.jsdelivr.net/gh/liuyunfz/liuyunfz.github.io/img/mover/1.png" srcset="/img/loading.gif" alt=""><br><img src="https://cdn.jsdelivr.net/gh/liuyunfz/liuyunfz.github.io/img/mover/2.png" srcset="/img/loading.gif" alt=""></p><h2 id="ç½‘ç›˜è¿æ¥"><a href="#ç½‘ç›˜è¿æ¥" class="headerlink" title="ç½‘ç›˜è¿æ¥"></a>ç½‘ç›˜è¿æ¥</h2><p><img src="https://cdn.jsdelivr.net/gh/liuyunfz/liuyunfz.github.io/img/mover/3.png" srcset="/img/loading.gif" alt=""><br>è¿™é‡Œæˆ‘é€‰æ‹©Google Drive (Single User)ï¼Œå¥½åƒå°±æ˜¯æ™®é€šç”¨æˆ·çš„Google Driveç›®å½•ã€‚<br><img src="https://cdn.jsdelivr.net/gh/liuyunfz/liuyunfz.github.io/img/mover/4.png" srcset="/img/loading.gif" alt=""><br>æˆæƒçš„æ—¶å€™è®°å¾—è¿˜æ˜¯è¦å¼€å¯æŸç§ç¥ç§˜åŠ›é‡çš„ï¼Œå› ä¸ºéœ€è¦è°ƒç”¨Googleçš„æˆæƒã€‚<br><img src="https://cdn.jsdelivr.net/gh/liuyunfz/liuyunfz.github.io/img/mover/5.png" srcset="/img/loading.gif" alt=""><br>é€‰æ‹©å®Œæºä¸ç›®å½•åå°±å¯ä»¥è¿›è¡Œstart copyäº†ã€‚ä¸è¿‡å› ä¸ºæˆ‘çš„èµ„æºéƒ½æ˜¯è½¬å­˜åˆ°äº†å›¢é˜ŸGoogle Driveé‡Œäº†ï¼Œæ‰€ä»¥æˆ‘çš„ä¸ªäººè´¦æˆ·é‡Œå¹¶æ²¡æœ‰æ–‡ä»¶ã€‚è¿™è¾¹æˆ‘ç”¨åˆ°æ˜¯ä¸€ä¸ªæ”¯æŒWebDaveçš„appâ€”â€”Mixploreï¼Œæˆ‘ä¸çŸ¥é“ç½‘é¡µç‰ˆèƒ½ä¸èƒ½ç›´æ¥è¿›è¡Œæ“ä½œï¼Œä¸è¿‡è¿™ä¸ªå¯ä»¥ç›´æ¥å°†å›¢é˜Ÿç›˜é‡Œçš„æ–‡ä»¶å¤åˆ¶åˆ°ä¸ªäººç›˜é‡Œã€‚<br>è¿™è¾¹ä¹Ÿå®‰åˆ©ä¸€ä¸‹è¿™ä¸ªè½¯ä»¶ï¼Œæ”¯æŒçš„åè®®å’Œç½‘ç›˜è¿˜æ˜¯å¾ˆå¤šçš„ã€‚<br><img src="https://cdn.jsdelivr.net/gh/liuyunfz/liuyunfz.github.io/img/mover/6.png" srcset="/img/loading.gif" alt=""><br><img src="https://cdn.jsdelivr.net/gh/liuyunfz/liuyunfz.github.io/img/mover/6.jpg" srcset="/img/loading.gif" alt=""><br>å…·ä½“æ­¥éª¤å°±æ˜¯ç›´æ¥ä»å›¢é˜Ÿç›˜é‡Œå¤åˆ¶ï¼Œç„¶åé€€å›åˆ°è‡ªå·±çš„ç›˜ç›®å½•ï¼Œç„¶åç²˜è´´å³å¯ï¼Œä¸€èˆ¬ç­‰å¾…ä¸€åˆ°ä¸¤ç§’å³å¯ã€‚<br><img src="https://cdn.jsdelivr.net/gh/liuyunfz/liuyunfz.github.io/img/mover/2.jpg" srcset="/img/loading.gif" alt=""></p><h2 id="å¼€å§‹è½¬å­˜"><a href="#å¼€å§‹è½¬å­˜" class="headerlink" title="å¼€å§‹è½¬å­˜"></a>å¼€å§‹è½¬å­˜</h2><p>ç„¶åå›åˆ°æˆ‘ä»¬çš„moverï¼Œåˆ·æ–°ä¸€ä¸‹å°±å¯ä»¥çœ‹åˆ°ç½‘ç›˜é‡Œçš„å†…å®¹æ›´æ–°äº†ï¼Œå¯ä»¥å‘ç°Google Driveä¸ªäººç›˜é‡Œå·²ç»å¤šäº†æˆ‘ä»¬åˆšåˆšå¤åˆ¶è¿‡å»çš„äº†ï¼Œç„¶åé€‰æ‹©å¥½ç›®å½•åå°±ç›´æ¥ç‚¹å‡»start copyå³å¯ã€‚<br><img src="https://cdn.jsdelivr.net/gh/liuyunfz/liuyunfz.github.io/img/mover/7.png" srcset="/img/loading.gif" alt=""><br>è¿™ä¸ªrunningçš„ä»»åŠ¡å°±æ˜¯æˆ‘ä»¬åˆšåˆšåˆ›å»ºçš„äº†ï¼Œå› ä¸ºæˆ‘ä¹‹å‰å·²ç»è‡ªå·±è¯•è¿‡äº†ï¼Œæ‰€ä»¥æ˜¾ç¤ºå·²ç»å®Œæˆäº†ä¸€ä¸ªä»»åŠ¡ã€‚<br><img src="https://cdn.jsdelivr.net/gh/liuyunfz/liuyunfz.github.io/img/mover/8.png" srcset="/img/loading.gif" alt=""><br>æ¥ä¸‹æ¥é™å¾…å‡ åˆ†é’Ÿå³å¯ã€‚åœ¨è¿™æ®µæ—¶é—´å†…æˆ‘ä»¬ä¹Ÿå¯ä»¥å…³é—­æˆ‘ä»¬çš„ç½‘é¡µï¼Œå¦‚æœæƒ³è¦æŸ¥çœ‹çš„è¯åªéœ€è¦ç™»å½•moverååœ¨migration manageré‡ŒæŸ¥çœ‹å°±è¡Œã€‚<br>æœ€åè½¬å­˜å®Œæˆï¼Œæ€»å¤§å°7.94Gï¼Œè€—æ—¶29minï¼Œè™½ç„¶ä¸ç®—å¿«ï¼Œä½†æ˜¯èƒœåœ¨ä¸è€—æµé‡ä¸éœ€è¦å¸¸é©»ã€‚<br><img src="https://cdn.jsdelivr.net/gh/liuyunfz/liuyunfz.github.io/img/mover/9.png" srcset="/img/loading.gif" alt=""></p><h1 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h1><p>æ€»ä½“æ¥è¯´moveræ˜¯ä¸ªä¸é”™çš„è½¬å­˜æ–¹å¼ï¼Œä¸ä»…å¯ä»¥å‰©ä¸‹æµé‡æ—¶é—´ï¼Œè€Œä¸”å®Œå…¨å…è´¹ã€‚å”¯ä¸€çš„ç¼ºæ†¾å°±æ˜¯ä»–åªèƒ½å°†å…¶ä»–æ–‡ä»¶è½¬å­˜åˆ°OneDriveé‡Œï¼Œè€Œä¸”ä¸æ”¯æŒæŸåº¦ã€‚</p>]]></content>
    
    
    
    <tags>
      
      <tag>OneDrive</tag>
      
      <tag>Google Drive</tag>
      
      <tag>ç½‘ç›˜</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€issue å·²è§£å†³ã€‘ä¸€æ¬¡gzipå¯¼è‡´çš„ç¼–ç é—®é¢˜</title>
    <link href="/issue/issue-gzip.html"/>
    <url>/issue/issue-gzip.html</url>
    
    <content type="html"><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>ä¸ºäº†çœå»æ¯æ—¥éƒ½è¦æ‰‹åŠ¨ç­¾åˆ°çš„éº»çƒ¦ï¼Œæˆ‘æƒ³è¦åšä¸€ä¸ªæŸæœºåœºçš„è‡ªåŠ¨ç­¾åˆ°ã€‚ç»¼åˆåˆ†æä¸‹æ¥ï¼ŒæŠ€æœ¯éš¾åº¦å¹¶ä¸å¤§ï¼Œåªæ˜¯æ™®é€šçš„ä¸¤ä¸ªrequeståŒ…ï¼Œä¸€ä¸ªå®ç°ç™»å½•ï¼Œä¸€ä¸ªå®ç°ç­¾åˆ°å³å¯ï¼Œè€Œä¸”å¹¶æ— å•¥éªŒè¯ç æˆ–è€…signéªŒè¯ç­‰ã€‚<br>è€Œå½“æˆ‘å°è¯•å†™å®Œäº†æ‰€æœ‰ä»£ç ï¼Œå®Œäº‹å…·å¤‡åªæ¬ ä¸œé£æ—¶ï¼Œå´å‘ç°è¿”å›çš„ç»“æœè«åä¹±ç äº†ã€‚<br><img src="/img/51.png" srcset="/img/loading.gif" alt="code"></p><h1 id="å°è¯•"><a href="#å°è¯•" class="headerlink" title="å°è¯•"></a>å°è¯•</h1><h2 id="ç¼–ç é—®é¢˜"><a href="#ç¼–ç é—®é¢˜" class="headerlink" title="ç¼–ç é—®é¢˜"></a>ç¼–ç é—®é¢˜</h2><p>æ—¢ç„¶å‡ºç°äº†ä¹±ç ï¼Œç†æ‰€å½“ç„¶ç¬¬ä¸€æ—¶é—´æƒ³åˆ°çš„å°±æ˜¯responseçš„è§£ç å‡ºç°äº†é—®é¢˜ã€‚äºæ˜¯æˆ‘å°è¯•æ‰‹åŠ¨è®¾ç½®ä¸ºUTF-8è§£ç ï¼Œå› ä¸ºæˆ‘çœ‹äº†ä¸‹ç½‘é¡µæºç é‡Œæœ‰æŒ‡æ˜charsetä¸ºUTF-8</p><div class="hljs"><pre><code class="hljs python">rsp.encoding=<span class="hljs-string">"utf-8"</span></code></pre></div><p>ç»“æœå‡ºä¹æ„æ–™ï¼Œæˆ‘çš„é—®é¢˜å¹¶æ²¡æœ‰å¾—åˆ°è§£å†³ï¼Œè¿”å›çš„å†…å®¹ä»ç„¶æ˜¯ä¹±ç çŠ¶æ€ã€‚äºæ˜¯æˆ‘åˆå°è¯•äº†å…¶ä»–ç¼–ç :gbk,gb2312ç­‰ã€‚ç»“æœéƒ½æ²¡æœ‰è¿”å›æˆ‘æƒ³è¦çš„æ­£ç¡®å­—ç¬¦ã€‚ </p><h2 id="GZIPé—®é¢˜"><a href="#GZIPé—®é¢˜" class="headerlink" title="GZIPé—®é¢˜"></a>GZIPé—®é¢˜</h2><p>æ³¨æ„åˆ°gzipæ˜¯ç”±äºæˆ‘å°†ä¹±ç çš„å­—ç¬¦æ”¾åˆ°äº†æœç´¢å¼•æ“ï¼Œå‘ç°ä¹Ÿæ›¾æœ‰äººæå‡ºè¿‡ç±»ä¼¼çš„é—®é¢˜ï¼Œå¹¶ä¸”ç»™å‡ºäº†gzipçš„ç›¸å…³å†…å®¹ï¼Œå¯æƒœæ¶‰åŠçš„ä¸æ·±ï¼Œå†…å®¹ä¹Ÿæ¯”è¾ƒå°‘ã€‚äºæ˜¯æˆ‘åœ¨äº†è§£åˆ°å¯èƒ½æ˜¯gzipé—®é¢˜æ—¶å°±å°è¯•è‡ªå·±å‘æ˜é”™è¯¯ã€‚<br>æˆ‘è§‚å¯Ÿäº†æˆ‘çš„response-headersï¼Œå‘ç°å…¶ä¸­æ­£å¥½æœ‰gzip<code>&#39;accept-encoding&#39;:&#39;gzip, deflate, br&#39;,</code> ï¼Œäºæ˜¯æˆ‘çŒœæµ‹å¯èƒ½æ˜¯pythonåœ¨è¿›è¡Œè§£ç æ—¶å¹¶æœªå…ˆå¯¹è¿”å›å†…å®¹è¿›è¡Œgizpè§£å‹ï¼Œä»è€Œå¯¼è‡´çš„ä¹±ç é”™è¯¯ã€‚<br>ç„¶åæˆ‘å°±ä¸Šç½‘æŸ¥é˜…äº†pythonç›¸å…³çš„gzipè°ƒç”¨è§£å‹ï¼Œåœ¨responseè§£ç å‰å…ˆå¯¹å…¶è¿›è¡Œgzipè§£å‹ã€‚ç»“æœä¾ç„¶æ˜¯ä¹±ç ï¼Œåˆ°æ­¤æˆ‘ä¾¿é™·å…¥äº†æ·±æ·±çš„å›°æƒ‘ï¼Œè¿™ä¸ªé—®é¢˜ä¸€ç›´å¡äº†æˆ‘ä¸‰å››å¤©ã€‚</p><h1 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h1><p>å…¶å®åˆ°äº†ä¸Šé¢çš„gzipï¼Œæˆ‘å·²ç»ç¦»ç­”æ¡ˆéå¸¸è§£å†³äº†ï¼Œå¯æƒœæˆ‘é”™æƒ³äº†ä¸€æ­¥ã€‚æˆ‘è®¤ä¸ºçš„æ˜¯responseæœ¬èº«å·²ç»gzipå‹ç¼©äº†ï¼Œä½†pythonæ²¡æœ‰è§£å‹ã€‚è€Œå®é™…æƒ…å†µåˆ™æ˜¯responseæœ¬èº«æ²¡æœ‰å‹ç¼©ï¼Œè€Œpythonè¯»å–åˆ°headersé‡Œçš„gzipï¼Œè‡ªåŠ¨ä¸ºresponseè¿›è¡Œäº†è§£å‹ã€‚ç»“æœå°±å¯¼è‡´äº†ä¸Šé¢å‡ºç°äº†ä¹±ç ã€‚<br>æœ€åçš„ä¿®æ”¹ä¹Ÿå¾ˆç®€å•ï¼Œåªéœ€è¦æ‰‹åŠ¨å°†accept-encodingä¸­ç›¸å…³çš„gzipåˆ é™¤ï¼Œä»¥é˜²æ­¢pythonçš„é”™è¯¯åˆ¤æ–­å³å¯ã€‚</p><div class="hljs"><pre><code class="hljs python"><span class="hljs-string">'accept-encoding'</span>:<span class="hljs-string">'deflate'</span>,</code></pre></div><p>å†æ¬¡å°è¯•ï¼Œé—®é¢˜æˆåŠŸå¾—åˆ°äº†è§£å†³ã€‚<br><img src="/img/52.png" srcset="/img/loading.gif" alt="code_success"></p>]]></content>
    
    
    <categories>
      
      <category>issue</category>
      
    </categories>
    
    
    <tags>
      
      <tag>issue</tag>
      
      <tag>gzip</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä¸ºå¾®ä¿¡å…¬ä¼—å·æ¥å…¥ç–«æƒ…æ•°æ®æŸ¥è¯¢</title>
    <link href="/tutorial/python-wechat-searchvirus.html"/>
    <url>/tutorial/python-wechat-searchvirus.html</url>
    
    <content type="html"><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>è¯æ¥ä¸Šæ–‡çš„ã€Šåˆ©ç”¨Pythonçˆ¬å–ä¸é¦™å›­ç–«æƒ…æ•°æ®ã€‹ï¼Œæœ¬æ¬¡å°†åˆ©ç”¨è¿™ä¸ªå®Œæˆçš„apiï¼Œå¯¹æ¥å¾®ä¿¡ï¼Œå®ç°å¾®ä¿¡å…¬ä¼—å·ç–«æƒ…æŸ¥è¯¢ã€‚å¦‚æœæœªçœ‹è¿‡ä¸Šä¸€ç¯‡æ–‡ç« çš„ï¼Œå¯ä»¥ <a href="https://blog.6yfz.cn/tutorial/python-spider-dxy.html">ç‚¹æˆ‘å‰å¾€</a> ã€‚</p><h1 id="å‡†å¤‡"><a href="#å‡†å¤‡" class="headerlink" title="å‡†å¤‡"></a>å‡†å¤‡</h1><p>æœ¬æ¬¡åˆ©ç”¨äº†pythonå¾®ä¿¡å…¬ä¼—å·å¼€å‘æ¡†æ¶çš„ä¸€ä¸ªæ¨¡å—â€”â€”<a href="https://github.com/offu/WeRoBot" target="_blank" rel="noopener">werobot</a>ï¼Œå…·ä½“åŠŸèƒ½å¯ä»¥é˜…è¯»<a href="https://werobot.readthedocs.io/zh_CN/latest/" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a>ã€‚<br>é™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜éœ€è¦ä¸€å°æœåŠ¡å™¨ï¼ˆä»…æŒ‡å‡º80æˆ–443ç«¯å£ï¼‰ï¼Œç”¨ä½œå…¬ä¼—å·çš„åŠŸèƒ½å¯¹æ¥ã€‚</p><h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><p>ä¸ºäº†æ–‡ç« å†…å®¹ä¸å­—æ•°è€ƒè™‘ï¼Œæœ¬æ–‡ä¸ä»é›¶å¼€å§‹æè¿°å¦‚ä½•è¿›è¡Œå…¬ä¼—å·çš„åŸºæœ¬å¯¹æ¥å’ŒéªŒè¯ï¼Œç›´æ¥å¼€å§‹åˆ°åŠŸèƒ½æ·»åŠ ã€‚</p><h2 id="åˆ¤æ–­å…¬ä¼—å·ä½ç½®æ•°æ®å†…å®¹"><a href="#åˆ¤æ–­å…¬ä¼—å·ä½ç½®æ•°æ®å†…å®¹" class="headerlink" title="åˆ¤æ–­å…¬ä¼—å·ä½ç½®æ•°æ®å†…å®¹"></a>åˆ¤æ–­å…¬ä¼—å·ä½ç½®æ•°æ®å†…å®¹</h2><p>ä¸ºäº†åˆ¤æ–­ç”¨æˆ·ä½ç½®ï¼Œæˆ‘ä»¬éœ€è¦çŸ¥é“ç”¨æˆ·å‘é€äº†çš„åœ°å›¾ä½ç½®æ•°æ®åœ¨åå°æ˜¾ç¤ºçš„æ˜¯ä»€ä¹ˆï¼Œæ‰€ä»¥æˆ‘ä»¬åˆ†åˆ«åˆ°å‰åç«¯è¿›è¡ŒæŸ¥çœ‹ã€‚</p><h3 id="åç«¯"><a href="#åç«¯" class="headerlink" title="åç«¯"></a>åç«¯</h3><p>é¦–å…ˆåç«¯å…ˆå†™å¥½è°ƒè¯•çš„ä»£ç ï¼Œä¸ºäº†æ–¹ä¾¿è§‚å¯Ÿï¼Œæˆ‘ä»¬debugå’ŒreturnåŒæ—¶è¿”å›ç”¨æˆ·å‘é€çš„locationçš„æ•°æ®å†…å®¹ã€‚<br><img src="https://cdn.jsdelivr.net/gh/liuyunfz/liuyunfz.github.io/img/43.png" srcset="/img/loading.gif" alt="ä»£ç "><br>å¹¶ä¸”å¯åŠ¨æˆ‘ä»¬çš„ç«¯å£ç›‘å¬<br><img src="https://cdn.jsdelivr.net/gh/liuyunfz/liuyunfz.github.io/img/44.png" srcset="/img/loading.gif" alt="å¯åŠ¨"></p><h3 id="å‰ç«¯"><a href="#å‰ç«¯" class="headerlink" title="å‰ç«¯"></a>å‰ç«¯</h3><p>ç„¶åæˆ‘ä»¬å»å‰ç«¯å‘é€ä½ç½®æ•°æ®ï¼Œçœ‹çœ‹è¿”å›äº†ä»€ä¹ˆã€‚<br><img src="https://cdn.jsdelivr.net/gh/liuyunfz/liuyunfz.github.io/img/46.jpg" srcset="/img/loading.gif" alt="å‰ç«¯"></p><h3 id="æ•°æ®åˆ¤æ–­"><a href="#æ•°æ®åˆ¤æ–­" class="headerlink" title="æ•°æ®åˆ¤æ–­"></a>æ•°æ®åˆ¤æ–­</h3><p>å†å»çœ‹çœ‹åç«¯<br><img src="https://cdn.jsdelivr.net/gh/liuyunfz/liuyunfz.github.io/img/45.png" srcset="/img/loading.gif" alt="åç«¯"><br>å¯ä»¥çœ‹åˆ°ï¼Œå‰ç«¯å’Œåç«¯éƒ½è¿”è¿˜äº†ä¸€ä¸ªç»çº¬åº¦æ•°æ®ï¼Œå¹¶ä¸”æ•°æ®ç±»å‹æ˜¯tupleï¼ˆå¯ä»¥è‡ªè¡Œç”¨type()å‡½æ•°è¿›è¡ŒæŸ¥è¯¢ï¼‰ã€‚</p><h2 id="é€†åœ°ç†ç¼–ç "><a href="#é€†åœ°ç†ç¼–ç " class="headerlink" title="é€†åœ°ç†ç¼–ç "></a>é€†åœ°ç†ç¼–ç </h2><p>å¾®ä¿¡å…¬ä¼—å·çš„åœ°å›¾æ•°æ®è¿”å›çš„æ˜¯ç»çº¬åº¦ä¿¡æ¯ï¼Œä½†æ˜¯æˆ‘ä»¬ä¸Šæ¬¡å®ç°çš„æ˜¯åˆ©ç”¨åœ°åŒºçš„åå­—åˆ¤æ–­æŸ¥è¯¢çš„ç–«æƒ…æ•°æ®ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ç”¨åˆ°<a href="http://lbsyun.baidu.com/" target="_blank" rel="noopener">ç™¾åº¦å¼€å‘å¹³å°</a>çš„é€†åœ°ç†ç¼–ç ï¼Œå®ç°å°†å·¦è¾¹åœ°å€è½¬æ¢ä¸ºåœ°åŒºä¿¡æ¯ã€‚å³ä½¿æ˜¯æœªè®¤è¯çš„ç”¨æˆ·ä¹Ÿæœ‰æ¯æ—¥å…­åƒæ¡çš„é…é¢ï¼Œå¹¶å‘50æ¬¡/sï¼Œå¯¹äºæ™®é€šç”¨æˆ·æ¥è¯´å®Œå…¨è¶³å¤Ÿã€‚<br>æ‰€ä»¥æˆ‘ä»¬åˆ©ç”¨ç™¾åº¦è´¦å·ç™»å½•è¿™ä¸ªå¼€å‘è€…å¹³å°ï¼Œåˆ›å»ºä¸€ä¸ªåº”ç”¨<br><img src="https://cdn.jsdelivr.net/gh/liuyunfz/liuyunfz.github.io/img/46.png" srcset="/img/loading.gif" alt="æ³¨å†Œåº”ç”¨"><br>å…·ä½“æ­¥éª¤å°±ä¸å±•ç¤ºäº†ï¼Œè®°å¾—å‹¾é€‰é€†åœ°ç†ç¼–ç å°±è¡Œã€‚<br>ç„¶åæˆ‘ä»¬æŸ¥çœ‹å®˜æ–¹çš„<a href="http://lbsyun.baidu.com/index.php?title=webapi/guide/webservice-geocoding-abroad" target="_blank" rel="noopener">é€†åœ°ç†ç¼–ç è°ƒç”¨æ–‡æ¡£</a><br><img src="https://cdn.jsdelivr.net/gh/liuyunfz/liuyunfz.github.io/img/47.png" srcset="/img/loading.gif" alt="æœåŠ¡æ–‡æ¡£"><br>è¿™è¾¹ä½ ä»¬è‡ªå·±çœ‹çœ‹å¥¥ï¼Œæ—¢ç„¶éƒ½æ˜¯ç¨‹åºå‘˜äº†ï¼Œè¿™ç‚¹åŸºç¡€è‚¯å®šæœ‰çš„ï¼Œæˆ–è€…çœ‹æˆ‘å†™çš„æˆå“ã€‚<br><img src="https://cdn.jsdelivr.net/gh/liuyunfz/liuyunfz.github.io/img/48.png" srcset="/img/loading.gif" alt="apiè¯·æ±‚"><br>ä¸ºäº†ä¸å¿…è¦çš„éº»çƒ¦ï¼Œæˆ‘ä»¬å…ˆæœ¬åœ°æŒ‡å®šç»çº¬åº¦ï¼Œå¹¶ä¸”åˆ†æä¸‹è¿”å›çš„æ•°æ®ã€‚<br><img src="https://cdn.jsdelivr.net/gh/liuyunfz/liuyunfz.github.io/img/49.png" srcset="/img/loading.gif" alt="apiè¿”å›æ•°æ®"><br>å¯ä»¥å‘ç°æ˜¯æˆåŠŸçš„ï¼Œæˆ‘ä»¬ä¹ŸçŸ¥é“è¿”å›jsonçš„å…·ä½“å†…å®¹ï¼Œå‰©ä¸‹çš„å°±æ˜¯æ¥å…¥å®Œå–„äº†ã€‚</p><h2 id="ä»£ç æ¥å…¥"><a href="#ä»£ç æ¥å…¥" class="headerlink" title="ä»£ç æ¥å…¥"></a>ä»£ç æ¥å…¥</h2><p>ä¸Šé¢çš„apiå·²ç»å†™å®Œäº†ï¼Œç„¶åå°±æ˜¯å’Œä¸Šæ¬¡çš„å†…å®¹å¯¹æ¥äº†ã€‚<br><img src="https://cdn.jsdelivr.net/gh/liuyunfz/liuyunfz.github.io/img/50.png" srcset="/img/loading.gif" alt="åŠŸèƒ½å¯¹æ¥"></p><h1 id="åŠŸèƒ½æµ‹è¯•"><a href="#åŠŸèƒ½æµ‹è¯•" class="headerlink" title="åŠŸèƒ½æµ‹è¯•"></a>åŠŸèƒ½æµ‹è¯•</h1><p>æˆ‘ä»¬å†å°†å†™å¥½çš„ä»£ç è½¬åˆ°åç«¯ï¼Œç„¶åè¿è¡Œã€‚å»å‰ç«¯è¯•ä¸€è¯•ã€‚<br><img src="https://cdn.jsdelivr.net/gh/liuyunfz/liuyunfz.github.io/img/50.jpg" srcset="/img/loading.gif" alt="åŠŸèƒ½æµ‹è¯•"><br>å¤§åŠŸå‘Šæˆï¼  </p><h1 id="åè¯"><a href="#åè¯" class="headerlink" title="åè¯"></a>åè¯</h1><p>æœ¬æ¬¡ä¸»è¦çš„éš¾ç‚¹åœ¨äºéœ€è¦è°ƒç”¨ç™¾åº¦çš„åœ°ç†é€†ç¼–ç ï¼Œæ€»ä½“è¿˜æ˜¯ç®€å•çš„ï¼Œè¿™æ ·æˆ‘ä»¬å°±ä¸ºæˆ‘ä»¬çš„å…¬ä¼—å·å¢æ·»äº†ä¸€ä¸ªç–«æƒ…æŸ¥è¯¢åŠŸèƒ½ã€‚  </p><p>ä½†æ˜¯è¿™æ®µä»£ç ä»ç„¶æœ‰ç¼ºé™·ï¼š</p><ol><li>æ˜¯ä¸Šæ¬¡é—ç•™ä¸‹æ¥çš„é—®é¢˜ï¼Œåœ°åŒºæŸ¥è¯¢å› ä¸ºéƒ¨åˆ†ä¾‹å¦‚è‡ªæ²»åŒºæˆ–è€…è¡—é“ç­‰ç‰¹æ®Šåç§°ï¼Œå¯¼è‡´æ— æ³•åˆ©ç”¨ç®€å•çš„[:-1]è¿›è¡ŒåŒ¹é…</li><li>å…¶å®ä¹Ÿå’Œç¬¬ä¸€ä¸ªå·®ä¸å¤šï¼Œæˆ‘ä»¬åˆ©ç”¨çš„æ˜¯åå­—æš´åŠ›å¾ªç¯åŒ¹é…æŸ¥æ‰¾ï¼Œç†æƒ³çŠ¶æ€æ˜¯ç›´æ¥é€šè¿‡ç»çº¬åº¦è·å¾—ç–«æƒ…æ•°æ®ï¼ˆåº”è¯¥èƒ½å®ç°ï¼Œä½†å¾—å¦å¤–æƒ³åŠæ³•æŠ“åŒ…äº†ï¼‰</li></ol><p>ä»¥ä¸Šæ˜¯å…¨éƒ¨å†…å®¹ï¼Œå¦‚æœæœ‰ç–‘é—®æˆ–è€…ä¸å¯¹ï¼Œåˆæˆ–è€…æ˜¯æœ‰æ›´å¥½çš„è§£å†³åŠæ³•ï¼Œéƒ½å¯ä»¥åœ¨ä¸‹é¢ç•™è¨€æˆ–è€…é€šè¿‡å…¶ä»–æ–¹å¼è”ç³»æˆ‘~</p>]]></content>
    
    
    
    <tags>
      
      <tag>æ•™ç¨‹</tag>
      
      <tag>python</tag>
      
      <tag>å¾®ä¿¡å…¬ä¼—å·</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ—¥è®°-2020å¹´4æœˆ20æ—¥</title>
    <link href="/diary/20200420.html"/>
    <url>/diary/20200420.html</url>
    
    <content type="html"><![CDATA[<div class="note note-primary"><p><strong>2020.04.23ï¼š å·²æ›´æ–°åç»­</strong></p></div>  <h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>ç°åœ¨æ˜¯æ™šä¸Šçš„23ç‚¹22åˆ†ï¼Œæœ¬æ¥æˆ‘å·²ç»å…³é—­äº†ç”µè„‘ï¼Œå¹¶ä¸”æ´—æ¼±å®Œæ‰“ç®—ä¸ŠåºŠï¼Œä½†å› ä¸ºä¸€ä»¶äº‹ä¹…ä¹…ä¸èƒ½é‡Šæ€€ã€‚  </p><h1 id="äº‹æƒ…ç»è¿‡"><a href="#äº‹æƒ…ç»è¿‡" class="headerlink" title="äº‹æƒ…ç»è¿‡"></a>äº‹æƒ…ç»è¿‡</h1><p>è¿™æ®µä¸å¹¸çš„ç»å†å‘ç”Ÿåœ¨ä¸€ä¸ªæˆ‘åˆšè®¤è¯†äº†ä¸åˆ°ä¸€å‘¨çš„æ¥è‡ªé…·å®‰çš„ç¾¤å‹ã€‚å°±åœ¨æ˜¨æ—¥ï¼Œä»–è¿˜åœ¨å’Œæˆ‘ä»¬ç•…è°ˆæ‰“ç®—æ˜æ—¥åœ¨é˜¿é‡Œäº‘ä¹°å°å­¦ç”Ÿæœºï¼Œç„¶åæŠŠåŸŸåå¤‡æ¡ˆã€‚ç„¶è€Œä»Šå¤©ä¸€æ—©ï¼Œå´æ”¶åˆ°äº†ä»–çš„æ¶ˆæ¯ã€‚<br><img src="https://cdn.jsdelivr.net/gh/liuyunfz/liuyunfz.github.io/img/38.png" srcset="/img/loading.gif" alt="img"><br>æ˜¨å¤©è¿˜è¯´è¦å¤‡æ¡ˆçš„ï¼Œæ€ä¹ˆä»Šå¤©çªç„¶è¯´è¦åšå®¢è·¯è¦æš‚æ—¶åœæ­¢äº†ï¼Ÿ<br>éšå³è€Œæ¥çš„ï¼Œæ˜¯æˆ‘ä¸€ç›´æœ‰è€³é—»ï¼Œä½†å´ä»æœªçœŸåˆ‡æ„Ÿå—åˆ°çš„äº‹â€”â€”DDOS<br>ä»¥ä¸‹æ˜¯èŠå¤©è®°å½•ï¼š<br><img src="https://cdn.jsdelivr.net/gh/liuyunfz/liuyunfz.github.io/img/39.png" srcset="/img/loading.gif" alt="img"><br>ä»¥ä¸‹æ˜¯æ¶‰åŠåˆ°çš„å›¾ç‰‡<br><img src="https://cdn.jsdelivr.net/gh/liuyunfz/liuyunfz.github.io/img/41.jpg" srcset="/img/loading.gif" alt="img"><br><img src="https://cdn.jsdelivr.net/gh/liuyunfz/liuyunfz.github.io/img/40.jpg" srcset="/img/loading.gif" alt="img"><br>çŸ­çŸ­ä¸€ä¸ªæ™šä¸Šï¼Œ6Tçš„æµé‡ï¼Œç›´æ¥æ¬ è´¹4500å…ƒï¼Œè¿™å¯¹ä»»ä½•ä¸€ä¸ªä¸ªäººåšå®¢éƒ½æ˜¯ä¸€ä¸ªéš¾ä»¥æ‰¿æ‹…çš„æ•°ç›®ï¼Œè€Œè¿™ä¸ªä¸å¹¸çš„é­é‡è€…ï¼Œè¿˜ä»…ä»…æ˜¯ä¸€ä¸ªåˆä¸­ç”Ÿã€‚  </p><h1 id="æ„Ÿæ€"><a href="#æ„Ÿæ€" class="headerlink" title="æ„Ÿæ€"></a>æ„Ÿæ€</h1><p>æˆ‘ä¸ºä»–çš„é­é‡æ„Ÿåˆ°ä¸å¹¸ï¼Œä½†æˆ‘å´ä¸èƒ½ä¸ºä»–åšç‚¹ä»€ä¹ˆï¼Œå› ä¸ºåœ¨æ­¤ä¹‹å‰æˆ‘ä»æœªé‡åˆ°è¿‡è¿™ç±»äº‹æƒ…ã€‚æˆ‘æ— è¯å¯è¯´ï¼Œåªèƒ½åŠä»–ä¿æŒå¿ƒæ€ï¼Œä»¥åŠå†™ä¸‹è¿™ç¯‡æ–‡ç« ç”¨æ¥è­¦é†’ä½ æˆ‘ã€‚è¢«DDOSä¹Ÿè®¸åªæ˜¯ä¸€ä¸ªéšæœºçš„äº‹ä»¶ï¼Œä½†è°ä¹Ÿä¸èƒ½ä¿è¯å®ƒä¸ä¼šé™ä¸´åˆ°è‡ªå·±çš„èº«ä¸Šï¼Œæˆ‘ä»¬åªæœ‰åœ¨å±æœºåˆ°æ¥ä¹‹å‰ï¼Œåšå¥½å‡†å¤‡ã€‚<br>æˆªè‡³ç°åœ¨23ï¼š40åˆ†ï¼Œè…¾è®¯äº‘å®˜æ–¹å®¢æœçš„æ€åº¦ä»ç„¶æ˜¯ä¸å¯¹æµé‡åŠè´¹ç”¨è¿›è¡Œé€€å›ï¼Œå¯èƒ½ä¼šæŠ¥å…¬å®‰å§ï¼Œä½†å®ƒæ²¡å¤‡æ¡ˆï¼Œä¹Ÿä¸çŸ¥é“èƒ½ä¸èƒ½æˆåŠŸã€‚<br>å°±å…ˆå†™åˆ°è¿™å§ï¼Œæœ‰åç»­æˆ‘ä¼šç»§ç»­åœ¨è¿™ç¯‡æ–‡ç« æ›´è¿›ï¼Œå¸Œæœ›å®ƒèƒ½æŒºè¿‡è¿™ä¸€åŠ«ã€‚</p><h1 id="åç»­ï¼ˆæ›´æ–°äº4-23"><a href="#åç»­ï¼ˆæ›´æ–°äº4-23" class="headerlink" title="åç»­ï¼ˆæ›´æ–°äº4.23)"></a>åç»­ï¼ˆæ›´æ–°äº4.23)</h1><p>è¯æ¥ä¸Šæ–‡ï¼Œè¿™ä½ç¾¤å‹å› ä¸ºå—åˆ°DDOSæ”»å‡»ï¼Œå·¨é¢çš„æµé‡ä¸è¯·æ±‚è´¹ç”¨ä½¿å¾—è…¾è®¯äº‘æ¬ æ¬¾4000+å…ƒã€‚æœ€åå’Œè…¾è®¯äº‘å®¢æœåå•†è¯´æ˜¯å› ä¸ºè¿™æ˜¯çœŸå®æµé‡ï¼Œæ²¡æœ‰æˆåŠŸæŒ½å›é‡‘é¢ï¼Œæœ¬æ‰“ç®—æŠ¥æ¡ˆï¼Œä½†ä¼°è®¡å½“äº‹äººæœ€åä¹Ÿä¸äº†äº†ä¹‹äº†ã€‚  </p><p>ä»Šå¤©å·²æ˜¯4.23æ—¥ï¼Œè·ç¦»äº‹æƒ…å‘ç”Ÿå·²ç»è¿‡å»äº†çº¦3æ—¥ï¼Œè¿™ä¸‰å¤©å†…æˆ‘äº†è§£äº†å¾ˆå¤šã€‚è®¸å¤šä¸ªäººåšå®¢ç”¨æˆ·éƒ½åœ¨19æ—¥å½“æ™šåˆ°20æ—¥æ—©æ™¨å—åˆ°äº†æ”»å‡»ï¼ŒæŸå¤±é‡‘é¢ä¹Ÿåœ¨ç™¾å…ƒä¸ç­‰ï¼Œè™½ç„¶æ¯”ä¸ä¸Šä¸Šæ–‡è¿™ä½ä¸Šåƒçš„ï¼Œä½†éƒ½æ˜¯ä¸€ç¬”ä¸å°çš„æŸå¤±äº†ã€‚äº‹åï¼Œæˆ‘çš„åšå®¢ä¹Ÿåœ¨ç¬¬äºŒæ—¥æ”¶åˆ°äº†åä½™æ¬¡webåº”ç”¨æ”»å‡»ï¼ˆåˆšåœ¨å»æŠ¥è¡¨çš„æ—¶å€™å‘ç°åˆå—åˆ°äº†ä¸€æ¬¡æ”»å‡»ï¼‰ã€‚å¯ä»¥çœ‹å‡ºè¿™æ˜¯ä¸€æ¬¡ç”¨æˆ·é›†ç¾¤å¯†åº¦æ¯”è¾ƒå¤§çš„èŒƒå›´æ”»å‡»ï¼Œæ‰€ä»¥è¿˜æ˜¯è¦æé†’å¹¿å¤§ç«™é•¿åšå¥½å®‰å…¨å·¥ä½œï¼ŒCDNä¹Ÿå°½é‡ä½¿ç”¨å¸¦æœ‰é˜²å¾¡è¯†åˆ«çš„ã€‚  </p><p>è°¨ä»¥æ­¤æ–‡ï¼Œæ—¶åˆ»è­¦é†’æˆ‘ç½‘ç»œå®‰å…¨çš„é‡è¦æ€§ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>diary</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ—¥è®°</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€issue å·²è§£å†³ã€‘Valineç½‘å€æŒ‡å‘çš„ä¸€ä¸ªå°å‘</title>
    <link href="/issue/hexo-valine-issue.html"/>
    <url>/issue/hexo-valine-issue.html</url>
    
    <content type="html"><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>ç”¨hexoåšå®¢çš„ï¼Œè‚¯å®šæœ‰å¾ˆå¤šè¯„è®ºç³»ç»Ÿç”¨çš„æ˜¯valineå§ï¼Œæ¯•ç«Ÿè¿™ä¸ªæ–¹ä¾¿è¿˜æ¼‚äº®ã€‚å¹¶ä¸”æ”¯æŒçš„ä¹Ÿä¸é”™ï¼Œå›½å†…å¯ä»¥ç›´è¿ã€‚ä½†æ˜¯æˆ‘å´å› ä¸ºä¸€ä¸ªå°é—®é¢˜å›°æ‰°äº†æˆ‘ä¸¤ä¸‰ä¸ªæœˆä¹‹ä¹…ï¼ˆä¸»è¦å› ä¸ºä¹Ÿæ²¡å•¥äººæ¥æˆ‘åšå®¢è¯„è®ºï¼‰æ‰€ä»¥å°±ä¸€ç›´æ²¡æƒ³ç€å»ä¿®ã€‚<br>ç›´åˆ°ä»Šå¤©ï¼Œæˆ‘å»æ”¹äº†ä¸€ä¸‹leancloudçš„ä¼‘çœ æ”¿ç­–ï¼Œå°±æƒ³ç€é¡ºä¾¿ä¿®å¤ä¸€ä¸‹è¿™ä¸ªbugã€‚ </p><h1 id="é—®é¢˜æè¿°"><a href="#é—®é¢˜æè¿°" class="headerlink" title="é—®é¢˜æè¿°"></a>é—®é¢˜æè¿°</h1><p>æ­£å¸¸çš„æ˜¾ç¤ºï¼Œé‚®ä»¶æ”¶å‘éƒ½æ²¡å•¥é—®é¢˜ï¼Œä½†å”¯ç‹¬åœ¨é‚®ä»¶é€šçŸ¥æ—¶ï¼ŒæŸ¥çœ‹è¯„è®ºåŸæ–‡çš„åœ°å€æŒ‡å‘å‡ºç°äº†é”™è¯¯ï¼Œä¸ä»…å¦‚æ­¤ï¼Œåœ¨åå°ç®¡ç†çš„åœ°å€æŒ‡å‘ä¹ŸåŒæ ·å‡ºç°äº†é”™è¯¯ã€‚<br>æœ¬æ¥åº”è¯¥æ˜¯ï¼š</p><div class="hljs"><pre><code class="hljs bash">http://blog.6yfz.cn/tutorial/python-spider-dxy.html</code></pre></div><p>ä½†æŒ‡å‘å´å˜æˆäº†</p><div class="hljs"><pre><code class="hljs bash">http://blog.6yfz.cn//tutorial/python-spider-dxy.html</code></pre></div><p>è™½ç„¶ç½‘é¡µæ˜¾ç¤ºä¸Šä¸ä¼šå‡ºç°404ï¼Œä¾ç„¶æ˜¯æ­£ç¡®çš„åœ°å€ï¼Œä½†æ˜¯å› ä¸ºvalineçš„è¯„è®ºè¯†åˆ«é çš„çš„åœ°å€ï¼Œæ‰€ä»¥å°±ä¼šå¯¼è‡´çœ‹ä¸åˆ°é‚£ä¸ªæŒ‡å‘çš„è¯„è®ºã€‚<br><img src="https://cdn.jsdelivr.net/gh/liuyunfz/liuyunfz.github.io/img/35.png" srcset="/img/loading.gif" alt="æ­£å¸¸åœ°å€çš„è¯„è®º"><br><img src="https://cdn.jsdelivr.net/gh/liuyunfz/liuyunfz.github.io/img/36.png" srcset="/img/loading.gif" alt="é”™è¯¯åœ°å€çš„è¯„è®º"></p><h1 id="è§£å†³è¿‡ç¨‹"><a href="#è§£å†³è¿‡ç¨‹" class="headerlink" title="è§£å†³è¿‡ç¨‹"></a>è§£å†³è¿‡ç¨‹</h1><p>è§£å†³çš„æ–¹æ³•å…¶å®å¾ˆç®€å•ï¼Œå‡ºé”™åŸå› æ˜¯å› ä¸ºvalineçš„SITE_URLç¯å¢ƒå˜é‡é”™è¯¯è®¾ç½®å¯¼è‡´çš„ï¼Œä»–ä¼šé»˜è®¤åœ¨è¯¥å˜é‡åæ·»åŠ å…·ä½“çš„æ·±å±‚åœ°å€ï¼Œå³</p><div class="hljs"><pre><code class="hljs bash">/tutorial/python-spider-dxy.html</code></pre></div><p>æ‰€ä»¥åªéœ€è¦å°†SITE_URLè®¾ç½®ä¾‹å¦‚ <a href="http://blog.6yfz.cn">http://blog.6yfz.cn</a> çš„ï¼Œè€Œä¸è¦ <a href="http://blog.6yfz.cn/">http://blog.6yfz.cn/</a> ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘é”™è¯¯çš„åŸå› <br><img src="https://cdn.jsdelivr.net/gh/liuyunfz/liuyunfz.github.io/img/37.png" srcset="/img/loading.gif" alt="img"><br>åˆ°å¤´æ¥å‘ç°è‡ªå·±çš„é”™è¯¯çœŸæ˜¯è§‰å¾—åˆæ°”åˆç¬‘ğŸ˜¹</p>]]></content>
    
    
    <categories>
      
      <category>issue</category>
      
    </categories>
    
    
    <tags>
      
      <tag>hexo</tag>
      
      <tag>issue</tag>
      
      <tag>valine</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åˆ©ç”¨Pythonçˆ¬å–ä¸é¦™å›­ç–«æƒ…æ•°æ®</title>
    <link href="/tutorial/python-spider-dxy.html"/>
    <url>/tutorial/python-spider-dxy.html</url>
    
    <content type="html"><![CDATA[<p>ç–«æƒ…åˆ°ç°åœ¨è¿‡å»å¾ˆä¹…äº†ï¼Œå›½å†…å·²ç»å¤§ä½“æ§åˆ¶ä¸‹æ¥äº†ã€‚è¿™æ¬¡çš„ç›®æ ‡æ˜¯çˆ¬å–åˆ©ç”¨pythonçˆ¬å–ç–«æƒ…æ•°æ®ï¼ˆåŸºäºä¸é¦™å›­çš„æ•°æ®ï¼‰<br>è¿™æœŸæœ¬æ¥3.9å°±åˆ›å»ºäº†çš„ï¼Œä½†ä¸€ç›´æ‹–åˆ°ä»Šå¤©4.13æ‰å®Œæˆï¼Œè¿˜æ˜¯å¤ªæ‡’ğŸ˜‚ğŸ˜‚ </p><h2 id="å‡†å¤‡ï¼š"><a href="#å‡†å¤‡ï¼š" class="headerlink" title="å‡†å¤‡ï¼š"></a>å‡†å¤‡ï¼š</h2><ol><li>pythonåŠå¸¸ç”¨æ¨¡å—</li><li>VS Code</li><li>æµè§ˆå™¨<br>ç›®æ ‡ç½‘å€ï¼š<a href="https://ncov.dxy.cn/ncovh5/view/pneumonia?scene=2&clicktime=1579579384&enterid=1579579384&from=timeline&isappinstalled=0" target="_blank" rel="noopener">https://ncov.dxy.cn/ncovh5/view/pneumonia?scene=2&amp;clicktime=1579579384&amp;enterid=1579579384&amp;from=timeline&amp;isappinstalled=0</a>  <a id="more"></a> <h2 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h2><h3 id="1-æŠ“åŒ…"><a href="#1-æŠ“åŒ…" class="headerlink" title="1.æŠ“åŒ…"></a>1.æŠ“åŒ…</h3>é¦–å…ˆæ˜¯æŠ“åŒ…<br><img src="https://cdn.jsdelivr.net/gh/liuyunfz/liuyunfz.github.io/img/28.png" srcset="/img/loading.gif" alt="img"><br>ç»è¿‡åˆ†æå¯ä»¥çœ‹å‡ºï¼Œè¯¥ç½‘é¡µçš„æ•°æ®ä¸åŒäºå¹³å¸¸çš„ä¸€ä¸ªæ¡†æ¶+å•ç‹¬çš„jsonæ•°æ®åŒ…ï¼Œå®ƒæ˜¯ç›´æ¥æ¸²æŸ“å¥½äº†ç»™æˆ‘ä»¬ä¼ è¿‡æ¥çš„ï¼Œæ‰€ä»¥è¦åšçš„äº‹æƒ…å°±æ¯”è¾ƒç®€å•äº†ï¼Œåªéœ€è¦ä»htmlä»£ç ä¸­æå–å‡ºæˆ‘ä»¬éœ€è¦çš„æ•°æ®ã€‚<h3 id="2-pythonä»£ç ç¼–å†™"><a href="#2-pythonä»£ç ç¼–å†™" class="headerlink" title="2.pythonä»£ç ç¼–å†™"></a>2.pythonä»£ç ç¼–å†™</h3>æˆ‘ä»¬å…ˆå®ç°è·å–htmlä»£ç çš„ä»£ç ï¼Œç„¶åå†å°è¯•ä»ä¸­æå–æ•°æ®ã€‚<div class="hljs"><pre><code class="hljs python">response = requests.get(<span class="hljs-string">"https://ncov.dxy.cn/ncovh5/view/pneumonia?scene=2&amp;clicktime=1579579384&amp;enterid=1579579384&amp;from=timeline&amp;isappinstalled=0"</span>)response.encoding = <span class="hljs-string">"utf-8"</span>body = response.text</code></pre></div>è¿™é‡ŒæŒ‡å®šäº†ä¸€ä¸‹ç¼–ç ï¼Œæ˜¯ä¸ºäº†é˜²æ­¢å‡ºç°ä¸å¿…è¦çš„è½¬ç é”™è¯¯ã€‚  <h3 id="3-æå–HTMLä¸­çš„ä»£ç "><a href="#3-æå–HTMLä¸­çš„ä»£ç " class="headerlink" title="3.æå–HTMLä¸­çš„ä»£ç "></a>3.æå–HTMLä¸­çš„ä»£ç </h3>è·å–ç½‘é¡µæ•°æ®å®ç°äº†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬åˆ†æä¸€ä¸‹æ•°æ®çš„ä½ç½®ï¼Œä»¥åŠè¯¥å¦‚ä½•æå–å‡ºæ¥ã€‚<img src="https://cdn.jsdelivr.net/gh/liuyunfz/liuyunfz.github.io/img/29.png" srcset="/img/loading.gif" alt="img"><br>é€šè¿‡è§‚å¯Ÿæˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œå®ƒæ˜¯åˆ©ç”¨ä¸€ä¸ªscriptä¸€ä¸ªåŒºåŸŸæ•°æ®ï¼Œåˆ†åˆ«å¯¹åº”çš„æ˜¯å…¨çƒåœ°åŒºï¼Œå…¨å›½åœ°åŒºç­‰ï¼Œé‡Œé¢æ˜¯ä¸€ä¸²ç±»ä¼¼æ˜¯jsä»£ç ï¼Œå…ˆä¸ç®¡ï¼Œå…ˆæŠŠæˆ‘ä»¬è¿™æ¬¡è¦çš„å›½å†…æ•°æ®æä»£ç å–å‡ºæ¥ã€‚<img src="https://cdn.jsdelivr.net/gh/liuyunfz/liuyunfz.github.io/img/30.png" srcset="/img/loading.gif" alt="img"><br>é€šè¿‡åˆ†æï¼Œå›½å†…çš„æ•°æ®scriptå¯¹åº”çš„idå€¼æ˜¯â€œgetAreaStatâ€ ã€‚å› ä¸ºæ˜¯å±äºä¸€ä¸ªç±»é‡Œçš„ï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘ç”¨äº†xpathï¼Œä»£ç å¦‚ä¸‹ï¼š<div class="hljs"><pre><code class="hljs python">html = etree.HTML(body, etree.HTMLParser())gethtml = html.xpath(<span class="hljs-string">'//*[@id="getAreaStat"]/text()'</span>)</code></pre></div><h3 id="4-æå–ä»£ç ä¸­çš„æ•°æ®"><a href="#4-æå–ä»£ç ä¸­çš„æ•°æ®" class="headerlink" title="4.æå–ä»£ç ä¸­çš„æ•°æ®"></a>4.æå–ä»£ç ä¸­çš„æ•°æ®</h3>ç»è¿‡ä¸Šé¢çš„æ­¥éª¤ï¼Œæˆ‘ä»¬å·²ç»å®ç°äº†æå–å‡ºäº†å›½å†…æ•°æ®çš„jsä»£ç ï¼Œä½†æ˜¯å¾ˆæ˜æ˜¾æˆ‘ä»¬åªéœ€è¦æ•°æ®ï¼Œè€Œæˆ‘ä»¬åˆ©ç”¨pythonä¹Ÿä¸å¯èƒ½æ‰§è¡Œè¿™ä¸²window.getAreaStatä»£ç ï¼Œæ‰€ä»¥æˆ‘ä»¬å°è¯•åˆ å»èµ‹å€¼ç­‰ä»£ç ï¼Œç›´æ¥æå–æ•°æ®ï¼Œå› ä¸ºé‡Œé¢çš„æ•°æ®åˆšå¥½ç¬¦åˆjsonæ ¼å¼ã€‚<br>è¦åˆ é™¤çš„å¤´æ•°æ®<br><img src="https://cdn.jsdelivr.net/gh/liuyunfz/liuyunfz.github.io/img/31.png" srcset="/img/loading.gif" alt="img"><br>è¦åˆ é™¤çš„å°¾æ•°æ®<br><img src="https://cdn.jsdelivr.net/gh/liuyunfz/liuyunfz.github.io/img/32.png" srcset="/img/loading.gif" alt="img"><br>å³<div class="hljs"><pre><code class="hljs python">gethtml[<span class="hljs-number">0</span>][<span class="hljs-number">28</span>:<span class="hljs-number">-12</span>]</code></pre></div>è¿™é‡Œ[0]æ˜¯å› ä¸ºå‰é¢xpathæŸ¥æ‰¾çš„è¿”å›çš„æ˜¯listï¼Œå› ä¸ºæˆ‘ä»¬æŒ‡å®šäº†idï¼Œæ‰€ä»¥åº”è¯¥åªèƒ½æ‰¾åˆ°ä¸€ä¸ªï¼Œå¹¶ä¸”æ­£å¥½æ˜¯æˆ‘ä»¬æƒ³è¦çš„ï¼Œç„¶åç”¨[28:-12]æå–å‡ºå®Œç¾çš„jsonæ ¼å¼çš„æ•°æ®ã€‚<br><img src="https://cdn.jsdelivr.net/gh/liuyunfz/liuyunfz.github.io/img/33.png" srcset="/img/loading.gif" alt="img"> <h3 id="5-æŸ¥æ‰¾æ•°æ®"><a href="#5-æŸ¥æ‰¾æ•°æ®" class="headerlink" title="5.æŸ¥æ‰¾æ•°æ®"></a>5.æŸ¥æ‰¾æ•°æ®</h3>è™½ç„¶æ¯ä¸ªçœä»½éƒ½æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„jsonæ•°æ®ï¼Œä½†æ˜¯æˆ‘ä»¬è¦å–çš„æ˜¯æ•´ä¸ªçœä»½ï¼Œæ‰€ä»¥æˆ‘ä»¬å°†å…¶è½¬åŒ–ä¸ºåˆ—è¡¨ï¼Œç„¶ååˆ©ç”¨è¿­ä»£ï¼ŒæŸ¥æ‰¾åˆ°æˆ‘ä»¬éœ€è¦çš„åŸå¸‚ã€‚<div class="hljs"><pre><code class="hljs python">data=eval(gethtml[<span class="hljs-number">0</span>][<span class="hljs-number">28</span>:<span class="hljs-number">-12</span>])p_count=<span class="hljs-string">"0"</span>c_count=<span class="hljs-string">"0"</span><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> data:    <span class="hljs-keyword">if</span> str(i.get(<span class="hljs-string">"provinceName"</span>)) == province:        p_count=str(i.get(<span class="hljs-string">"confirmedCount"</span>))        <span class="hljs-keyword">for</span> c <span class="hljs-keyword">in</span> i[<span class="hljs-string">"cities"</span>]:            <span class="hljs-keyword">if</span> str(c.get(<span class="hljs-string">"cityName"</span>)) == city[<span class="hljs-number">0</span>:<span class="hljs-number">-1</span>]:                c_count=c.get(<span class="hljs-string">"confirmedCount"</span>)                <span class="hljs-keyword">break</span></code></pre></div>ç„¶åæˆ‘ä»¬è°ƒè¯•çœ‹çœ‹<br><img src="https://cdn.jsdelivr.net/gh/liuyunfz/liuyunfz.github.io/img/34.png" srcset="/img/loading.gif" alt="img"><br>å¯ä»¥å‘ç°å·²ç»æˆåŠŸäº†ï¼Œè‡³äºæˆ‘ä¸ºä»€ä¹ˆè¦ç”¨åˆ°city[0:-1]ï¼Œæ˜¯ä¸ºäº†å¯¹æ¥å¾®ä¿¡çš„åœ°ç†ä½ç½®æ•°æ®ï¼Œè¿™ä¸ªæˆ‘ä¼šåœ¨ä¸‹ä¸€æ¬¡çš„åšæ–‡ä»‹ç»ã€‚<h2 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h2>è¿™æ¬¡çš„éš¾ç‚¹ä¸»è¦åœ¨æ•°æ®å¹¶ä¸æ˜¯ä¸€ä¸ªå•ç‹¬çš„jsonåŒ…é‡Œï¼Œéœ€è¦æˆ‘ä»¬è‡ªå·±ä»htmlä»£ç ä¸­è·å–ï¼Œå¹¶ä¸”è·å–çš„æ˜¯jsä»£ç ï¼Œæˆ‘ä»¬è¿˜è¦é¢å¤–æå–å…¶ä¸­çš„æ•°æ®ï¼Œæ€»çš„æ¥è¯´è¿˜æ˜¯éš¾åº¦ä¸å¤§çš„ã€‚<br>å¦‚æœæœ‰ç–‘é—®å¯ä»¥åœ¨ä¸‹é¢è¯„è®ºè”ç³»æˆ‘ï¼Œé‚£æˆ‘ä»¬ä¸‹æœŸè§~</li></ol>]]></content>
    
    
    
    <tags>
      
      <tag>æ•™ç¨‹</tag>
      
      <tag>python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å®æˆ˜Pythonçˆ¬å–Bç«™è¯„è®º</title>
    <link href="/tutorial/python-spider-bilibili-comments.html"/>
    <url>/tutorial/python-spider-bilibili-comments.html</url>
    
    <content type="html"><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><hr><p>æœ¬äººæ˜¯ä¸€ä¸ªå´©åä¸‰çš„æ¸¸æˆç©å®¶ï¼Œå¤§å®¶ä¹Ÿéƒ½çŸ¥é“å®˜æ–¹ä¼šå› ä¸ºä¸€äº›æ´»åŠ¨ï¼Œåœ¨å…¶ä»–å¹³å°å‘å¸ƒä¸€äº›å…‘æ¢ç ã€‚ä¸ºäº†æ›´æ–¹ä¾¿çš„è·å–æ°´æ™¶ï¼Œå°±ä¸€ç›´æœ‰è¿™ä¹ˆä¸ªæƒ³æ³•ï¼Œæƒ³çˆ¬å–Bç«™çš„è¯„è®ºï¼Œåˆ©ç”¨çƒ­å¿ƒç½‘å‹åœ¨å®˜æ–¹è´¦å·åŠ¨æ€ä¸‹å‘çš„è¯„è®ºï¼Œæ¥å®ç°è·å–æœ€æ–°çš„æ°´æ™¶å…‘æ¢ç ã€‚ï¼ˆæœ¬æ€è·¯å¯è¿ªäºé…·å®‰ä¸€ä½ç”¨ç½‘ç«™RSSè·å–æ°´æ™¶ç çš„å¤§ä½¬ï¼Œå¾ˆæ—©ä»¥å‰è§è¿‡ä»–çš„å¸–å­ï¼Œä½†ç°åœ¨æ‰¾ä¸åˆ°äº†ï¼Œè¿™é‡ŒåŒ¿åæ„Ÿè°¢ä¸‹ï¼‰ </p><a id="more"></a>   <h1 id="å‡†å¤‡"><a href="#å‡†å¤‡" class="headerlink" title="å‡†å¤‡"></a>å‡†å¤‡</h1><hr><p>æœ¬æ¬¡ç”¨åˆ°çš„æœ‰ï¼š  </p><ol><li>æµè§ˆå™¨ ï¼ˆæœ¬äººä½¿ç”¨çš„æ˜¯Chromeï¼‰  </li><li>Python3ï¼ˆæ¨¡å—åŒ…å«ï¼šrequestsï¼Œjsonï¼Œtimeï¼‰<br>æœ¬æ¬¡å®æˆ˜çš„åœ°å€ï¼š<a href="https://space.bilibili.com/27534330/dynamic" target="_blank" rel="noopener">https://space.bilibili.com/27534330/dynamic</a><br>æœ¬æ¬¡å®æˆ˜çš„ç›®æ ‡ï¼šçˆ¬å–ä¸‹è¯¥é“¾æ¥ä¸‹çš„æ‰€æœ‰è¯„è®º  <h1 id="å®æˆ˜å¼€å§‹"><a href="#å®æˆ˜å¼€å§‹" class="headerlink" title="å®æˆ˜å¼€å§‹"></a>å®æˆ˜å¼€å§‹</h1></li></ol><hr><h3 id="è·å–è¯„è®ºæ•°æ®åŒ…"><a href="#è·å–è¯„è®ºæ•°æ®åŒ…" class="headerlink" title="è·å–è¯„è®ºæ•°æ®åŒ…"></a>è·å–è¯„è®ºæ•°æ®åŒ…</h3><p>æ‰“å¼€å¼€å‘è€…å·¥å…·ï¼Œç„¶åé€šè¿‡æŸ¥çœ‹è¯„è®ºæ¥è·å–æˆ‘ä»¬è¦çš„æ•°æ®åŒ…ï¼Œå¾ˆå¥½æ‰¾<br><img src="https://cdn.jsdelivr.net/gh/liuyunfz/liuyunfz.github.io/img/23.png" srcset="/img/loading.gif" alt="img"><br>ç„¶åæˆ‘ä»¬æ¨¡æ‹Ÿå‘é€getåŒ…æ¥è·å–æ•°æ®</p><div class="hljs"><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_comment</span><span class="hljs-params">(oid=str,types=int)</span>:</span>    headers_small=&#123;        <span class="hljs-string">'Accept'</span>:<span class="hljs-string">'*/*'</span>,        <span class="hljs-string">'Accept-Encoding'</span>:<span class="hljs-string">'gzip, deflate, br'</span>,        <span class="hljs-string">'Accept-Language'</span>:<span class="hljs-string">'en-US,en;q=0.9,zh-CN;q=0.8,zh;q=0.7'</span>,        <span class="hljs-string">'Connection'</span>:<span class="hljs-string">'keep-alive'</span>,        <span class="hljs-string">'Cookie'</span>:<span class="hljs-string">r''</span>,        <span class="hljs-string">'Host'</span>:<span class="hljs-string">'api.bilibili.com'</span>,        <span class="hljs-string">'Referer'</span>:<span class="hljs-string">'https://space.bilibili.com/27534330/dynamic'</span>,        <span class="hljs-string">'Sec-Fetch-Mode'</span>:<span class="hljs-string">'no-cors'</span>,        <span class="hljs-string">'Sec-Fetch-Site'</span>:<span class="hljs-string">'same-site'</span>,        <span class="hljs-string">'User-Agent'</span>:<span class="hljs-string">'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/79.0.3945.130 Safari/537.36'</span>    &#125;    <span class="hljs-keyword">if</span> types==<span class="hljs-number">2</span>:        rsp=requests.get(url=<span class="hljs-string">"https://api.bilibili.com/x/v2/reply?callback=jQuery172017694877061996372_1580287236452&amp;jsonp=jsonp&amp;pn=1&amp;type=11&amp;oid=&#123;0&#125;&amp;sort=2&amp;_=1580287547926"</span>.format(oid),headers=headers_small,allow_redirects=<span class="hljs-literal">False</span>)    <span class="hljs-keyword">elif</span> types==<span class="hljs-number">8</span>:            rsp=requests.get(url=<span class="hljs-string">"https://api.bilibili.com/x/v2/reply?callback=jQuery172017694877061996372_1580287236452&amp;jsonp=jsonp&amp;pn=1&amp;type=1&amp;oid=&#123;0&#125;&amp;sort=2&amp;_=1580287547926"</span>.format(oid),headers=headers_small,allow_redirects=<span class="hljs-literal">False</span>)    <span class="hljs-keyword">elif</span> types==<span class="hljs-number">4</span>:        rsp=requests.get(url=<span class="hljs-string">"https://api.bilibili.com/x/v2/reply?callback=jQuery172017694877061996372_1580287236452&amp;jsonp=jsonp&amp;pn=1&amp;type=17&amp;oid=&#123;0&#125;&amp;sort=2&amp;_=1580287547926"</span>.format(oid),headers=headers_small,allow_redirects=<span class="hljs-literal">False</span>)    <span class="hljs-keyword">elif</span> types==<span class="hljs-number">1</span>:        rsp=requests.get(url=<span class="hljs-string">"https://api.bilibili.com/x/v2/reply?callback=jQuery172017694877061996372_1580287236452&amp;jsonp=jsonp&amp;pn=1&amp;type=17&amp;oid=&#123;0&#125;&amp;sort=2&amp;_=1580287547926"</span>.format(oid),headers=headers_small,allow_redirects=<span class="hljs-literal">False</span>)    <span class="hljs-keyword">else</span>:        print(<span class="hljs-string">"types error"</span>+str(types))</code></pre></div><p>å—¯<br>*<em>è¿™é‡Œç”¨åˆ°äº†ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªoidå¯¹åº”çš„æ˜¯å¸–å­çš„æ ‡è¯†ç ï¼Œè·å–æ–¹æ³•åœ¨ä¸‹æ–¹ï¼Œè¿˜æœ‰ä¸€ä¸ªå‚æ•°typeæ˜¯å¸–å­çš„ç±»å‹ï¼Œå¯¹åº”äº†urlé‡Œé¢çš„typeï¼Œè¿™é‡Œå…ˆä¸€ç¬”å¸¦è¿‡ï¼Œå…·ä½“æˆ‘ä¼šåœ¨ä¸‹é¢çš„å†…å®¹ä¸­å†™åˆ°ã€‚ *</em></p><hr><p>ç„¶åæˆ‘ä»¬åˆ†æresponseï¼Œé€šè¿‡è¿”å›çš„æ•°æ®æˆ‘çŒœæµ‹è¿™æ˜¯ä¸€ä¸ªjQueryï¼Œå¥ˆä½•æˆ‘æ²¡å­¦è¿‡ï¼Œä½†æ˜¯ä¸è¦ç´§ï¼Œå®ƒçš„æ•°æ®ç±»å‹å’Œjsonå¾ˆåƒï¼Œäºæ˜¯æˆ‘å°†jQueryçš„ç‰¹å¾ç å»é™¤ï¼Œç›´æ¥å½“ä½œjsonå¤„ç†<br><img src="https://cdn.jsdelivr.net/gh/liuyunfz/liuyunfz.github.io/img/24.png" srcset="/img/loading.gif" alt="img"></p><div class="hljs"><pre><code class="hljs python">rsp_json=json.loads(rsp.text[<span class="hljs-number">42</span>:<span class="hljs-number">-1</span>])</code></pre></div><p>è¿™æ®µä»£ç å°±æ˜¯å®ç°å°†jQueryç‰¹å¾ç å»é™¤ï¼Œå˜æˆæˆ‘ä»¬å¯ä»¥å¤„ç†çš„json.<br>ç„¶ååˆ©ç”¨networké‡Œçš„previewï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆæ¸…æ™°çš„å¾—å‡ºè¯„è®ºçš„ç›®å½•ä¸º<strong>/data/hots/(0-5)/content/message</strong><br><img src="https://cdn.jsdelivr.net/gh/liuyunfz/liuyunfz.github.io/img/25.png" srcset="/img/loading.gif" alt="img"><br>äºæ˜¯å†™å‡ºå¦‚ä¸‹ä»£ç </p><div class="hljs"><pre><code class="hljs python"><span class="hljs-keyword">try</span>:    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(len(rsp_json[<span class="hljs-string">"data"</span>][<span class="hljs-string">"hots"</span>])):        print(str(i+<span class="hljs-number">1</span>)+<span class="hljs-string">":   "</span>+rsp_json[<span class="hljs-string">"data"</span>][<span class="hljs-string">"hots"</span>][i][<span class="hljs-string">"content"</span>][<span class="hljs-string">"message"</span>])        print(<span class="hljs-string">"_______________________________________"</span>)<span class="hljs-keyword">except</span>:    <span class="hljs-keyword">pass</span></code></pre></div><p>åˆ°æ­¤ï¼Œæˆ‘ä»¬çš„è·å–è¯„è®ºæ•°æ®åŠŸèƒ½å·²ç»å®ç°ï¼ˆè¿™é‡Œæˆ‘é€‰æ‹©çš„æ˜¯çƒ­è¯„ï¼Œå¯¹åº”çš„æ˜¯hotsï¼Œä¹Ÿå¯ä»¥è‡ªå·±é€‰æ‹©çˆ¬å–æ‰€æœ‰çš„è¯„è®ºï¼‰ã€‚æ¥ä¸‹æ¥æ˜¯è·å–oidæ•°æ®æ¥å®ç°æ‰¹é‡çˆ¬å–ã€‚</p><h3 id="è·å–åŠ¨æ€æ•°æ®åŒ…"><a href="#è·å–åŠ¨æ€æ•°æ®åŒ…" class="headerlink" title="è·å–åŠ¨æ€æ•°æ®åŒ…"></a>è·å–åŠ¨æ€æ•°æ®åŒ…</h3><p>é¦–å…ˆæ‰“å¼€å¼€å‘è€…å·¥å…·ï¼Œé€šè¿‡åˆ·æ–°æ¥é‡æ–°è·å–å‘é€ä¸æ¥å—åˆ°çš„æ•°æ®ã€‚<br><img src="https://cdn.jsdelivr.net/gh/liuyunfz/liuyunfz.github.io/img/gif_1.gif" srcset="/img/loading.gif" alt="gif"><br>æ‰¾åˆ°æˆ‘ä»¬éœ€è¦çš„è·å–åŠ¨æ€çš„åŒ…ï¼ˆå°æŠ€å·§æ˜¯è·å–å®ŒåŠ¨æ€çš„æ•°æ®åè‚¯å®šè¦å‘æœåŠ¡å™¨è·å–åŠ¨æ€çš„ä¸€äº›é™æ€å›¾ç‰‡ï¼Œæ‰€ä»¥åœ¨ä¸€å †å›¾ç‰‡çš„æ•°æ®åŒ…å‰é¢æ‰¾ï¼‰<br><img src="https://cdn.jsdelivr.net/gh/liuyunfz/liuyunfz.github.io/img/21.png" srcset="/img/loading.gif" alt="img"><br>ç„¶åå°†headerså¤åˆ¶ï¼ŒæŒ‰ç…§ä¹‹å‰çš„æ­¥éª¤ä¸€æ ·ï¼Œæ¨¡æ‹Ÿæ•°æ®åŒ…çš„å‘é€<br><img src="https://cdn.jsdelivr.net/gh/liuyunfz/liuyunfz.github.io/img/22.png" srcset="/img/loading.gif" alt="img"><br>å†™å®Œæ•°æ®åŒ…çš„å‘é€åï¼Œæˆ‘ä»¬å¼€å§‹å¯¹å‘é€å›æ¥çš„responseè¿›è¡Œå¤„ç†ï¼Œè¿™é‡Œç›´æ¥é€šè¿‡æµè§ˆå™¨çš„previewè¿›è¡Œåˆ†æå¤„ç†ï¼ˆæ’ç‰ˆæŒºå¥½çš„ï¼‰ï¼Œå¾—å‡ºç»“è®ºæˆ‘ä»¬éœ€è¦çš„åŠ¨æ€åœ°å€çš„å…³é”®ä¿¡æ¯oidç›®å½•ä¸º<strong>/data/cards/(0-19)/desc/dynamic_id_str(æˆ–è€…rid_str)</strong>ï¼Œè¯´å®è¯è¿™é‡Œçš„oidåˆ†æå¡äº†æˆ‘å¥½å‡ å¤©ï¼Œå› ä¸ºæ ¹æ®åŠ¨æ€çš„ç±»å‹ä¸åŒï¼Œå¯¹åº”çš„oidå¯èƒ½æ˜¯ridï¼Œä¹Ÿå¯èƒ½æ˜¯dynamic_idã€‚<br>æœ€åæˆ‘é€šè¿‡ç©·ä¸¾æ³•å½’çº³äº†ä»¥ä¸‹ï¼Œæ ¹æ®<strong>/data/cards/(0-19)/desc/type</strong>ï¼Œ2å’Œ8å¯¹åº”çš„æ˜¯oidæ˜¯ridï¼Œå…¶ä»–çš„4å’Œ1å¯¹åº”çš„æ˜¯dynamicã€‚<br>åˆ©ç”¨jsonï¼Œæ•…å¾—å‡ºä»¥ä¸‹ä»£ç </p><div class="hljs"><pre><code class="hljs python">dynamic_json=json.loads(dynamic.text)comment_list=[]comment_type_list=[]<span class="hljs-keyword">try</span>:    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(len(dynamic_json[<span class="hljs-string">"data"</span>][<span class="hljs-string">"cards"</span>])):        comment_type=dynamic_json[<span class="hljs-string">"data"</span>][<span class="hljs-string">"cards"</span>][i][<span class="hljs-string">"desc"</span>][<span class="hljs-string">"type"</span>]        <span class="hljs-keyword">if</span> comment_type == <span class="hljs-number">2</span> <span class="hljs-keyword">or</span> comment_type==<span class="hljs-number">8</span> :            comment_list.append(dynamic_json[<span class="hljs-string">"data"</span>][<span class="hljs-string">"cards"</span>][i][<span class="hljs-string">"desc"</span>][<span class="hljs-string">"rid_str"</span>])        <span class="hljs-keyword">else</span>:            comment_list.append(dynamic_json[<span class="hljs-string">"data"</span>][<span class="hljs-string">"cards"</span>][i][<span class="hljs-string">"desc"</span>][<span class="hljs-string">"dynamic_id_str"</span>])        comment_type_list.append(comment_type)        <span class="hljs-keyword">except</span>:    <span class="hljs-keyword">pass</span><span class="hljs-keyword">return</span>([comment_list,comment_type_list])</code></pre></div><p>åœ¨è¿™é‡Œæˆ‘å°†oidä¸typeä¸€å¹¶è¿”å›äº†ï¼Œtypeå°†åœ¨åæ¥çš„è¯„è®ºè·å–ä¸­å†æ¬¡æ´¾ä¸Šç”¨å¤„ã€‚åˆ°è¿™é‡Œæˆ‘ä»¬å…¶å®å·²ç»å®ç°äº†æ‰€æœ‰åŠŸèƒ½ï¼Œåªè¦å°†ä¸Šé¢ä¸¤ä¸ªfunctionç»“åˆï¼Œå³å¯å®ç°çˆ¬å–æ‰€æœ‰åŠ¨æ€çš„è¯„è®ºã€‚</p><h3 id="typeä¸oidçš„å¤„ç†"><a href="#typeä¸oidçš„å¤„ç†" class="headerlink" title="typeä¸oidçš„å¤„ç†"></a>typeä¸oidçš„å¤„ç†</h3><p>æˆ‘è§‰å¾—è¿™æ˜¯æ•´ä¸ªçˆ¬å–è¿‡ç¨‹çš„éš¾ç‚¹ï¼Œç›´åˆ°è¿™ç¯‡æ–‡ç« å‘å¸ƒå‰ï¼Œæˆ‘ä»æœªæ‰¾åˆ°æœ‰æ•ˆçš„è§£å†³æ–¹æ³•ï¼Œåªèƒ½ç”¨ç©·ä¸¾æ³•ã€‚æ‰€å¹¸ä¹Ÿå®ç°äº†æˆ‘ä»¬éœ€è¦çš„åŠŸèƒ½ã€‚<br>é‡æ–°æ¥çœ‹çœ‹æˆ‘ä»¬è¯„è®ºæ•°æ®åŒ…çš„åœ°å€ï¼Œå‘ç°oidä¸åŠ¨æ€å¯¹åº”çš„åœ°å€å¯¹ä¸Šäº†ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬ä¹‹å‰è·å–çš„dynamic<br><img src="https://cdn.jsdelivr.net/gh/liuyunfz/liuyunfz.github.io/img/26.png" srcset="/img/loading.gif" alt="img"><br>ä½†æ˜¯ä¹Ÿæœ‰äº›åŠ¨æ€å¹¶ä¸ç¬¦åˆè¿™ä¸ªè§„å¾‹ï¼Œå®ƒçš„oidæ²¡æœ‰ä¸åŠ¨æ€çš„åœ°å€å¯¹åº”ï¼Œä¹Ÿå°±ä¸æ˜¯dynamicï¼Œè€Œæ˜¯ridã€‚<br><img src="https://cdn.jsdelivr.net/gh/liuyunfz/liuyunfz.github.io/img/27.png" srcset="/img/loading.gif" alt="img"><br>ç»è¿‡ç©·ä¸¾çš„å°è¯•ï¼Œå¾—å‡ºå¦‚ä¸‹ç»“è®ºï¼š<br>è·å–çš„typeä¸º2æ—¶ï¼Œè¯„è®ºåœ°å€çš„oidå¯¹åº”ridï¼Œåœ°å€çš„typeå¯¹åº”11<br>è·å–çš„typeä¸º8æ—¶ï¼Œè¯„è®ºåœ°å€çš„oidå¯¹åº”ridï¼Œåœ°å€çš„typeå¯¹åº”1<br>è·å–çš„typeä¸º4æ—¶ï¼Œè¯„è®ºåœ°å€çš„oidå¯¹åº”dynamicï¼Œåœ°å€çš„typeå¯¹åº”17<br>è·å–çš„typeä¸º1æ—¶ï¼Œè¯„è®ºåœ°å€çš„oidå¯¹åº”dynamicï¼Œåœ°å€çš„typeå¯¹åº”17<br>äºæ˜¯æ‰å¾—å‡ºäº†ä¸Šé¢å†™çš„ä»£ç ã€‚  </p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><hr><p>ä»¥ä¸‹ä¸ºæˆ‘åœ¨ä¸ªäººå°è¯•ä¸­çš„ä¸€äº›é”™è¯¯ï¼Œä»…ä¾›å„ä½å‚è€ƒå€Ÿé‰´ï¼š  </p><ol><li>å—è€æ—§æ€æƒ³ç¦é”¢ï¼Œæˆ‘çš„ç¬¬ä¸€æ„Ÿè§‰æ˜¯ç›´æ¥è®¿é—®åŠ¨æ€çš„åœ°å€æ¥è·å–ä¿¡æ¯ï¼Œä¹Ÿå°±æ˜¯request-<a href="https://space.bilibili.com/27534330/dynamic" target="_blank" rel="noopener">https://space.bilibili.com/27534330/dynamic</a>  ã€‚ç»“æœé”™è¯¯è¿”å›ï¼Œæç¤ºè¿‡å¤šçš„é‡å®šå‘é”™è¯¯<div class="hljs"><pre><code class="hljs plain">requests.exceptions.TooManyRedirects: Exceeded 30 redirects.</code></pre></div>äºæ˜¯æˆ‘é€šè¿‡æŸ¥æ‰¾ä¿¡æ¯,æ·»åŠ å‚æ•°allow_redirects=Falseæ¥å¿½ç•¥è¿™ä¸ªé”™è¯¯ï¼Œç»“æœæ˜¯ä¸æŠ¥é”™äº†ï¼Œä½†ä»ç„¶æ²¡å¾—åˆ°æƒ³è¦çš„æ•°æ®ï¼Œåæ¥æ‰æƒ³åˆ°é€šè¿‡æ•°æ®åŒ…æ¥è·å–åŠ¨æ€æ•°æ®  </li><li>jQueryé‚£æ®µæˆ‘ä¹Ÿä¸æ¸…æ¥šæ˜¯ä¸æ˜¯jQueryï¼Œæ¯•ç«Ÿæ²¡æ¥è§¦è¿‡ã€‚ç„¶åå‡‘å·§çš„æ˜¯å½“æˆ‘å°†ä»–å‰é¢çš„æ— å…³æ•°æ®å‰”é™¤æ‰åï¼Œä»–å°±æ˜¯ä¸€ä¸ªéå¸¸å®Œç¾çš„jsonæ•°æ®æ ¼å¼ï¼Œæœ‰ç‚¹æŠ•æœºå–å·§çš„æ„Ÿè§‰ã€‚  </li><li>æœ€åä¸€ç‚¹å°±æ˜¯typeå’Œoidäº†ï¼Œè¯´å®è¯ç©·ä¸¾çš„æ–¹æ³•å®åœ¨ä¸å¯å–ï¼Œä½†ä¹Ÿæ˜¯æ²¡åŠæ³•ï¼Œä»–è·å–çš„typeä¹Ÿä¸é“¾æ¥é‡Œçš„typeå¹¶ä¸ä¸€è‡´ã€‚ç›®å‰æˆ‘çš„çŒœæƒ³æ˜¯åœ¨ä¹‹å‰çš„æ•°æ®åŒ…ä¸­æœ‰ç±»ä¼¼çš„jsæ–‡ä»¶ï¼Œç”¨æ¥è¿›è¡Œå¯¹typeçš„å¤„ç†ã€‚  <h2 id="åè¯"><a href="#åè¯" class="headerlink" title="åè¯"></a>åè¯</h2>å…¨æ–‡å…±1800ä½™å­—ï¼Œæ„Ÿè°¢ä½ èƒ½çœ‹åˆ°è¿™é‡Œï¼Œæ‰“èµè¿™ç§ä¸å¯èƒ½çš„æˆ‘ä¹Ÿå°±ä¸è¯´äº†ã€‚<del>æˆå“æ–‡ä»¶æˆ‘å·²æ”¾åœ¨äº†<a href="https://github.com/liuyunfz/bilibili_Extraction-cover/blob/master/bh3.py" target="_blank" rel="noopener">æˆ‘çš„GitHub</a>ä¸Š</del>ï¼Œå¦‚æœæœ‰ä»€ä¹ˆç–‘é—®æˆ–è€…æˆ‘çš„ä»£ç æœ‰ä½•é—®é¢˜ï¼Œè¯·åœ¨ä¸‹æ–¹çš„è¯„è®ºåŒºå›å¤ã€‚<br>å› ä¸ºæŸäº›åŸå› å·²ç»åˆ é™¤äº†è¯¥é¡¹ç›®çš„GitHubä»“åº“ï¼Œæ‰€ä»¥ç›´æ¥åœ¨ä¸‹é¢é™„ä¸Šä»£ç ã€‚éœ€è¦æ³¨æ„çš„æ˜¯æœ¬æ–‡ä»¶åœ¨è·å–è¯„è®ºçš„åŸºç¡€ä¸Šå¢åŠ äº†è·å–å´©åä¸‰å…‘æ¢ç çš„åŠŸèƒ½ï¼ˆå°šæœªå®Œå–„ï¼‰ï¼Œä½†æ˜¯è·å–è¯„è®ºçš„ä»£ç ä»¥è‡ªå®šä¹‰å‡½æ•°çš„æ–¹å¼ç‹¬ç«‹å‡ºç°ï¼Œæ‰€ä»¥ä»ä¸å½±å“é˜…è¯»å­¦ä¹ ã€‚<div class="hljs"><pre><code class="hljs python"><span class="hljs-comment"># -*- coding: utf-8 -*-</span><span class="hljs-keyword">import</span> requests,json,time,redhm=[]<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_comment</span><span class="hljs-params">(oid=str,types=int)</span>:</span>        headers_small=&#123;        <span class="hljs-string">'Accept'</span>:<span class="hljs-string">'*/*'</span>,        <span class="hljs-string">'Accept-Encoding'</span>:<span class="hljs-string">'gzip, deflate, br'</span>,        <span class="hljs-string">'Accept-Language'</span>:<span class="hljs-string">'en-US,en;q=0.9,zh-CN;q=0.8,zh;q=0.7'</span>,        <span class="hljs-string">'Connection'</span>:<span class="hljs-string">'keep-alive'</span>,        <span class="hljs-string">'Cookie'</span>:<span class="hljs-string">r''</span>,        <span class="hljs-string">'Host'</span>:<span class="hljs-string">'api.bilibili.com'</span>,        <span class="hljs-string">'Referer'</span>:<span class="hljs-string">'https://space.bilibili.com/27534330/dynamic'</span>,        <span class="hljs-string">'Sec-Fetch-Mode'</span>:<span class="hljs-string">'no-cors'</span>,        <span class="hljs-string">'Sec-Fetch-Site'</span>:<span class="hljs-string">'same-site'</span>,        <span class="hljs-string">'User-Agent'</span>:<span class="hljs-string">'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/79.0.3945.130 Safari/537.36'</span>    &#125;    <span class="hljs-comment">#requests.exceptions.TooManyRedirects: Exceeded 30 redirects.           å¤ªå¤šé‡å®šå‘ï¼Œä½¿ç”¨allow_redirects=False   302é‡å®šå‘é¡µé¢</span>    <span class="hljs-keyword">if</span> types==<span class="hljs-number">2</span>:        rsp=requests.get(url=<span class="hljs-string">"https://api.bilibili.com/x/v2/reply?callback=jQuery172017694877061996372_1580287236452&amp;jsonp=jsonp&amp;pn=1&amp;type=11&amp;oid=&#123;0&#125;&amp;sort=2&amp;_=1580287547926"</span>.format(oid),headers=headers_small,allow_redirects=<span class="hljs-literal">False</span>)    <span class="hljs-keyword">elif</span> types==<span class="hljs-number">8</span>:            rsp=requests.get(url=<span class="hljs-string">"https://api.bilibili.com/x/v2/reply?callback=jQuery172017694877061996372_1580287236452&amp;jsonp=jsonp&amp;pn=1&amp;type=1&amp;oid=&#123;0&#125;&amp;sort=2&amp;_=1580287547926"</span>.format(oid),headers=headers_small,allow_redirects=<span class="hljs-literal">False</span>)    <span class="hljs-keyword">elif</span> types==<span class="hljs-number">4</span>:        rsp=requests.get(url=<span class="hljs-string">"https://api.bilibili.com/x/v2/reply?callback=jQuery172017694877061996372_1580287236452&amp;jsonp=jsonp&amp;pn=1&amp;type=17&amp;oid=&#123;0&#125;&amp;sort=2&amp;_=1580287547926"</span>.format(oid),headers=headers_small,allow_redirects=<span class="hljs-literal">False</span>)    <span class="hljs-keyword">elif</span> types==<span class="hljs-number">1</span>:        rsp=requests.get(url=<span class="hljs-string">"https://api.bilibili.com/x/v2/reply?callback=jQuery172017694877061996372_1580287236452&amp;jsonp=jsonp&amp;pn=1&amp;type=17&amp;oid=&#123;0&#125;&amp;sort=2&amp;_=1580287547926"</span>.format(oid),headers=headers_small,allow_redirects=<span class="hljs-literal">False</span>)    <span class="hljs-keyword">else</span>:        print(<span class="hljs-string">"types error"</span>+str(types))    <span class="hljs-comment">#print(rsp.status_code)</span>        <span class="hljs-keyword">try</span>:        rsp_json=json.loads(rsp.text[<span class="hljs-number">42</span>:<span class="hljs-number">-1</span>])    <span class="hljs-keyword">except</span>:        <span class="hljs-keyword">pass</span>    <span class="hljs-string">'''</span><span class="hljs-string">    with open("D:/py/123.htm","w",encoding='utf-8')as f:</span><span class="hljs-string">        f.write(rsp.text[41:-1])</span><span class="hljs-string">    #rsp_xpath = selector.xpath('//div[@id="app"]/div[@class="s-space"]/div/div/div/div/div/div')</span><span class="hljs-string"></span><span class="hljs-string">    rsp_json=json.loads(rsp.text)</span><span class="hljs-string">    rsp_jsonpath=jsonpath.jsonpath(rsp_json,'$..message')</span><span class="hljs-string">    print(rsp_jsonpath)</span><span class="hljs-string">    '''</span>    <span class="hljs-string">'''</span><span class="hljs-string">    for i in range(len(rsp_json["data"]["hots"])):</span><span class="hljs-string"></span><span class="hljs-string">        print(rsp_json["data"]["hots"][i]["replies"][i]["content"]["message"])</span><span class="hljs-string">    è¯„è®ºä¸­çš„è¯„è®º</span><span class="hljs-string">    '''</span>    <span class="hljs-keyword">try</span>:        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(len(rsp_json[<span class="hljs-string">"data"</span>][<span class="hljs-string">"hots"</span>])):            print(str(i+<span class="hljs-number">1</span>)+<span class="hljs-string">":   "</span>+rsp_json[<span class="hljs-string">"data"</span>][<span class="hljs-string">"hots"</span>][i][<span class="hljs-string">"content"</span>][<span class="hljs-string">"message"</span>])            <span class="hljs-keyword">try</span>:                <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> re.findall(<span class="hljs-string">"([a-z0-9A-Z]&#123;10,17&#125;)"</span>,rsp_json[<span class="hljs-string">"data"</span>][<span class="hljs-string">"hots"</span>][i][<span class="hljs-string">"content"</span>][<span class="hljs-string">"message"</span>]):                    dhm.append(x)            <span class="hljs-keyword">except</span>:                <span class="hljs-keyword">pass</span>                        <span class="hljs-string">'''</span><span class="hljs-string">            try:</span><span class="hljs-string"></span><span class="hljs-string">                for j in range(len(rsp_json["data"]["hots"][i]["replies"])):</span><span class="hljs-string">                    print("                         "+rsp_json["data"]["hots"][i]["replies"][j]["content"]["message"])</span><span class="hljs-string">            except:</span><span class="hljs-string">                pass</span><span class="hljs-string">            '''</span>            print(<span class="hljs-string">"_______________________________________"</span>)    <span class="hljs-keyword">except</span>:        <span class="hljs-keyword">pass</span><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_dynamic</span><span class="hljs-params">()</span>:</span>    dynamic_headers=&#123;        <span class="hljs-string">'Accept'</span>:<span class="hljs-string">'application/json, text/plain, */*'</span>,        <span class="hljs-string">'Accept-Encoding'</span>:<span class="hljs-string">'gzip, deflate, br'</span>,        <span class="hljs-string">'Accept-Language'</span>:<span class="hljs-string">'en-US,en;q=0.9,zh-CN;q=0.8,zh;q=0.7'</span>,        <span class="hljs-string">'Connection'</span>:<span class="hljs-string">'keep-alive'</span>,        <span class="hljs-string">'Cookie'</span>:<span class="hljs-string">r''</span>,        <span class="hljs-string">'Host'</span>:<span class="hljs-string">'api.vc.bilibili.com'</span>,        <span class="hljs-string">'Origin'</span>:<span class="hljs-string">'https://space.bilibili.com'</span>,        <span class="hljs-string">'Referer'</span>:<span class="hljs-string">'https://space.bilibili.com/27534330/dynamic'</span>,        <span class="hljs-string">'Sec-Fetch-Mode'</span>:<span class="hljs-string">'cors'</span>,        <span class="hljs-string">'Sec-Fetch-Site'</span>:<span class="hljs-string">'same-site'</span>,        <span class="hljs-string">'User-Agent'</span>:<span class="hljs-string">'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/79.0.3945.130 Safari/537.36'</span>    &#125;    dynamic=requests.get(url=<span class="hljs-string">"https://api.vc.bilibili.com/dynamic_svr/v1/dynamic_svr/space_history?visitor_uid=7053465&amp;host_uid=27534330&amp;offset_dynamic_id=0&amp;need_top=1"</span>,headers=dynamic_headers)    dynamic_json=json.loads(dynamic.text)    comment_list=[]    comment_type_list=[]    <span class="hljs-keyword">try</span>:        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(len(dynamic_json[<span class="hljs-string">"data"</span>][<span class="hljs-string">"cards"</span>])):            comment_type=dynamic_json[<span class="hljs-string">"data"</span>][<span class="hljs-string">"cards"</span>][i][<span class="hljs-string">"desc"</span>][<span class="hljs-string">"type"</span>]            <span class="hljs-keyword">if</span> comment_type == <span class="hljs-number">2</span> <span class="hljs-keyword">or</span> comment_type==<span class="hljs-number">8</span> :                comment_list.append(dynamic_json[<span class="hljs-string">"data"</span>][<span class="hljs-string">"cards"</span>][i][<span class="hljs-string">"desc"</span>][<span class="hljs-string">"rid_str"</span>])            <span class="hljs-keyword">else</span>:                comment_list.append(dynamic_json[<span class="hljs-string">"data"</span>][<span class="hljs-string">"cards"</span>][i][<span class="hljs-string">"desc"</span>][<span class="hljs-string">"dynamic_id_str"</span>])            comment_type_list.append(comment_type)                <span class="hljs-keyword">except</span>:        <span class="hljs-keyword">pass</span>    <span class="hljs-keyword">return</span>([comment_list,comment_type_list])      <span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:    t=time.time()    comments=[]    comments_type=[]    comments=get_dynamic()[<span class="hljs-number">0</span>]    comments_type=get_dynamic()[<span class="hljs-number">1</span>]    <span class="hljs-keyword">for</span> x,y <span class="hljs-keyword">in</span> zip(comments,comments_type):        print(str(x)+<span class="hljs-string">"      "</span>+str(y))        get_comment(x,y)        <span class="hljs-comment">#time.sleep(3)</span>    print(time.time()-t)    print(dhm)</code></pre></div></li></ol>]]></content>
    
    
    
    <tags>
      
      <tag>æ•™ç¨‹</tag>
      
      <tag>python</tag>
      
      <tag>bilibili</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä¸ºhexo-yiliaæ·»åŠ æ–‡ç« é˜…è¯»æ•°</title>
    <link href="/tutorial/hexo-busuanzi.html"/>
    <url>/tutorial/hexo-busuanzi.html</url>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>ä¸€ç›´æƒ³ä¸ºåšå®¢æ·»åŠ ä¸€ä¸ªé˜…è¯»æ•°ç»Ÿè®¡ï¼Œä¸€ä¸ªæ˜¯æ–¹ä¾¿æŸ¥çœ‹ï¼Œå¦ä¸€æ–¹é¢ä¹Ÿä¼šä½¿è‡ªå·±æ›´æœ‰æˆå°±æ„Ÿã€‚äºæ˜¯åœ¨ç½‘ä¸Šæœç´¢äº†ä¸‹æ•™ç¨‹ï¼Œå‘ç°hexoçš„ç»Ÿè®¡å¤§å¤šç”¨çš„éƒ½æ˜¯ä¸è’œå­çš„ç»Ÿè®¡ï¼Œäºæ˜¯ä¹Ÿå°±éšå¤§æµä½¿ç”¨ã€‚ä½†æ˜¯åœ¨æœŸé—´é‡åˆ°äº†ä¸€äº›é—®é¢˜ï¼Œå¹¶è¿›è¡Œäº†ä¸€ä¸ªå®¢åˆ¶åŒ–ä¿®æ”¹ï¼Œå…·ä½“æ ·å¼åº”è¯¥ä¹Ÿå¯ä»¥åœ¨å³ä¸Šè§’çœ‹åˆ°ï¼Œä»…ä¾›å‚è€ƒå€Ÿé‰´ã€‚</p><a id="more"></a><h2 id="æ•™ç¨‹"><a href="#æ•™ç¨‹" class="headerlink" title="æ•™ç¨‹"></a>æ•™ç¨‹</h2><h3 id="1ï¼š"><a href="#1ï¼š" class="headerlink" title="1ï¼š"></a>1ï¼š</h3><p>é¦–å…ˆä¿®æ”¹<strong>\themes\yilia\layout\_partial</strong>ç›®å½•ä¸‹çš„<strong>after-footer.ejs</strong>æ–‡ä»¶ï¼Œåœ¨ä»»æ„ä½ç½®æ·»åŠ ä»¥ä¸‹ä»£ç </p><div class="hljs"><pre><code class="hljs bash">&lt;script async src=<span class="hljs-string">"https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"</span>&gt;&lt;/script&gt;</code></pre></div><p><img src="https://cdn.jsdelivr.net/gh/liuyunfz/liuyunfz.github.io/img/19.png" srcset="/img/loading.gif" alt="avatar"><br><br></p><h3 id="2ï¼š"><a href="#2ï¼š" class="headerlink" title="2ï¼š"></a>2ï¼š</h3><p>ç„¶åå†ä¿®æ”¹<strong>\themes\yilia\layout\_partial</strong>ç›®å½•ä¸‹çš„<strong>article.ejs</strong>æ–‡ä»¶ï¼Œåœ¨&lt;%- partial(â€˜post/titleâ€™, {class_name: â€˜article-titleâ€™}) %&gt;ä»£ç ä¸‹æ·»åŠ </p><div class="hljs"><pre><code class="hljs bash">&lt;!--æ˜¾ç¤ºé˜…è¯»æ¬¡æ•°--&gt;        &lt;% <span class="hljs-keyword">if</span> (!index &amp;&amp; post.comments)&#123; %&gt;          &lt;br/&gt;          &lt;a class=<span class="hljs-string">"cloud-tie-join-count"</span> href=<span class="hljs-string">"javascript:void(0);"</span> style=<span class="hljs-string">"color:gray;font-size:14px;"</span>&gt;          &lt;span class=<span class="hljs-string">"icon-sort"</span> id=<span class="hljs-string">"busuanzi_container_page_pv"</span> style=<span class="hljs-string">"font-size:14px;margin-left:84.4%;"</span>&gt;                    é˜…è¯»æ€»æ•°: &lt;span id=<span class="hljs-string">"busuanzi_value_page_pv"</span> style=<span class="hljs-string">"color:#ef7522;"</span>&gt;&lt;/span&gt;æ¬¡ &amp;nbsp;&amp;nbsp;          &lt;/span&gt;          &lt;/a&gt;</code></pre></div><p><img src="https://cdn.jsdelivr.net/gh/liuyunfz/liuyunfz.github.io/img/20.png" srcset="/img/loading.gif" alt="avatar"><br>å½“ç„¶ä¹Ÿå¯ä»¥æ ¹æ®è‡ªå·±çš„å®¡ç¾éœ€æ±‚ä¿®æ”¹ä»£ç çš„ä½ç½®æˆ–è€…é¢œè‰²ç­‰ï¼Œå¦‚æœæœ‰ä¸æ¸…æ¥šçš„å¯ä»¥ä¸æˆ‘è®¨è®ºï¼ˆè™½ç„¶æˆ‘ä¹Ÿä¸å¤ªæ‡‚ï¼Œæ˜¯ä¸ªåŠåŠå­ï¼‰</p>]]></content>
    
    
    
    <tags>
      
      <tag>æ•™ç¨‹</tag>
      
      <tag>hexo</tag>
      
      <tag>yilia</tag>
      
      <tag>ä¸è’œå­</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ—¥è®°-2020å¹´1æœˆ20æ—¥</title>
    <link href="/diary/20200120.html"/>
    <url>/diary/20200120.html</url>
    
    <content type="html"><![CDATA[<p>é©¬ä¸Šå°±æ˜¯æ–°çš„ä¸€å¹´ï¼Œå…ˆç¥å¤§å®¶åœ¨2020æ–°çš„ä¸€å¹´é‡Œæ–°å¹´å¿«ä¹ã€‚<br><br></p><h1 id="è¿™æ¬¡çš„æ›´æ–°æœ‰ï¼š"><a href="#è¿™æ¬¡çš„æ›´æ–°æœ‰ï¼š" class="headerlink" title="è¿™æ¬¡çš„æ›´æ–°æœ‰ï¼š"></a>è¿™æ¬¡çš„æ›´æ–°æœ‰ï¼š<br></h1><ol><li><strong>æ·»åŠ ç½‘ç«™ICOå›¾æ ‡<br></strong></li><li><strong>åˆ©ç”¨ä¸è’œå­æ·»åŠ äº†ç½‘é¡µé˜…è¯»æ¬¡æ•°</strong><a id="more"></a>è™½ç„¶æ›´æ–°çš„å†…å®¹ä¸å¤šï¼Œä½†ä¸­é€šè¿˜æ˜¯é‡åˆ°äº†å„ç§å„æ ·é—®é¢˜ã€‚<h1 id="é‡åˆ°çš„é—®é¢˜"><a href="#é‡åˆ°çš„é—®é¢˜" class="headerlink" title="é‡åˆ°çš„é—®é¢˜ "></a>é‡åˆ°çš„é—®é¢˜ <br></h1></li></ol><h2 id="404é—®é¢˜"><a href="#404é—®é¢˜" class="headerlink" title="404é—®é¢˜"></a>404é—®é¢˜</h2><p>è¿™æ˜¯ä¸€ä¸ªè€é—®é¢˜äº†ï¼ŒåŸºæœ¬æ¯æ¬¡æˆ‘æ›´æ–°ç½‘ç«™éƒ½ä¼šé‡åˆ°ã€‚å½“æˆ‘è°ƒè¯•å¥½åŠŸèƒ½ï¼Œå¹¶ä¸”åœ¨æœ¬åœ° <a href="http://localhost:4000" target="_blank" rel="noopener">http://localhost:4000</a> æ­£å¸¸æ˜¾ç¤º<br><img src="https://cdn.jsdelivr.net/gh/liuyunfz/liuyunfz.github.io/img/15.png" srcset="/img/loading.gif" alt="img"><br>äºæ˜¯æˆ‘å°†å®ƒæäº¤åˆ°GitHubä¸Šï¼Œç„¶åä¾¿å‡ºç°äº†404æ‰¾ä¸åˆ°ç½‘é¡µçš„é”™è¯¯ã€‚<br><img src="https://cdn.jsdelivr.net/gh/liuyunfz/liuyunfz.github.io/img/16.png" srcset="/img/loading.gif" alt="img"><br>æäº¤æ˜¯æ­£ç¡®çš„ï¼Œæˆ‘ä¹Ÿåœ¨GitHubä¸Šæ ¡å¯¹äº†ä»“åº“æ–‡ä»¶ï¼Œå§‹ç»ˆæ— æ³•æ‰¾åˆ°æ˜¯å“ªé‡Œé”™è¯¯ã€‚<br><br>è§£å†³åŠæ³•ä¹Ÿå¾ˆç®€å•ï¼Œå°±æ˜¯æ¯æ¬¡æœ€åä¸€æ¬¡æˆåŠŸæäº¤å¹¶ä¸”å¯è®¿é—®æ—¶ï¼Œå°†æ–‡ä»¶è¿›è¡Œå¤‡ä»½ï¼Œå½“å‡ºç°æäº¤å404åˆ™è¿˜åŸå¤‡ä»½ï¼Œç„¶åé‡æ–°æ›´æ–°ä¸€æ¬¡ï¼Œçœ‹ä¼¼æ²¡æœ‰ä»»ä½•å®è´¨æ€§çš„è§£å†³ï¼Œä½†æ¯æ¬¡åˆ©ç”¨å¤‡ä»½ç¬¬äºŒæ¬¡æäº¤å´éƒ½å¯ä»¥æ­£å¸¸è®¿é—®ï¼Œè¿™ç‚¹ä¸€æ¬¡å›°æ‰°äº†æˆ‘å¾ˆä¹…ï¼Œå¸Œæœ›æœ‰é‡åˆ°è¿‡ç±»ä¼¼é—®é¢˜çš„äººå¯ä»¥<a href="mailto:liuyunfz@gmail.com">ä¸æˆ‘è”ç³»</a>ï¼Œä¸èƒœæ„Ÿæ¿€ã€‚<br><br></p><h2 id="é˜…è¯»æ¬¡æ•°çš„æ˜¾ç¤ºé—®é¢˜"><a href="#é˜…è¯»æ¬¡æ•°çš„æ˜¾ç¤ºé—®é¢˜" class="headerlink" title="é˜…è¯»æ¬¡æ•°çš„æ˜¾ç¤ºé—®é¢˜"></a>é˜…è¯»æ¬¡æ•°çš„æ˜¾ç¤ºé—®é¢˜</h2><p>ä¸ºäº†ä¸è‡ªèº«å®¡ç¾ç›¸é€‚åº”ï¼Œå¯¹ç½‘ä¸Šçš„ä»£ç è¿›è¡Œäº†æ›´æ”¹ï¼ˆå…·ä½“è§æˆ‘çš„æ·»åŠ ä¸è’œå­ç»Ÿè®¡æ•™ç¨‹ï¼‰ï¼Œä½†ä»å‡ºç°äº†ä¸åŒåˆ†è¾¨ç‡è®¾å¤‡çš„æ˜¾ç¤ºé—®é¢˜ï¼Œè¿™ä¸ªé—®é¢˜ä¹Ÿè¿˜å¾…è§£å†³ï¼Œä¹Ÿå°±å…ˆè¿™æ ·å§ï¼Œè‡³å°‘åœ¨æˆ‘çš„ç”µè„‘ä¸Šæ˜¯æ­£å¸¸æ˜¾ç¤ºçš„ã€‚<br><img src="https://cdn.jsdelivr.net/gh/liuyunfz/liuyunfz.github.io/img/17.png" srcset="/img/loading.gif" alt="img"><br><br><br><img src="https://cdn.jsdelivr.net/gh/liuyunfz/liuyunfz.github.io/img/18.jpg" srcset="/img/loading.gif" alt="img"></p>]]></content>
    
    
    <categories>
      
      <category>diary</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ—¥è®°</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ç”Ÿäº§åŠ›å·¥å…·-ç”¨Pythonåšä¸€ä¸ªheadersè½¬æ¢</title>
    <link href="/tutorial/python-tools-transform_headers.html"/>
    <url>/tutorial/python-tools-transform_headers.html</url>
    
    <content type="html"><![CDATA[<p>æ¯æ¬¡å†™çˆ¬è™«éƒ½è¦å¤åˆ¶æµè§ˆå™¨ä¸Šçš„headersï¼Œè€Œå®ƒåˆä¸pythonä¸­çš„dictç±»å‹ä¸ç¬¦ï¼Œæ¯æ¬¡éƒ½è¦è‡ªå·±ä¸€è¡Œè¡ŒåŠ å¼•å·åŠ é€—å·åˆ†å‰²ã€‚è¿™æ¬¡æˆ‘ä»¬å°±ç”¨pythonè¯†åˆ«å‰ªè¾‘ç‰ˆçš„headerså†…å®¹æ¥ä¸€é”®è½¬æ¢æˆæˆ‘ä»¬è¦çš„dictç±»å‹ï¼Œå®ç°ä¸€åŠ³æ°¸é€¸ã€‚</p><h2 id="å‡†å¤‡å·¥å…·"><a href="#å‡†å¤‡å·¥å…·" class="headerlink" title="å‡†å¤‡å·¥å…·"></a>å‡†å¤‡å·¥å…·</h2><ul><li>Python</li><li>VS Code</li><li>tkinteræ¨¡å—<h2 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h2>pythonä¸­dictç±»å‹æ ·å¼ä¸º:{<br>a:â€valueâ€,<br>b:â€valueâ€,<br>c:â€valueâ€}<br>åˆ©ç”¨python3è‡ªå¸¦çš„tkinteræ¨¡å—è¯†åˆ«å‰ªè¾‘ç‰ˆå†…å®¹ï¼Œç„¶ååˆ©ç”¨åˆ†å‰²è¿›è¡Œé‡å†™å¹¶åŠ å…¥æœ«å°¾é€—å·ï¼Œæœ€ååˆ¤æ–­æœ€åä¸€è¡Œbreak<h2 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h2><div class="hljs"><pre><code class="hljs python"><span class="hljs-comment"># -*- coding: utf-8 -*-</span><span class="hljs-keyword">from</span> tkinter <span class="hljs-keyword">import</span> Tk<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">transform</span><span class="hljs-params">(text=str)</span>:</span>    strlist=text.split(<span class="hljs-string">": "</span>)    strheaders=<span class="hljs-string">"'&#123;0&#125;':'&#123;1&#125;'"</span>.format(strlist[<span class="hljs-number">0</span>],strlist[<span class="hljs-number">1</span>])    <span class="hljs-comment">#print(strheaders)</span>    <span class="hljs-keyword">return</span> strheadersr = Tk()<span class="hljs-comment"># read the clipboard</span>c= r.clipboard_get()c_list= c.split(<span class="hljs-string">"\n"</span>)headers=<span class="hljs-string">""</span><span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> c_list:    <span class="hljs-keyword">if</span> item==c_list[<span class="hljs-number">-1</span>]:        headers=headers+ transform(item)    <span class="hljs-keyword">else</span>:        headers=headers+ transform(item)+<span class="hljs-string">",\n"</span>    print(headers)</code></pre></div></li></ul>]]></content>
    
    
    
    <tags>
      
      <tag>æ•™ç¨‹</tag>
      
      <tag>python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä¸ºhexoåšå®¢å›¾ç‰‡æ·»åŠ CDNåŠ é€Ÿ</title>
    <link href="/tutorial/hexo-CDN.html"/>
    <url>/tutorial/hexo-CDN.html</url>
    
    <content type="html"><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p> ä¼—æ‰€å‘¨çŸ¥ï¼Œ<a href="https://github.com/" target="_blank" rel="noopener">Github</a>æ˜¯å…¨çƒæœ€å¤§çš„ç¤¾äº¤ç¼–ç¨‹åŠä»£ç æ‰˜ç®¡ç½‘ç«™ï¼Œä½†æ˜¯ç”±äºä»–æ˜¯å›½å¤–çš„äº§å“ï¼Œæ‰€ä»¥å¯¼è‡´æˆ‘ä»¬è®¿é—®ä¼šæ¯”è¾ƒæ…¢ï¼Œæœ‰æ—¶ç”šè‡³å¯èƒ½å‡ºç°æ— æ³•è®¿é—®çš„æƒ…å†µã€‚<br><br>æœ¬åšå®¢å°±æ˜¯éƒ¨ç½²ä¸GitHubä¸Šçš„ï¼ˆå‰©ä¸‹äº†èŠ±é’±ä¹°ç©ºé—´ä»¥åŠå¤‡æ¡ˆç­‰æ‚äº‹ï¼‰ï¼Œä½†æ˜¯ä¹Ÿå› æ­¤è®¿é—®é€Ÿåº¦æ˜¯ä¸ªå¾ˆå¤§çš„è¯Ÿç—…ï¼Œå°¤å…¶æ˜¯ä¸€äº›æŠ€æœ¯åšå®¢ä¸­ç”±äºå›¾ç‰‡è´¨é‡å¯¼è‡´ä½“ç§¯è¾ƒå¤§ï¼ŒåŠ è½½æ…¢å½±å“é˜…è¯»ã€‚</p><a id="more"></a><br>è¿™æ˜¯ä¸ºå›¾ç‰‡æ·»åŠ CDNä¹‹å‰çš„æµ‹é€Ÿè¯¦æƒ…<br><p><img src="https://cdn.jsdelivr.net/gh/liuyunfz/liuyunfz.github.io/img/9.png" srcset="/img/loading.gif" alt="avatar"><br><br></p><h2 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h2><p>æœ¬æ¬¡ä½¿ç”¨çš„æ˜¯ <a href="https://www.jsdelivr.com/" target="_blank" rel="noopener">jsDelivr</a> ï¼Œä¸€ä¸ªå…è´¹çš„cdnï¼Œæ”¯æŒnpmï¼ŒGitHubï¼Œwordpressã€‚<br>æ“ä½œååˆ†ç®€å•ï¼Œåªéœ€è¦åˆ©ç”¨ä»–æä¾›çš„ç½‘ç«™å¼•ç”¨è‡ªå·±è¦è°ƒç”¨çš„GitHubèµ„æºå³å¯ã€‚<br><img src="https://cdn.jsdelivr.net/gh/liuyunfz/liuyunfz.github.io/img/10.png" srcset="/img/loading.gif" alt="avatar"><br>ä¸€èˆ¬æˆ‘hexoå†™mdæ—¶ï¼Œæ˜¯å°†å›¾ç‰‡æ”¾åˆ°source\imgç›®å½•ä¸‹ï¼Œç„¶ååˆ©ç”¨</p><div class="hljs"><pre><code class="hljs bash">![img](/img/9.png)</code></pre></div><p>è¿™æ ·è¿›è¡Œè°ƒç”¨çš„å°±æ˜¯æˆ‘æœ€ä¸Šé¢çš„é‚£ä¸ªæµ‹é€Ÿå›¾ç‰‡ã€‚<br>è€Œæˆ‘ä»¬è¦åšçš„æ“ä½œå°±æ˜¯å°†è·¯å¾„åœ°å€æ”¹ä¸ºç½‘å€ã€‚</p><div class="hljs"><pre><code class="hljs bash">![img](https://cdn.jsdelivr.net/gh/liuyunfz/liuyunfz.github.io/img/9.png)</code></pre></div><p><img src="https://cdn.jsdelivr.net/gh/liuyunfz/liuyunfz.github.io/img/11.png" srcset="/img/loading.gif" alt="avatar"><br>è¿™æ ·å°±å®ç°äº†CDNå¯¹å›¾ç‰‡è¿›è¡ŒåŠ é€Ÿã€‚</p><h2 id="ç»“æœ"><a href="#ç»“æœ" class="headerlink" title="ç»“æœ"></a>ç»“æœ</h2><p><img src="https://cdn.jsdelivr.net/gh/liuyunfz/liuyunfz.github.io/img/12.png" srcset="/img/loading.gif" alt="avatar"><br>è¿™å°±æ˜¯æˆ‘æ·»åŠ CDNåçš„æµ‹é€Ÿç»“æœï¼Œæ•ˆæœå¾ˆæ˜æ˜¾ï¼Œå›½å†…å¯¹åšå®¢å›¾ç‰‡è®¿é—®çš„é€Ÿåº¦æœ‰äº†æ˜æ˜¾çš„æå‡ã€‚<br>å¦‚æœä½ æƒ³è¦é€šè¿‡å¯¹ç«™å†…æ‰€æœ‰ç½‘é¡µè¿›è¡ŒåŠ é€Ÿï¼Œåˆ™å¯ä»¥è€ƒè™‘ä¸€äº›é€šç”¨çš„é™æ€æˆ–å…¨ç«™åŠ é€Ÿçš„CDNï¼Œå¦‚æœä½ å·²ç»å¤‡æ¡ˆäº†çš„è¯å¯ä»¥è€ƒè™‘<strong>åŠ é€Ÿä¹</strong>ï¼ˆä¸è¿‡ä¸æ”¯æŒHTTPSï¼‰ï¼Œæˆ–è€…å…¶ä»–é˜¿é‡Œäº‘è…¾è®¯äº‘çš„äº§å“ã€‚</p><h2 id="åè®°"><a href="#åè®°" class="headerlink" title="åè®°"></a>åè®°</h2><h3 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h3><p>CDNçš„åŸºæœ¬åŸç†æ˜¯å¹¿æ³›é‡‡ç”¨å„ç§ç¼“å­˜æœåŠ¡å™¨ï¼Œå°†è¿™äº›ç¼“å­˜æœåŠ¡å™¨åˆ†å¸ƒåˆ°ç”¨æˆ·è®¿é—®ç›¸å¯¹é›†ä¸­çš„åœ°åŒºæˆ–ç½‘ç»œä¸­ï¼Œåœ¨ç”¨æˆ·è®¿é—®ç½‘ç«™æ—¶ï¼Œåˆ©ç”¨å…¨å±€è´Ÿè½½æŠ€æœ¯å°†ç”¨æˆ·çš„è®¿é—®æŒ‡å‘è·ç¦»æœ€è¿‘çš„å·¥ä½œæ­£å¸¸çš„ç¼“å­˜æœåŠ¡å™¨ä¸Šï¼Œç”±ç¼“å­˜æœåŠ¡å™¨ç›´æ¥å“åº”ç”¨æˆ·è¯·æ±‚ã€‚ï¼ˆå†…å®¹æ¥è‡ªç™¾åº¦ç™¾ç§‘ï¼‰<br><br>æŒ‰ç…§æˆ‘çš„ç†è§£å¤§æ¦‚å°±æ˜¯CDNæœåŠ¡å™¨å…ˆæäº¤æŠŠæ•°æ®ç»™ç¼“å­˜åˆ°CDNæœåŠ¡å™¨é‚£é‡Œï¼Œå½“ä½ å‘ä»–ç´¢å–æ—¶ï¼Œå®ƒå°±æŠŠå®ƒç¼“å­˜çš„æ•°æ®ç›´æ¥è½¬é€ç»™ä½ ã€‚ä¸¾ä¸ªå½¢è±¡ç‚¹çš„ä¾‹å­ï¼Œä½ æƒ³å‚åŠ è·‘æ­¥æ¯”èµ›ä½†æ˜¯è·‘ä¸è¿‡åˆ«äººï¼Œä½ è¯·æ¥äº†å°æ˜ï¼Œä»–å¸®ä½ æ‹¿åˆ°äº†ç¬¬ä¸€åï¼Œç„¶åæŠŠå¥–ç‰Œç»™ä½ äº†ã€‚ï¼ˆ#å¤§é›¾ï¼‰<br><br>è¿™ä¸ªCDNå¯èƒ½æ˜¯å®æ—¶è®¿é—®è½¬é€’çš„ï¼Œå°±æ˜¯å½“ä½ è¦è®¿é—®æ•°æ®æ—¶ä»–æ‰å»GitHubä¸Šå½“ä¸‹æ•°æ®ï¼Œç„¶åå†ä¼ è¿‡æ¥ã€‚çŒœæƒ³æ˜¯æºäºæˆ‘æœ‹å‹å†™çš„ä¸€ä¸ªpç«™çˆ¬è™«ï¼Œç”±äºæ€»æ‰€å‘¨çŸ¥çš„åŸå› ï¼Œpç«™æ— æ³•ç›´æ¥è¿›è¡Œè®¿é—®ï¼Œæ‰€ä»¥ä»–åœ¨å›½å¤–æœåŠ¡å™¨ä¸ŠåŠ äº†ä¸€ä¸ªphpï¼Œåé¢ä¼ é€’è¦è®¿é—®çš„ç½‘å€ï¼Œç„¶åä»–ä¼šè‡ªåŠ¨è¿”å›é‚£ä¸ªç½‘å€çš„å†…å®¹ã€‚ç›¸å½“äºå……å½“äº†ä¸­ä»‹æ¡¥æ¢ã€‚</p><h3 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h3><p>æœ¬æœŸåšå®¢å¯å‘äºCSDNçš„ä¸€ç¯‡æ–‡ç« ï¼š<a href="https://blog.csdn.net/qq_36759224/article/details/86936453" target="_blank" rel="noopener">å…è´¹CDNï¼šjsDelivr+Github ä½¿ç”¨æ–¹æ³•</a><br><br>å…¶å®ç›¸æ¯”äºç”¨jsdelivråŠ é€Ÿä¸å¦‚ç”¨ä¸ƒç‰›äº‘å‚¨å­˜å›¾ç‰‡å¤–é“¾ï¼Œç›´æ¥é€šè¿‡å¤–é“¾è®¿é—®å›¾ç‰‡ã€‚é€Ÿåº¦åº”è¯¥èƒ½æ›´å¿«ä¸Šä¸€ç‚¹ï¼Œè€Œä¸”æˆ‘å°è±¡ä¸­å¥½åƒç”¨æˆ·æœ‰å…è´¹çš„20Gæµé‡é…é¢ï¼Œä½†æ˜¯æ‰‹æŒèº«ä»½è¯å®ååŠé€€ã€‚æœ‰å…´è¶£çš„ä¹Ÿå¯ä»¥è‡ªè¡Œäº†è§£ä¸€ä¸‹ï¼š<a href="https://www.qiniu.com/" target="_blank" rel="noopener">ä¸ƒç‰›äº‘</a></p>]]></content>
    
    
    
    <tags>
      
      <tag>æ•™ç¨‹</tag>
      
      <tag>hexo</tag>
      
      <tag>cdn</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ—¥è®°-2019å¹´8æœˆ31æ—¥</title>
    <link href="/diary/20190831.html"/>
    <url>/diary/20190831.html</url>
    
    <content type="html"><![CDATA[<p>æœ¬ç«™åŸŸåå·²æˆåŠŸç”±GitHubè‡ªç»™åŸŸåï¼šliuyunfz.github.io æ›¿æ¢ä¸º blog.6yfz.cn</p><a id="more"></a><p>åœ¨æ˜¨æ—¥ï¼Œæˆ‘å·²ä»åä¸ºäº‘ä¸Šè´­ä¹°äº†6å¹´çš„.cnåŸŸåæƒé™ã€‚å› ä¸ºcnæ˜¯éœ€è¦å¼ºåˆ¶å®åçš„åŸŸåï¼Œæ‰€ä»¥æˆ‘äºæ˜¨æ™š23æ—¶å·¦å³æäº¤äº†å®åç”³è¯·ã€‚ç»“æœå½“æˆ‘ç¡è§‰æ—¶ï¼Œä»Šæ—¥å‡Œæ™¨0:30åˆ†æˆ‘å°±æ”¶åˆ°äº†åä¸ºäº‘å‘æ¥çš„å³é”®è¯´æˆ‘å·²ç»å®åè®¤è¯æˆåŠŸã€‚ä¸å¾—ä¸èµå¹åä¸ºäº‘çš„å¤„ç†é€Ÿåº¦ã€‚<br>ç›®å‰å·²ç»èƒ½é€šè¿‡æ–°åŸŸåæ­£å¸¸è®¿é—®äº†ï¼Œæ›´å¤šçš„å¦‚HTTPSå°±ä¸‹æ¬¡å†è¯´å§ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>diary</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ—¥è®°</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€issue å·²è§£å†³ã€‘å…³äº4399é€ æ¢¦è¥¿æ¸¸çš„å­˜æ¡£ä¿å­˜</title>
    <link href="/issue/issue-4399-saving.html"/>
    <url>/issue/issue-4399-saving.html</url>
    
    <content type="html"><![CDATA[<div class="note note-primary"><p><strong>2019.10.05æ›´æ–°ï¼šissueå·²è§£å†³ï¼Œä½†å› ä¸ºæŸäº›åŸå› æœ¬ç«™ä¸æä¾›è§£å†³æ–¹æ¡ˆä¸ç›¸å…³æ­¥éª¤</strong></p></div>  <h1 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h1><p>æˆ‘åœ¨ä¸€æ¬¡å¶ç„¶çš„å°è¯•ä¸­æŠ“åŒ…å‘ç°ï¼Œå½“æˆ‘ç‚¹å‡»é€ æ¢¦è¥¿æ¸¸çš„ä¿å­˜å­˜æ¡£æŒ‰é’®æ—¶ï¼Œä»–ä¼šæäº¤ä¸€ä¸ªåŒ…ï¼Œè¯æ˜flashçš„æ•°æ®ä¹Ÿæ˜¯é€šè¿‡å‘postå¯¹å­˜æ¡£æ•°æ®è¿›è¡Œäº‘ç«¯åŒæ­¥çš„ï¼Œäºæ˜¯æˆ‘ä¾¿æƒ³é€šè¿‡æ›´æ”¹æäº¤çš„æ•°æ®æ¥å®ç°ä¿®æ”¹ç”šè‡³å®ç°å¤åˆ¶å­˜æ¡£ç­‰æ“ä½œã€‚</p><a id="more"></a><h1 id="å®æˆ˜é—®é¢˜"><a href="#å®æˆ˜é—®é¢˜" class="headerlink" title="å®æˆ˜é—®é¢˜"></a>å®æˆ˜é—®é¢˜</h1><p>å½“æˆ‘å°è¯•æŠ“åŒ…æ—¶ï¼Œå¾ˆæ˜æ˜¾çš„å‘ç°äº†ï¼Œå½“æäº¤å­˜æ¡£æ—¶ï¼Œé‡Œé¢æœ‰ä¸ªsaveåŒ…ï¼Œè€Œé‡Œé¢çš„æ•°æ®<br><img src="https://cdn.jsdelivr.net/gh/liuyunfz/liuyunfz.github.io/img/6.jpg" srcset="/img/loading.gif" alt="avatar"><br><br>æˆ‘é€šè¿‡å¯¹æ¯”åˆ†æå¤§è‡´å¯ä»¥è¯»å‡ºindexæ˜¯å­˜æ¡£çš„ä½ç½®ï¼Œtitleæ˜¯ä½ é€‰çš„èŒä¸šï¼Œuidåº”è¯¥æ˜¯4399è´¦å·çš„uidï¼Œreferè¿™ä¸ªåœ¨headersé‡Œä¹Ÿæ¯”è¾ƒå¸¸è§ï¼Œæ˜¯è¿™ä¸ªflashçš„ç›´é“¾ã€‚dataæˆ‘çŒœæµ‹åº”è¯¥å°±æ˜¯å­˜æ¡£çš„æ•°æ®ï¼Œå…·ä½“åˆ†æçš„è¯æˆ‘ä¹Ÿæ— ä»ä¸‹æ‰‹ï¼Œæ‰€ä»¥ä¾¿æ‰“ç®—è¯•è¯•å­˜æ¡£å¤åˆ¶ã€‚å³æŠŠè´¦å·Açš„æ•°æ®å¤åˆ¶åˆ°è´¦å·Bã€‚<br><br>å½“æˆ‘ç»§ç»­å¾€ä¸‹çœ‹æ—¶å´å‘ç°äº†ä¸¤ä¸ªä¸å¤ªå‹å¥½çš„ä¸œè¥¿ï¼Œä¸€ä¸ªæ˜¯tokenï¼Œä¸€ä¸ªæ˜¯verifyè¿™ä¸¤ä¸ªä¸€çœ‹å°±çŸ¥é“æ˜¯éªŒè¯ã€‚tokenæœ‰ç‚¹å¥‡æ€ªï¼Œè¿™è¾¹ç«Ÿç„¶æ˜¯ç©ºï¼Œè®©æˆ‘æœ‰ç‚¹æ‘¸ä¸ç€å¤´è„‘ã€‚è‡³äºå‰©ä¸‹çš„å‚æ•°æˆ‘è¿™è¾¹ä¹Ÿç»™å‡ºç­”æ¡ˆï¼Œgamekeyç›¸å½“äºæ˜¯è¿™ä¸ªæ¸¸æˆçš„uidï¼ŒåŒä¸€ä¸ªæ¸¸æˆæ˜¯å›ºå®šçš„ï¼Œæ‰€ä»¥æš‚æ—¶ä¸ç”¨ç®¡ï¼ŒåŒç†gameidã€‚session:-1æš‚æ—¶åº”è¯¥ä¹Ÿä¸éœ€è¦æˆ‘ä»¬å»ç ”ç©¶ã€‚<br><br><br><img src="https://cdn.jsdelivr.net/gh/liuyunfz/liuyunfz.github.io/img/7.jpg" srcset="/img/loading.gif" alt="avatar"><br><br>åœ¨saveå‰é¢æœ‰ä¸ªåŒ…ï¼Œæ ¹æ®é“¾æ¥æˆ‘ä»¬çŒœæµ‹è¿™å°±æ˜¯è·å–tokenï¼Œç»“æœæ˜¯ä»€ä¹ˆéƒ½æ²¡è¿”å›ï¼Œä¹Ÿå¯¹åº”äº†æˆ‘ä»¬ä¹‹å‰çš„tokenæ˜¯ç©ºã€‚<br>ä½†æ˜¯åˆ°äº†è¿™é—®é¢˜å°±å‡ºæ¥äº†ï¼Œtokenå°±ç®—ç©ºå§ï¼Œä¹Ÿæœ‰è·å–æ–¹æ³•äº†ï¼Œä½†verifyå®Œå…¨ä¸€ç‚¹å¤´ç»ªä¹Ÿæ²¡æœ‰ã€‚</p><h2 id="è‡ªå‘ç ”ç©¶"><a href="#è‡ªå‘ç ”ç©¶" class="headerlink" title="è‡ªå‘ç ”ç©¶"></a>è‡ªå‘ç ”ç©¶</h2><p>æˆ‘å…ˆä»‹ç»ä¸€äº›æˆ‘å°è¯•å¹¶æœªæˆåŠŸçš„æ–¹æ³•ã€‚</p><h3 id="ä»å¤´æŠ“åŒ…"><a href="#ä»å¤´æŠ“åŒ…" class="headerlink" title="ä»å¤´æŠ“åŒ…"></a>ä»å¤´æŠ“åŒ…</h3><p>å› ä¸ºæˆ‘ç‚¹å‡»ä¿å­˜åå°±è¿™ä¹ˆå››ä¸ªåŒ…ï¼Œæ‰€ä»¥æˆ‘åœ¨æƒ³verifyä¼šä¸ä¼šåœ¨å‰é¢åŠ è½½ç½‘é¡µæ—¶å°±è·å–äº†ï¼Œæ‰€ä»¥æˆ‘å°è¯•ä»å¤´å¼€å§‹æŠ“åŒ…ã€‚<br><br><br>ç»“æœå½“ç„¶æ˜¯æˆ‘å¤±è´¥äº†ï¼Œå¹¶æ²¡æœ‰æ‰¾åˆ°ä¸€ç‚¹çº¿ç´¢ï¼Œå…¶å®ç†æ€§åˆ†æä¹ŸçŸ¥é“ï¼Œverifyæ˜¯æ ¹æ®å­˜æ¡£æ•°æ®ï¼ˆdataï¼‰ä»¥åŠindexï¼Œtitleç­‰ç»¼åˆåŠ å¯†çš„ï¼ˆæˆ‘æœ‰å°è¯•è¿‡ä¿®æ”¹ä»»ä½•å•ä¸ªæ•°æ®ï¼Œéƒ½æœªæˆåŠŸï¼Œæ‰€ä»¥å¾—å‡ºç»“è®ºverifyæ˜¯æ ¹æ®é™¤è‡ªèº«å¤–æ‰€æœ‰æ•°æ®åŠ å¯†è®¡ç®—å¾—å‡ºçš„ï¼‰</p><h3 id="å¯»æ‰¾js"><a href="#å¯»æ‰¾js" class="headerlink" title="å¯»æ‰¾js"></a>å¯»æ‰¾js</h3><p>æˆ‘å°è¯•åœ¨ç½‘é¡µä¸­å¯»æ‰¾jsï¼Œçœ‹çœ‹æœ‰æ²¡æœ‰ä»€ä¹ˆæ–¹æ³•è°ƒç”¨æ¥è®¡ç®—å‡ºverifyï¼ˆè¿™è¾¹çš„çµæ„Ÿæ¥è‡ªäºé…·å®‰ä¸€ä½å¤§ä½¬åˆ†æçš„æŠ“å–ç™¾åº¦æŒ‡æ•°æ–‡ç« ï¼‰ã€‚<br><br>å¯èƒ½æ˜¯æˆ‘æœ¬èº«æ°´å¹³ä¸å¤Ÿå§ï¼Œæˆ–è€…æœ¬æ¥å°±ä¸åœ¨é¡µé¢jsé‡Œï¼Œæ‰€ä»¥æˆ‘å¹¶æœªæˆåŠŸæ‰¾åˆ°ç›¸å…³å†…å®¹ã€‚<br>å¦‚æœæœ‰äººçœ‹åˆ°è¿™å¯ä»¥è‡ªè¡Œå°è¯•ä¸€ä¸‹</p><h1 id="å¯èƒ½çŒœæµ‹"><a href="#å¯èƒ½çŒœæµ‹" class="headerlink" title="å¯èƒ½çŒœæµ‹"></a>å¯èƒ½çŒœæµ‹</h1><p>ç°åœ¨æˆ‘çš„çŒœæµ‹å¯èƒ½å°±æ˜¯è¿™æ®µverifyè®¡ç®—æ˜¯åœ¨flashå†…å®ç°çš„ï¼ˆçµæ„Ÿæ¥è‡ªäºæ›´æ—©æ®µæ—¶é—´æˆ‘å°è¯•æŠ“å–4399æ‰‹æœºæ¸¸æˆç›’ç™»å½•åŒ…ï¼Œé‡Œé¢ä¹Ÿæœ‰ä¸€æ®µéªŒè¯å’Œå¯†ç åŠ å¯†ï¼Œæœ€åæˆ‘åœ¨è®ºå›ä¸Šçœ‹åˆ°äº†ï¼ŒåŒ…çš„æ•°æ®æ˜¯4399æ¸¸æˆç›’å†…ç½®çš„ç®—æ³•ï¼Œéœ€è¦é€šè¿‡é€†å‘åˆ†æå¾—å‡ºåŠ å¯†çš„keyç„¶åå†åˆ©ç”¨baseåŠ å¯†ï¼‰ã€‚è¿™è¾¹å¤šæä¸€å¥ï¼Œ4399æ¸¸æˆç›’å¯†ç åŠ å¯†ç”¨åˆ°äº†DESåŠ å¯†çš„CBCè§„åˆ™ï¼Œè¿™ä¸ªæˆ‘ä¹Ÿåœ¨å®æˆ˜ä¸­å¤±è´¥äº†ï¼Œå¦‚æœæœ‰æ‡‚å¾—å¤§ä½¬è¯·åŠ¡å¿…è”ç³»æˆ‘ã€‚<br><br>æ‰€ä»¥ç°åœ¨æˆ‘è§‰å¾—éœ€è¦å®ç°çš„æ“ä½œå°±æ˜¯é€†å‘flashå¾—å‡ºé‡Œé¢çš„å…·ä½“åŠ å¯†ç®—æ³•æ‰èƒ½æˆåŠŸè®¡ç®—å‡ºverifyã€‚</p><h1 id="æ”¶è·"><a href="#æ”¶è·" class="headerlink" title="æ”¶è·"></a>æ”¶è·</h1><h2 id="æœ‰ç”¨çš„åŒ…"><a href="#æœ‰ç”¨çš„åŒ…" class="headerlink" title="æœ‰ç”¨çš„åŒ…"></a>æœ‰ç”¨çš„åŒ…</h2><p>æŠ“åŒ…è¿‡ç¨‹ä¸­æˆ‘ä¹Ÿæ”¶è·äº†ä¸€äº›å¯èƒ½è¿˜ç®—èƒ½ç”¨çš„ä¸Šçš„åŒ…<br><img src="https://cdn.jsdelivr.net/gh/liuyunfz/liuyunfz.github.io/img/8.jpg" srcset="/img/loading.gif" alt="avatar"><br><br>æ¯”å¦‚è¿™ä¸ªget_liståŒ…ï¼Œå¥½åƒåªéœ€è¦cookieï¼Œuidå’Œgameidå³å¯è·å¾—æ¸¸æˆçš„å­˜æ¡£ä¿¡æ¯ã€‚<br><br>è¿˜æœ‰ä¸€ä¸ªåŒ…æ˜¯ç‚¹å‡»å­˜æ¡£åï¼Œä¼šæäº¤ä¸€ä¸ªåŒ…è®¿é—®äº‘ç«¯çš„æ•°æ®æ¥è¯»å–dataï¼Œä¹Ÿè¿˜ç®—æœ‰ç”¨</p><h2 id="å…¶ä»–æ”¶è·"><a href="#å…¶ä»–æ”¶è·" class="headerlink" title="å…¶ä»–æ”¶è·"></a>å…¶ä»–æ”¶è·</h2><p>è™½ç„¶æˆ‘æ— æ³•å®ç°å¼€ç¯‡æƒ³è¦çš„å¤åˆ¶å­˜æ¡£åŠŸèƒ½ï¼Œä½†æ˜¯æˆ‘å¯ä»¥é€šè¿‡å®ç°åå¤æäº¤æ¥å®ç°ï¼šå›æ¡£ï¼   è¿™ä¸ªæˆ‘ä¹Ÿæœ‰è¯•è¿‡å¾ˆå¤šæ¬¡ï¼Œverifyä¸ä¼šéšæ—¶é—´å˜åŒ–ï¼Œåªè¦æŠ“ä¸€æ¬¡åŒ…å°±å¯ä»¥ä¸€åŠ³æ°¸é€¸ï¼Œè¿™ä¹Ÿæ›´åŠ ç¡®å®šäº†å‰é¢è¯´çš„verifyæ˜¯æ ¹æ®æäº¤æ•°æ®ç»¼åˆæ¥è®¡ç®—çš„ã€‚</p><h2 id="å‰æ™¯å±•æœ›"><a href="#å‰æ™¯å±•æœ›" class="headerlink" title="å‰æ™¯å±•æœ›"></a>å‰æ™¯å±•æœ›</h2><p>å¦‚æœå¦‚æˆ‘çŒœæµ‹æ‰€æƒ³æ˜¯éšè—åœ¨flashä¸­ï¼Œè¦æ˜¯åœ¨å°†æ¥èƒ½é€†å‘æ”»ç ´ã€‚é‚£ä¹ˆæ ¹æ®åŒ…é‡Œçš„æ•°æ®gameidå’Œgamekeyå¯ä»¥æ¨å‡ºï¼Œæˆ‘ä»¬å¯ä»¥å°†è¿™ä¸ªæ–¹æ³•ä½œç”¨äºæ‰€æœ‰4399éœ€è¦ç™»å½•çš„æ¸¸æˆä¸­ï¼å¹¶ä¸”å®ç°ä»»æ„æ›´æ”¹å­˜æ¡£å†…å®¹ï¼Œå®ç°ä¸€äº›ç†è®ºä¸Šä¸ä¼šå‡ºç°çš„æƒ…å†µã€‚</p><h1 id="å†™åœ¨æœ€å"><a href="#å†™åœ¨æœ€å" class="headerlink" title="å†™åœ¨æœ€å"></a>å†™åœ¨æœ€å</h1><p>è¿™ç¯‡æ–‡ç« æ˜¯æˆ‘ç”¨æ¥åˆ†äº«æˆ‘åœ¨å®é™…æ“ä½œä¸­é‡åˆ°çš„é—®é¢˜ä»¥åŠè·å¾—çš„æ”¶è·ã€‚å¦‚æœä½ å¯¹è¿™ç¯‡æ–‡ç« æœ‰æ‰€çœ‹æ³•æˆ–æœ‰è§£å†³æ–¹æ³•ï¼Œæ¬¢è¿ç»™æˆ‘å¯„é€é‚®ä»¶ï¼Œæˆ–è€…è”ç³»æˆ‘çš„WeChatã€‚<br>å½“è¿™ä¸ªé—®é¢˜è§£å†³åï¼Œæˆ‘ä¼šåœ¨åšå®¢ä¸­å†™å‡ºæˆ‘å¯¹åº”çš„è§£å†³è¿‡ç¨‹ï¼Œå¹¶å°†æ­¤ç¯‡issueçš„æ ‡é¢˜æ”¹ä¸ºå·²è§£å†³ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>issue</category>
      
    </categories>
    
    
    <tags>
      
      <tag>issue</tag>
      
      <tag>4399</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å®æˆ˜ç ´è§£4399HASHéªŒè¯</title>
    <link href="/tutorial/python-spider-4399-hash.html"/>
    <url>/tutorial/python-spider-4399-hash.html</url>
    
    <content type="html"><![CDATA[<h1 id="å‰æ™¯"><a href="#å‰æ™¯" class="headerlink" title="å‰æ™¯"></a>å‰æ™¯</h1><p>4399ä½œä¸ºä¸€ä¸ªå°å‹çš„æ¸¸æˆå¹³å°ï¼Œä»£ç å®‰å…¨ä»¥åŠå¤æ‚æ–¹é¢è¿œä¸åŠBATç­‰å¤§å‹å…¬å¸æ¥çš„éš¾ã€‚å› æ­¤è¢«æˆ‘å½“ä½œçˆ¬è™«çš„çƒ­èº«ç½‘ç«™ã€‚æˆ‘æ›¾æŠŠ4399çš„ç™»å½•åŒ…ï¼Œæ³¨å†ŒåŒ…ï¼Œä»¥åŠä¸€å¤§æ¨çš„è·å–ä¸ªäººä¿¡æ¯åŒ…éƒ½å†™äº†ã€‚ç„¶åæ˜¯è¦å®æˆ˜ä¸€äº›æ¨¡æ‹Ÿæ“ä½œäº†ã€‚<br><br><br>è€Œå½“æˆ‘è½¬å‘å°è¯•å»æ¨¡æ‹Ÿ4399ç¾¤ç»„ä¸­å…³æ³¨ä»–äººæ—¶ï¼Œå´è¢«æ¶å¿ƒåˆ°äº†ï¼Œé™¤äº†å¸¸è§„çš„éªŒè¯ç ï¼Œæäº¤çš„åŒ…ä¸­è¿˜å¤šäº†ä¸€ä¸ªHASHå‚æ•°ã€‚ç•¥æ‡‚ç”µè„‘åŸºç¡€çŸ¥è¯†å¯¹çš„åº”è¯¥éƒ½ä¸é™Œç”Ÿï¼Œè™½ç„¶å¯èƒ½ä¸æ˜¯ä¼ ç»Ÿæ„ä¹‰ä¸Šçš„hashï¼Œä½†å¿…ç„¶æ˜¯ä¸€ä¸²éªŒè¯ä»£ç ã€‚<br><br>è€Œè¿™æ¬¡æˆ‘ä»¬å°±æ¥å®æˆ˜æ”»ç ´4399çš„HASHéªŒè¯ã€‚</p><a id="more"></a><h1 id="å‡†å¤‡"><a href="#å‡†å¤‡" class="headerlink" title="å‡†å¤‡"></a>å‡†å¤‡</h1><blockquote><p><strong>Python[æ¨¡å—ï¼šjson,requests,matplotlib,execjs]</strong><br><strong>Chrome<br>VS Code</strong></p></blockquote><h1 id="æ­£å¼å¼€å§‹"><a href="#æ­£å¼å¼€å§‹" class="headerlink" title="æ­£å¼å¼€å§‹"></a>æ­£å¼å¼€å§‹</h1><p>æˆ‘ä»¬å…ˆå°è¯•ç”¨æµè§ˆå™¨è¿›è¡ŒæŠ“åŒ…åˆ†æã€‚<br><br><img src="https://cdn.jsdelivr.net/gh/liuyunfz/liuyunfz.github.io/img/1.jpg" srcset="/img/loading.gif" alt="avatar"><br><br>å¯ä»¥çœ‹åˆ°å½“æˆ‘ä»¬ç‚¹å‡»å…³æ³¨æ—¶ï¼Œç³»ç»Ÿä¼šå‘é€ä¸€ä¸ªå…³æ³¨åŒ…ï¼Œè¿™æ—¶ä»–ä¼šè‡ªåŠ¨åˆ¤æ–­ï¼ˆç„å­¦ï¼‰æ˜¯å¦éœ€è¦è¾“å…¥éªŒè¯ç ã€‚å¦‚æœéœ€è¦åˆ™ä¼šå†å‘é€ä¸¤ä¸ªåŒ…ï¼Œä¸€ä¸ªæ˜¯å›¾ä¸­çš„geturl?type=zone<br><br><img src="https://cdn.jsdelivr.net/gh/liuyunfz/liuyunfz.github.io/img/2.jpg" srcset="/img/loading.gif" alt="avatar"><br><br>å¯ä»¥çœ‹åˆ°ï¼Œè¿™ä¸ªåŒ…çš„ä½œç”¨æ˜¯è·å¾—éªŒè¯ç çš„åœ°å€ã€‚</p><div class="hljs"><pre><code class="hljs bash">def geturl(cookie):    get_headers=&#123;    <span class="hljs-string">'Accept'</span>: <span class="hljs-string">'application/json, text/javascript, */*; q=0.01'</span>,    <span class="hljs-string">'Accept-Encoding'</span>: <span class="hljs-string">'gzip, deflate'</span>,    <span class="hljs-string">'Accept-Language'</span>: <span class="hljs-string">'en-US,en;q=0.9,zh-CN;q=0.8,zh;q=0.7'</span>,    <span class="hljs-string">'Connection'</span>: <span class="hljs-string">'keep-alive'</span>,    <span class="hljs-string">'Cookie'</span>: cookie,    <span class="hljs-string">'Host'</span>: <span class="hljs-string">'my.4399.com'</span>,    <span class="hljs-string">'Referer'</span>: <span class="hljs-string">'http://my.4399.com/u/2576802349'</span>,    <span class="hljs-string">'User-Agent'</span>: <span class="hljs-string">'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/76.0.3809.100 Safari/537.36'</span>,    <span class="hljs-string">'X-Requested-With'</span>: <span class="hljs-string">'XMLHttpRequest'</span>    &#125;    rsp = requests.get(url=<span class="hljs-string">"http://my.4399.com/plugins/captcha/index-getUrl?type=zone"</span>,headers=get_headers)        url=json.loads(rsp.text)    url = url[<span class="hljs-string">"result"</span>][<span class="hljs-string">"url"</span>]    <span class="hljs-built_in">return</span> url</code></pre></div><p>æ ¹æ®è¿™ä¸ªåŒ…è¿”å›çš„æ ¼å¼æˆ‘ä»¬åˆ¤æ–­å‡ºæ˜¯jsonæ–‡ä»¶ï¼Œæ‰€ä»¥åˆ©ç”¨jsonæ¨¡å—è¿›è¡Œè½¬æ¢ï¼Œç„¶åæŒ‰ç…§æ ¼å¼å–å‡ºåŒ…å«åœ¨å…¶ä¸­çš„URLã€‚<br><br><br>è¿™ä¸ªæ—¶å€™æˆ‘ä»¬è¿˜æ— æ³•çœ‹å‡ºHASHçš„å…·ä½“ä½œç”¨ï¼Œæˆ‘ä»¬è¾“å…¥éªŒè¯ç ç»§ç»­çœ‹çœ‹æäº¤äº†ä»€ä¹ˆ<br><br><img src="https://cdn.jsdelivr.net/gh/liuyunfz/liuyunfz.github.io/img/3.jpg" srcset="/img/loading.gif" alt="avatar"><br><br>å¯ä»¥çœ‹åˆ°ï¼Œå½“æˆ‘ä»¬æäº¤äº†éªŒè¯ç ï¼Œåé¢å¤šäº†ä¸€ä¸ªindex-checkçš„åŒ…ï¼Œå¤§æ¦‚èƒ½çŒœå‡ºæ˜¯éªŒè¯ç éªŒè¯è¿›è¡Œcheckã€‚å…¶ä¸­ä¸‰ä¸ªå‚æ•°ï¼Œtypeï¼šzone.capå°±æ˜¯éªŒè¯ç äº†ï¼Œhashå°±æ˜¯æˆ‘ä»¬è¿™ç¯‡è¦è§£å†³çš„å†…å®¹äº†ã€‚<br><br>æˆ‘ä»¬çŸ¥é“äº†ç”¨å¤„ï¼Œå›å»çœ‹ä¸‹ä¹‹å‰é‚£ä¸ªGET-HASHåŒ…<br><br><img src="https://cdn.jsdelivr.net/gh/liuyunfz/liuyunfz.github.io/img/3.png" srcset="/img/loading.gif" alt="avatar"><br><br>è¿”å›çš„æ˜¯ä¸€å †jsonä»£ç ï¼Œæˆ‘ä»¬å°è¯•åœ¨å‘½ä»¤æç¤ºç¬¦è¿è¡Œï¼Œå¯ä»¥çœ‹åˆ°ï¼Œå®Œç¾ç¬¦åˆæäº¤çš„HASHå€¼ã€‚<br><br><img src="https://cdn.jsdelivr.net/gh/liuyunfz/liuyunfz.github.io/img/4.png" srcset="/img/loading.gif" alt="avatar"><br><br>æ¥ä¸‹æ¥çš„éš¾ç‚¹å°±æ˜¯å¦‚ä½•é€šè¿‡è¿™ä¸ªåŒ…è¿”å›çš„ä»£ç ï¼Œåˆ©ç”¨pythonè®¡ç®—å‡ºhashï¼Œå¦‚æœç›´æ¥æ˜¯jsonä»£ç è¿è¡Œè¿˜å¯ä»¥ï¼Œä½†æ˜¯æˆ‘ä»¬ä»”ç»†è§‚å¯Ÿå¯ä»¥çœ‹å‡ºï¼Œåœ¨è¿”å›çš„ä»£ç ä¸­ï¼Œæœ€åä¸€å¥çš„å¤§è‡´æ„æ€æ˜¯ç»™ç½‘é¡µä¸­IDä¸ºcap_hashçš„å¯¹è±¡èµ‹å€¼hashï¼Œä½†æ˜¯åœ¨pythonä¸­ï¼Œæˆ‘ä»¬å¹¶ä¸ä¼šæœ‰ç›¸å…³çš„å¯¹è±¡ï¼Œæ‰€ä»¥æˆ‘ä»¬å¾—æƒ³åŠæ³•å–å‡ºæˆ‘ä»¬æƒ³è¦çš„ä»£ç ã€‚<br>æˆ‘é¦–å…ˆæƒ³åˆ°çš„æ˜¯è¯»å–è¡Œ</p><div class="hljs"><pre><code class="hljs bash">listd=rsp.text.split(<span class="hljs-string">"\n"</span>)<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> listd:        <span class="hljs-built_in">print</span>(i,<span class="hljs-string">"\n"</span>,<span class="hljs-string">"â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”"</span>)</code></pre></div><p>è¿”å›çš„å°±æœ‰ç‚¹å¥‡æ€ª</p><div class="hljs"><pre><code class="hljs bash">var _4ba4cacd070fe=/*8/<span class="hljs-string">"e0*//*+f c62'c6-*/'_aa6b9'/*3=b8d'*/+/*5'5 3*/'69b11784ed'/*9"</span>b/;*/+/*,-5=4/;+_*/<span class="hljs-string">'a4f581c4'</span>/*;==,<span class="hljs-string">"18*/+/*/'+++9/9-*/'af15edcd1'/*a 48;4,,9*/+ </span><span class="hljs-string"> â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</span><span class="hljs-string">        ''/*8f3c2+2;61*/;var _1eff743fb70c3ef68=/*3+=1+/- 5*/''/*;4ead70"</span>*/;var _f98ed25c1ead835f23e9fa=decodeURIComponent(/*<span class="hljs-string">"4ce8*//*f"</span>+9-,d1c8*/<span class="hljs-string">'%29%00'</span>/*=5--5_6+e8*/+/*f9c0=*/<span class="hljs-string">'%13%16%3'</span>/*<span class="hljs-string">'+d"c2 d*/+/*46 50*/'</span>D%5DU%0CW<span class="hljs-string">'/*/1f7db*/+/*4/d1"9c/d*/'</span>%00%00<span class="hljs-string">'/*'</span>3+<span class="hljs-string">'d54*/+/*c 854*/'</span>R%5BW<span class="hljs-string">'/*9-/b+3*/+/*87-9_;*/'</span>T%05Y%00W<span class="hljs-string">'/*c"'</span>00*/+/*--a;2*/<span class="hljs-string">'%04%0D'</span>/*4ce44_*/+/*a,b94_0_-*/<span class="hljs-string">'RZ%0C%0'</span>/*2_3e+b57f*/+/*_<span class="hljs-string">'__"c-/*/'</span>5%05%0<span class="hljs-string">'/*04+a6 b2,*/+/*=+=42*/'</span>7Q%5DSP<span class="hljs-string">'/*9474e*/+/*'</span>ee5c<span class="hljs-string">'/ad*/'</span>T%06jT%0<span class="hljs-string">'/*a2,";"b 2*/+/*f_- _1d/ef*/'</span>7S__CW%<span class="hljs-string">'/*5b,e6*/+/*638fd*/'</span>01EXXV<span class="hljs-string">'/*5f,+/67-*/+/*946f33*/'</span>%1CL%1F%<span class="hljs-string">'/*f5/9;868f*/+/*;9_;+4-*/'</span>17U%14<span class="hljs-string">'/*-42b210'</span>-*/+/*20<span class="hljs-string">";+*/'%15gRZ%01X'/*3_,a8*/+/*aeb0-*/'VP%03VQ%0'/*,ad39"</span>*/+/* ,01f_2/1<span class="hljs-string">'*/'</span>1%02%01%3<span class="hljs-string">'/*/2590/3a*/+/*5'</span>=57ff,b1*/<span class="hljs-string">'EV%05%0'</span>/*<span class="hljs-string">"208=3/*/+/*0=599/"</span><span class="hljs-string">'*/'</span>2R%0FS%0<span class="hljs-string">'/*79_-1",*/+/*==='</span>9=<span class="hljs-string">'0;e*/'</span>0_%16%16<span class="hljs-string">'/*;7/-3*/+/*=b61;a8-5*/'</span>%0CgW%5CQ<span class="hljs-string">'/*,5b/f554*/+/*90",a7*/'</span>X%04%07<span class="hljs-string">'/*e2/03076*/+/*92/ae-*/'</span>%03%0B%04%<span class="hljs-string">'/*69+0/__2_6*/+/*'</span> fd25_*/<span class="hljs-string">'01RQ%07'</span>/*34a3e,<span class="hljs-string">"*/+/*4-f3251c*/'%06QQTU%01'/*9ec"</span>9 0*/+/*2 8f/f*/<span class="hljs-string">'%08t%'</span>/*d+ 5fef7=*/+/*3c6c3*/<span class="hljs-string">'5CF%07W%0'</span>/*d;92d*/+/*;=4db<span class="hljs-string">'0*/'</span>F%11%<span class="hljs-string">'/*a"182+-de*/+/*5ce 6,,c0*/'</span>02%3DR%0<span class="hljs-string">'/*1=9a7=*/+/*1/;9//255b*/'</span>8%02%01%04<span class="hljs-string">'/*_0+=a/*/+/*a6257+09*/'</span>%04RR%01<span class="hljs-string">'/*5/ 9-*/+/*2,2-;f2*/'</span>%04S%<span class="hljs-string">'/*3,'</span>377*/+/*6<span class="hljs-string">"=6"</span>b*/<span class="hljs-string">'08PTPUV%0'</span>/*929a3d1/*/+/* 1a5cb*/<span class="hljs-string">'7P%5C'</span>/*7a<span class="hljs-string">'0"b*/+/*,_3173+/_*/'</span>O%5EC%0<span class="hljs-string">'/*b846+"96,"*/+/*;c4-23*/'</span>7jWP%0<span class="hljs-string">'/*d8'</span>,99-8a*/+/*8<span class="hljs-string">"='8bb'5,*/'2Z%0A'/*6170/8b,9_*/+/*_be658_*/'%11%02%3D'/*699=-=e*/+/*27f9809*/'R%08%02'/* d97+6105;*/+/*9+36/4+c7*/'%01%04'/*81+"</span>2*/+/*,1; c7=c*/<span class="hljs-string">'%04RR%01'</span>/*6 3,+4;1*/+/*7fd d/d<span class="hljs-string">'b0*/'</span>%04S%<span class="hljs-string">'/*1;0571_*/+/*'</span>a5<span class="hljs-string">'+_+- ,*/'</span>08PTPUV<span class="hljs-string">'/*ab-5e=e*/+/*"5fe e802*/'</span>%07P%5C<span class="hljs-string">'/*e6a2,d*/+/*=+_;ed-*/'</span>O%5ECMfPF<span class="hljs-string">'/*41=b"5*/+/*=24b1'</span>=a*/<span class="hljs-string">'%0D%3'</span>/*70d_9c*/+/*,;_b0;5a*/<span class="hljs-string">'DZ%0F'</span>/*33967*/+/*5+3; */<span class="hljs-string">'%0C%5B%01P'</span>/*,93352f*/+/*4 ,<span class="hljs-string">'0*/'</span>%01%0<span class="hljs-string">'/*+;3+_8+*/+/*5+;0,/ 9ec*/'</span>B%01%07<span class="hljs-string">'/*+ c; */+/*/b;3_6c,*/'</span>%02QUQQ%0C<span class="hljs-string">'/*'</span>b1f54*/+/* 0 2;*/<span class="hljs-string">'%01UQX'</span>/*2ad=3f-*/+/*_ 5240f*/<span class="hljs-string">'M%0C%12P%'</span>/*;4f2d91*/+/*2_d<span class="hljs-string">'8;4*/'</span>05D_n%3CXT<span class="hljs-string">'/*f2d3"*/+/*,38/66cb*/'</span>%0FRX%00%<span class="hljs-string">'/* 3;;_*/+/*;67"6'</span>_1*/<span class="hljs-string">'0AWSW%0'</span>/*a_13_94<span class="hljs-string">'a*/+/*772a_9,*/'</span>7Y%03%<span class="hljs-string">'/*+c+6f6;d-*/+/*d;13a1e66+*/'</span>01PQ%02%0<span class="hljs-string">'/*a+5611*/+/*-"7b2*/'</span>3%0C%13%<span class="hljs-string">'/*86cc"=-*/+/*4f"a'</span>f*/<span class="hljs-string">'0CDQ%'</span>/*ba6b3+;*/+/*bef5<span class="hljs-string">'61*/'</span>04A%0Aj%<span class="hljs-string">'/*6;'</span><span class="hljs-string">"6"</span>a<span class="hljs-string">"/*/+/*3+_f4'6*/'06%5D'/*094/5fc52;*/+/*e"</span>d2b9+97*/<span class="hljs-string">'V%5D%0'</span>/*d064b<span class="hljs-string">"b7eb*/+/*8f3=ae;8*/'1%3EWR%0'/*+=-'4*/+/*_7383a*/'3%00_%06X'/*34;"</span>3,6;8*/+/*44c bca ea*/<span class="hljs-string">'UU%05%07%0'</span>/*+0c5,*/+/*e0d880_3f*/<span class="hljs-string">'EQ%5CO%5C%'</span>/*f0,,f aa9*/+/*a+9a<span class="hljs-string">";,*/'13S%02YWU'/*e6-3,36e"</span>*/+/*0e428,, <span class="hljs-string">"8*/'%05%03S'/*d /119-e'*/+/*3;/d-40c2-*/'%16%0E%3'/*f87/;24b,*/+/*'e bfb,*/'A%07Z'/*/_554*/+/*c6+=588-c_*/'Q%08o%00W'/*=fecc*/+/*ce 3"</span>ce*/<span class="hljs-string">'%05W%5'</span>/*ad1_<span class="hljs-string">"505*/+/*,+a-d*/'BP%09%03'/*6 ee7,;/*/+/*=5-7a0a*/'%06U%03'/*e9df5c*/+/*d=6 1*/'%08%02%'/*cd'915,/31*/+/*'f7b/,d*/'00%5DJ%'/*,3/6d*/+/*4-6b0"</span>6c11*/<span class="hljs-string">'09A%03'</span>/*b9f001*/+/*1,549=5cf */<span class="hljs-string">'%5E%04S%'</span>/*84a6f; */+/*1<span class="hljs-string">'6"/-,"*/'</span>00XVW%07SC<span class="hljs-string">'/*3_9'</span>7<span class="hljs-string">"b 8*/+/*8;_45/0;"</span>9*/<span class="hljs-string">'X%16T'</span>/*1030a/ _ce*/+/*228,ac*/<span class="hljs-string">'%2B%14%13'</span>/*18;_6*/+/*657; ++3<span class="hljs-string">"*/'XBfU%00W%0'/*a+0f  f_9*/+/*7;26,*/'8%01V%0E%0'/*280/09a//*/+/*'aa7 _*/'7P%06'/*/2cc9*/+/*3 b5_*/'%07%0'/*_b9 ==*/+/*4ca/df+*/'4%07%02%'/*_-0/630*/+/*4= ''9d2b-*/'5C%05'/*'d=_3d7b"</span>*/+/*-f<span class="hljs-string">"37cd9*/'S%02%04'/*/=3=de603*/+/*;,5a3*/'_%0AH%5E'/*2f6+'0b3*/+</span><span class="hljs-string"> â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</span><span class="hljs-string">        ''/*eb -1bd1"</span>*/); â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”<span class="hljs-keyword">for</span>(i=0; i&lt;_f98ed25c1ead835f23e9fa.length;i++) â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”_1eff743fb70c3ef68 += String.fromCharCode(_4ba4cacd070fe.charCodeAt(i%_4ba4cacd070fe.length)^_f98ed25c1ead835f23e9fa.charCodeAt(i)); â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”<span class="hljs-built_in">eval</span>(_1eff743fb70c3ef68); â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”document.getElementById(<span class="hljs-string">'cap_hash'</span>).value=_dc5511ecc1a84115c98dc6d8730755fe(); â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</code></pre></div><p>å½“æˆ‘ä»¬å¤šå°è¯•å‡ æ¬¡åï¼Œä¼šå‘ç°è¿”å›çš„ä»£ç æ˜¯å›ºå®šä¸ƒè¡Œï¼Œåªæœ‰ç¬¬ä¸ƒè¡Œæ˜¯æˆ‘ä»¬éœ€è¦è¿›è¡Œä¿®æ”¹çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å°†å‰å…­è¡Œå†™å…¥ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ä¸­</p><div class="hljs"><pre><code class="hljs bash"><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> listd[0:6]:        hashcode_str = hashcode_str + i + <span class="hljs-string">"\n"</span></code></pre></div><p>è¿™è¾¹çš„listdå¥½åƒæœ‰ç‚¹ç±»ä¼¼rangeï¼Œä¹Ÿæ˜¯å·¦é—­å³å¼€ï¼Œæ‰€ä»¥åªèƒ½å–å‡ºå‰6è¡Œã€‚<br>ç„¶åæŠŠè¿™ä¸ªå­—ç¬¦ä¸²ç”¨execjsçš„æ¨¡å—è½¬æ¢ä¸€ä¸‹</p><div class="hljs"><pre><code class="hljs bash">a = execjs.compile(hashcode_str)</code></pre></div><p>ç¬¬ä¸ƒè¡Œå…¶å®æˆ‘ä»¬åªéœ€è¦ç”¨åˆ°åé¢çš„æ–¹æ³•è°ƒç”¨ï¼Œå‰é¢çš„èµ‹å€¼è¯­å¥æ˜¯ä¸éœ€è¦çš„ã€‚è§‚å¯Ÿåˆ†æå…¶å®å‰é¢èµ‹å€¼å¯¹è±¡çš„è¯­å¥åº”è¯¥æ˜¯å›ºå®šçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç›´æ¥é€šè¿‡é•¿åº¦æ¥è¿›è¡Œå–å€¼ï¼Œæˆ‘ç”¨é¼ æ ‡ä¸€ä¸ªä¸ªå­—ç¬¦ä¸²æ•°è¿‡å»çš„ï¼Œæˆ‘ä»¬è¦çš„åˆšå¥½æ˜¯ç¬¬42ä¸ªå­—ç¬¦å¼€å§‹ï¼Œå³â€œ_â€ï¼Œåé¢åˆ™æ˜¯ä¸€ä¸²éšæœºçš„å­—æ¯æ•°å­—ï¼Œæˆ‘ä»¬å–åˆ°åº•å°±å¥½ã€‚<br>è¿™è¾¹è¿˜æœ‰ä¸€ä¸ªæˆ‘åœ¨è¿è¡Œæ—¶é‡åˆ°çš„é—®é¢˜ï¼Œexecjsè°ƒç”¨å‘½ä»¤åï¼Œå¥½åƒç»“å°¾å¹¶ä¸èƒ½åŠ â€:â€,å¦åˆ™ä¼šæŠ¥é”™ï¼Œæ‰€ä»¥åº”è¯¥æ˜¯</p><div class="hljs"><pre><code class="hljs bash">a.eval(listd[6][42:-1])</code></pre></div><p>æ€»çš„è·å–hashä»£ç å°±æ˜¯</p><div class="hljs"><pre><code class="hljs bash">def gethash(cookie):    headers = &#123;    <span class="hljs-string">"User-Agent"</span>: <span class="hljs-string">"Mozilla/5.0 (Windows NT 5.1; U; zh-cn; rv:1.9.1.6) Gecko/20091201 Firefox/3.5.6 Opera 10.70"</span>,    <span class="hljs-string">"Cookie"</span>:cookie    &#125;                            url = <span class="hljs-string">"http://my.4399.com/plugins/captcha/index-getHash?_=1565359334744"</span>    rsp = requests.get(url,headers=headers)    rsp.encoding =<span class="hljs-string">"utf-8"</span>    hashcode_str = <span class="hljs-string">""</span>    listd=rsp.text.split(<span class="hljs-string">"\n"</span>)    sum=0    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> listd[0:6]:        hashcode_str = hashcode_str + i + <span class="hljs-string">"\n"</span>        sum+=1    <span class="hljs-built_in">print</span>(sum)    <span class="hljs-built_in">print</span>(len(listd))    a = execjs.compile(hashcode_str)    <span class="hljs-built_in">return</span> a.eval(listd[6][42:-1])</code></pre></div><p>ç„¶åæˆ‘ä»¬å°±å¯ä»¥å®Œæˆè¿™æ¬¡è¦å®ç°çš„å…³æ³¨æ¨¡æ‹Ÿäº†<br><br><img src="https://cdn.jsdelivr.net/gh/liuyunfz/liuyunfz.github.io/img/5.jpg" srcset="/img/loading.gif" alt="avatar"><br></p>]]></content>
    
    
    
    <tags>
      
      <tag>æ•™ç¨‹</tag>
      
      <tag>python</tag>
      
      <tag>4399</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hello World</title>
    <link href="/diary/hello-world.html"/>
    <url>/diary/hello-world.html</url>
    
    <content type="html"><![CDATA[<p>This is my first blog.<br>Then I will tell you something about this blog.<br>please press â€˜MOREâ€™ boutton</p><a id="more"></a><h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><p>æœ¬åšå®¢åŸºäºhexoï¼Œä¸»é¢˜ä½¿ç”¨çš„æ˜¯<del><a href="https://github.com/litten/hexo-theme-yilia" target="_blank" rel="noopener">yilia</a></del><a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="noopener">fluid</a><br><br>åšå®¢æš‚æ—¶é€šè¿‡GitHubä¸codingè¿›è¡Œè¿è¡Œï¼Œåœ¨å°†æ¥æœ‰ç»æµæ”¶å…¥åå¯èƒ½ä¼šè€ƒè™‘è‡ªè´­ç©ºé—´è¿›è¡Œè½¬ç§»ã€‚</p><h2 id="ç”¨é€”"><a href="#ç”¨é€”" class="headerlink" title="ç”¨é€”"></a>ç”¨é€”</h2><p>æ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢ï¼Œåœ¨è¿™é‡Œæˆ‘ä¼šåˆ†äº«ä¸€äº›æˆ‘åœ¨ç¼–ç¨‹æ—¶é‡åˆ°çš„é—®é¢˜ï¼Œä»¥å°±è§£å†³çš„æ­¥éª¤ï¼Œå¹¶æ€»ç»“ä¸‹å¿ƒå¾—ã€‚å¦‚æœèƒ½å¯¹æ¥åˆ°è¿™çš„ä½ æœ‰æ‰€å¸®åŠ©ï¼Œæˆ‘ä¼šä¸èƒœå–œæ‚¦ã€‚<br>éƒ¨åˆ†æˆ‘è§‰å¾—å¯èƒ½ä¼šæœ‰ç”¨çš„ä»£ç æ–‡ä»¶æˆ‘ä¹Ÿä¼šå¼€æºåœ¨æˆ‘çš„GitHubè´¦å·ä¸Šã€‚</p><h2 id="è”ç³»æˆ‘"><a href="#è”ç³»æˆ‘" class="headerlink" title="è”ç³»æˆ‘"></a>è”ç³»æˆ‘</h2><p>å¦‚æœæ‚¨åœ¨é˜…è¯»é€”ä¸­å‘ç°æˆ‘çš„åšå®¢ä¸­æœ‰æ‰€é”™è¯¯ï¼Œè¯·åŠæ—¶é€šè¿‡<del>å·¦è¾¹</del>å³ä¸Šè§’çš„<strong>å…³äº</strong>ä¸æˆ‘è¿›è¡Œäº¤æµã€‚</p>]]></content>
    
    
    <categories>
      
      <category>diary</category>
      
    </categories>
    
    
  </entry>
  
  
  
  
</search>
